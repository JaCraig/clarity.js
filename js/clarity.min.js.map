{"version":3,"sources":["clarity.min.js"],"names":["Browser","BrowserUtils","Object","defineProperty","get","navigator","userAgent","indexOf","enumerable","configurable","window","location","host","test","domain","getURLParameter","name","decodeURIComponent","RegExp","exec","search","replace","hash","pathname","split","pop","HTMLCollection","prototype","map","callback","ReturnValues","x","this","length","concat","filter","HTMLElement","getParentByClass","className","element","parentElement","hasClass","replaceClass","originalClassName","newClassName","tempClassName","trim","toggleClass","removeClass","addClass","show","hide","attribute","value","setAttribute","getAttribute","NodeList","Types","NumberDictionary","StringDictionary","Framework","Hotkey","Globals","keyMappings","BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","PAUSE","CAPSLOCK","ESCAPE","SPACE","PAGEUP","PAGEDOWN","END","HOME","LEFT","UP","RIGHT","DOWN","INS","DEL","META","*","+","MINUS","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NUMLOCK","SCROLLLOCK",";","=","","-",".","/","`","[","\\","]","'","Keypress","keys","getKeys","keyCode","toUpperCase","charCodeAt","isPressed","keysPressed","Sequence","keyCodes","keyCodeSequence","isDefault","call","event","scope","press","individualCodes","isPartial","Scope","sequences","sort","y","callDefault","defaultItems","addSequence","removeSequence","push","clear","Hotkeys","scopes","currentScope","tagName","target","srcElement","latestKeys","setScope","addScope","tempScope","undefined","removeScope","bind","unbind","currentKey","tempArray","slice","shift","returnValue","altKey","ctrlKey","metaKey","shiftKey","Router","PathPart","part","defaultValues","variable","charAt","optional","defaultValue","isMatch","getValue","setValue","parameters","QueryPart","tempParts","key","HashPart","Route","url","fixUrl","pathParts","getPathParts","queryParts","getQueryParts","hashParts","getHashParts","callbacks","isRoute","addCallback","removeCallback","urlSplit","getParametersFromUrl","run","forEach","DataTypes","RouteData","action","Router_1","routes","route","addRoute","Validation","FormValidation","errors","messageAttributes","initialize","_this","inputElements","document","getElementsByTagName","willValidate","type","addEventListener","inputHandler","invalidInputHandler","textAreaElements","textAreaHandler","invalidTextAreaHandler","selectElements","selectHandler","invalidSelectHandler","initializeForm","form","input","validity","valid","errorMessages","getErrorMessages","setCustomValidity","join","textarea","select","radioGroup","getElementsByName","checkValidity","validate","result","validateInput","validateSelect","textareaElements","validateTextArea","validateForm","tempValue","message","generalMessage","validationMessage","Logging","Signature","params","toString","Function","trace","curr","signature","caller","getName","arguments","i","definition","exp","ErrorLogging","logError","ex","stack","setLoggingFunction","logger","onError","filename","lineno","colno","error","callee","History","PageHistory","back","delta","history","go","forward","state","title","pushState","replaceState","WebStorage","LocalStorage","set","localStorage","setItem","setObject","JSON","stringify","getItem","has","remove","removeItem","index","getObject","parse","SessionStorage","sessionStorage","Closer","Closer_1","getElementsByClassName","close","elementToClose","DropDown","DropDown_1","firstElementChild","preventDefault","elements","Mobile","Mobile_1","menuElements","tempElement","id_1","id","item","menuElement","createElement","href","appendChild","Components","Vue","component","data","initialSectionPicked","sections","sectionPicked","beforeMount","switchSelected","watch","methods","switchTabs","$emit","some","selected","props","Array","template","Clarity","hotkeys","router","validation","errorLogger","closer","dropDown","mobile","onerror","msg","ln","col","clarity","AJAX","Request","method","headers","parser","serializer","makeRequest","post","put","delete","onSuccess","success","accept","setParser","setSerializer","setCredentials","user","password","send","request","XMLHttpRequest","open","encodeURI","property","setRequestHeader","status","responseText","Component","BaseClasses","ComponentBase","dateRegex","computed","filteredData","sortKey","filterKey","toLowerCase","order","sortOrders","row","String","sortFunction","guessDataType","sortString","sortNumber","sortDate","sortMMDDDate","sortDDMMDate","reverse","columns","filters","capitalize","str","filteredColumn","cellText","match","dateParts","first","parseInt","second","sortBy","val1","val2","year","day","month","value1","value2","Date","isNaN","getTime","parseFloat","classes","cssClasses","closeModal","showModal","default","Boolean"],"mappings":"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","file":"clarity.min.js","sourcesContent":["var Browser;\n(function (Browser) {\n    var BrowserUtils = (function () {\n        function BrowserUtils() {\n        }\n        Object.defineProperty(BrowserUtils, \"isOSX\", {\n            get: function () {\n                return ~navigator.userAgent.indexOf(\"Mac OS X\") !== -1;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BrowserUtils, \"domain\", {\n            get: function () {\n                return \"http://\" + window.location.host;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BrowserUtils, \"isLocal\", {\n            get: function () {\n                return (/^http:\\/\\/localhost:\\d{5}$/).test(BrowserUtils.domain);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        BrowserUtils.getURLParameter = function (name) {\n            return decodeURIComponent((new RegExp(\"[?|&]\" + name + \"=\" + \"([^&;]+?)(&|#|;|$)\").exec(location.search) || [, \"\"])[1].replace(/\\+/g, \"%20\")) || null;\n        };\n        Object.defineProperty(BrowserUtils, \"HashBang\", {\n            get: function () {\n                return window.location.hash.replace(\"#!\", \"\");\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(BrowserUtils, \"Id\", {\n            get: function () {\n                return window.location.pathname.split(\"/\").pop();\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return BrowserUtils;\n    }());\n    Browser.BrowserUtils = BrowserUtils;\n})(Browser || (Browser = {}));\nHTMLCollection.prototype.map = function (callback) {\n    var ReturnValues = [];\n    for (var x = 0; x < this.length; ++x) {\n        ReturnValues = ReturnValues.concat(callback(this[x]));\n    }\n    return ReturnValues;\n};\nHTMLCollection.prototype.filter = function (callback) {\n    var ReturnValues = [];\n    for (var x = 0; x < this.length; ++x) {\n        if (callback(this[x])) {\n            ReturnValues = ReturnValues.concat(this[x]);\n        }\n    }\n    return ReturnValues;\n};\nHTMLElement.prototype.getParentByClass = function (className) {\n    var element = this.parentElement;\n    while (element && !element.hasClass(className)) {\n        element = element.parentElement;\n    }\n    return element;\n};\nHTMLElement.prototype.hasClass = function (className) {\n    return (\" \" + this.className + \" \").indexOf(\" \" + className + \" \") > -1;\n};\nHTMLElement.prototype.replaceClass = function (originalClassName, newClassName) {\n    var tempClassName = \" \" + this.className + \" \";\n    if (newClassName === \"\") {\n        this.className = tempClassName.replace(new RegExp(\" \" + originalClassName + \" \", \"gi\"), \" \").trim();\n    }\n    else {\n        this.className = tempClassName.replace(new RegExp(\" \" + originalClassName + \" \", \"gi\"), \" \" + newClassName + \" \").trim();\n    }\n};\nHTMLElement.prototype.toggleClass = function (originalClassName, newClassName) {\n    if (this.hasClass(originalClassName)) {\n        this.replaceClass(originalClassName, newClassName);\n        return;\n    }\n    this.replaceClass(newClassName, originalClassName);\n};\nHTMLElement.prototype.removeClass = function (className) {\n    this.replaceClass(className, \"\");\n};\nHTMLElement.prototype.addClass = function (className) {\n    if (!this.hasClass(className)) {\n        this.className += \" \" + className;\n    }\n};\nHTMLElement.prototype.show = function () {\n    this.replaceClass(\"hidden\", \"show\");\n    this.addClass(\"show\");\n};\nHTMLElement.prototype.hide = function () {\n    this.replaceClass(\"show\", \"hidden\");\n    this.addClass(\"hidden\");\n};\nHTMLElement.prototype.attribute = function (name, value) {\n    if (value === void 0) { value = null; }\n    if (value != null) {\n        this.setAttribute(name, value);\n        return value;\n    }\n    return this.getAttribute(name);\n};\nNodeList.prototype.map = function (callback) {\n    var ReturnValues = [];\n    for (var x = 0; x < this.length; ++x) {\n        ReturnValues = ReturnValues.concat(callback(this[x]));\n    }\n    return ReturnValues;\n};\nNodeList.prototype.filter = function (callback) {\n    var ReturnValues = [];\n    for (var x = 0; x < this.length; ++x) {\n        if (callback(this[x])) {\n            ReturnValues = ReturnValues.concat(this[x]);\n        }\n    }\n    return ReturnValues;\n};\nvar Types;\n(function (Types) {\n    var NumberDictionary = (function () {\n        function NumberDictionary() {\n        }\n        return NumberDictionary;\n    }());\n    Types.NumberDictionary = NumberDictionary;\n})(Types || (Types = {}));\nvar Types;\n(function (Types) {\n    var StringDictionary = (function () {\n        function StringDictionary() {\n        }\n        return StringDictionary;\n    }());\n    Types.StringDictionary = StringDictionary;\n})(Types || (Types = {}));\nvar Framework;\n(function (Framework) {\n    var Hotkey;\n    (function (Hotkey) {\n        var Globals = (function () {\n            function Globals() {\n            }\n            Globals.keyMappings = {\n                'BACKSPACE': 8,\n                'TAB': 9,\n                'ENTER': 13,\n                'SHIFT': 16,\n                'CTRL': 17,\n                'ALT': 18,\n                'PAUSE': 19,\n                'CAPSLOCK': 20,\n                'ESCAPE': 27,\n                'SPACE': 32,\n                'PAGEUP': 33,\n                'PAGEDOWN': 34,\n                'END': 35,\n                'HOME': 36,\n                'LEFT': 37,\n                'UP': 38,\n                'RIGHT': 39,\n                'DOWN': 40,\n                'INS': 45,\n                'DEL': 46,\n                'META': 91,\n                '*': 106,\n                '+': 107,\n                'MINUS': 109,\n                'F1': 112,\n                'F2': 113,\n                'F3': 114,\n                'F4': 115,\n                'F5': 116,\n                'F6': 117,\n                'F7': 118,\n                'F8': 119,\n                'F9': 120,\n                'F10': 121,\n                'F11': 122,\n                'F12': 123,\n                'NUMLOCK': 144,\n                'SCROLLLOCK': 145,\n                ';': 186,\n                '=': 187,\n                '': 188,\n                '-': 189,\n                '.': 190,\n                '/': 191,\n                '`': 192,\n                '[': 219,\n                '\\\\': 220,\n                ']': 221,\n                \"'\": 222\n            };\n            return Globals;\n        }());\n        Hotkey.Globals = Globals;\n    })(Hotkey = Framework.Hotkey || (Framework.Hotkey = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Hotkey;\n    (function (Hotkey) {\n        var Keypress = (function () {\n            function Keypress(keys) {\n                this.keys = this.getKeys(keys);\n            }\n            Keypress.prototype.getKeys = function (keyCode) {\n                return keyCode.toUpperCase().split(/-(?!$)/).map(function (x) { return Hotkey.Globals.keyMappings[x] || x.charCodeAt(0); });\n            };\n            Keypress.prototype.isPressed = function (keyCode) {\n                var keysPressed = keyCode;\n                if (keysPressed.length !== this.keys.length) {\n                    return false;\n                }\n                for (var x = 0; x < keysPressed.length; ++x) {\n                    if (this.keys.indexOf(keysPressed[x]) === -1) {\n                        return false;\n                    }\n                }\n                return true;\n            };\n            return Keypress;\n        }());\n        Hotkey.Keypress = Keypress;\n    })(Hotkey = Framework.Hotkey || (Framework.Hotkey = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Hotkey;\n    (function (Hotkey) {\n        var Sequence = (function () {\n            function Sequence(keyCodes, callback) {\n                this.keyCodeSequence = keyCodes.toUpperCase();\n                this.keyCodes = keyCodes.toUpperCase().split(\" \").map(function (x) { return new Hotkey.Keypress(x); });\n                this.callback = callback;\n                this.length = this.keyCodes.length;\n                this.isDefault = \"<*>\" === keyCodes;\n            }\n            Sequence.prototype.call = function (keyCodes, event, scope) {\n                this.callback(event, { scope: scope, keysPressed: keyCodes });\n                return true;\n            };\n            Sequence.prototype.press = function (keyCodes, event, scope) {\n                var individualCodes = keyCodes;\n                if (individualCodes.length !== this.length) {\n                    return false;\n                }\n                for (var x = 0; x < this.keyCodes.length; ++x) {\n                    if (!this.keyCodes[x].isPressed(individualCodes[x])) {\n                        return false;\n                    }\n                }\n                return this.call(keyCodes, event, scope);\n            };\n            Sequence.prototype.isPartial = function (keyCodes) {\n                var individualCodes = keyCodes;\n                if (individualCodes.length > this.length) {\n                    return false;\n                }\n                for (var x = 0; x < individualCodes.length; ++x) {\n                    if (!this.keyCodes[x].isPressed(individualCodes[x])) {\n                        return false;\n                    }\n                }\n                return true;\n            };\n            return Sequence;\n        }());\n        Hotkey.Sequence = Sequence;\n    })(Hotkey = Framework.Hotkey || (Framework.Hotkey = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Hotkey;\n    (function (Hotkey) {\n        var Scope = (function () {\n            function Scope(name) {\n                this.name = name;\n                this.sequences = [];\n            }\n            Scope.prototype.press = function (keyCodes, event) {\n                this.sequences = this.sequences.sort(function (x, y) { return x.length > y.length ? 1 : -1; });\n                for (var x = 0; x < this.sequences.length; ++x) {\n                    if (this.sequences[x].press(keyCodes, event, this)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n            Scope.prototype.callDefault = function (keyCodes, event) {\n                var defaultItems = this.sequences.filter(function (x) { return x.isDefault; });\n                if (defaultItems.length === 0) {\n                    return false;\n                }\n                return defaultItems[0].call(keyCodes, event, this);\n            };\n            Scope.prototype.isPartial = function (keyCodes) {\n                for (var x = 0; x < this.sequences.length; ++x) {\n                    if (this.sequences[x].isPartial(keyCodes)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n            Scope.prototype.addSequence = function (keyCodes, callback) {\n                this.removeSequence(keyCodes);\n                this.sequences.push(new Hotkey.Sequence(keyCodes, callback));\n                return this;\n            };\n            Scope.prototype.removeSequence = function (keyCodes) {\n                this.sequences = this.sequences.filter(function (x) { return x.keyCodeSequence !== keyCodes.toUpperCase(); });\n                return this;\n            };\n            Scope.prototype.clear = function () {\n                this.sequences = [];\n                return this;\n            };\n            return Scope;\n        }());\n        Hotkey.Scope = Scope;\n    })(Hotkey = Framework.Hotkey || (Framework.Hotkey = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Hotkey;\n    (function (Hotkey) {\n        var Hotkeys = (function () {\n            function Hotkeys() {\n                this.scopes = {};\n                this.scopes[\"Default\"] = new Hotkey.Scope(\"Default\");\n                this.currentScope = this.scopes[\"Default\"];\n                this.filter = function (x) {\n                    var tagName = (x.target || x.srcElement).tagName;\n                    return tagName !== \"INPUT\"\n                        && tagName !== \"SELECT\"\n                        && tagName !== \"TEXTAREA\";\n                };\n                this.latestKeys = [];\n            }\n            Hotkeys.prototype.setScope = function (name) {\n                var scope = this.addScope(name);\n                this.currentScope = scope;\n                return scope;\n            };\n            Hotkeys.prototype.addScope = function (name) {\n                var tempScope = this.scopes[name];\n                if (tempScope !== undefined) {\n                    return tempScope;\n                }\n                tempScope = new Hotkey.Scope(name);\n                this.scopes[name] = tempScope;\n                return tempScope;\n            };\n            Hotkeys.prototype.removeScope = function (name) {\n                this.scopes[name] = undefined;\n                if (name === \"Default\") {\n                    this.scopes[\"Default\"] = new Hotkey.Scope(\"Default\");\n                }\n                if (this.currentScope.name === name) {\n                    this.currentScope = this.scopes[\"Default\"];\n                }\n                return this;\n            };\n            Hotkeys.prototype.clear = function () {\n                this.scopes = {};\n                this.scopes[\"Default\"] = new Hotkey.Scope(\"Default\");\n                this.currentScope = this.scopes[\"Default\"];\n                this.latestKeys = [];\n                return this;\n            };\n            Hotkeys.prototype.bind = function (keyCodes, callback) {\n                this.currentScope.addSequence(keyCodes, callback);\n                return this;\n            };\n            Hotkeys.prototype.unbind = function (keyCodes) {\n                this.currentScope.removeSequence(keyCodes);\n                return this;\n            };\n            Hotkeys.prototype.press = function (event) {\n                if (!(this.filter(event))) {\n                    return;\n                }\n                var currentKey = this.getKeys(event);\n                this.latestKeys.push(currentKey);\n                var tempArray = this.latestKeys.slice();\n                if (this.currentScope.press(this.latestKeys, event)) {\n                    this.latestKeys = [];\n                }\n                else {\n                    while (this.latestKeys.length > 0) {\n                        if (this.currentScope.isPartial(this.latestKeys)) {\n                            return;\n                        }\n                        this.latestKeys.shift();\n                    }\n                    if (this.latestKeys.length === 0) {\n                        this.currentScope.callDefault(tempArray, event);\n                    }\n                }\n            };\n            Hotkeys.prototype.getKeys = function (event) {\n                var returnValue = [];\n                if (event.altKey) {\n                    returnValue.push(Hotkey.Globals.keyMappings[\"ALT\"]);\n                }\n                if (event.ctrlKey) {\n                    returnValue.push(Hotkey.Globals.keyMappings[\"CTRL\"]);\n                }\n                if (event.metaKey) {\n                    returnValue.push(Hotkey.Globals.keyMappings[\"META\"]);\n                }\n                if (event.shiftKey) {\n                    returnValue.push(Hotkey.Globals.keyMappings[\"SHIFT\"]);\n                }\n                if (returnValue.indexOf(event.keyCode) === -1) {\n                    returnValue.push(event.keyCode);\n                }\n                return returnValue;\n            };\n            return Hotkeys;\n        }());\n        Hotkey.Hotkeys = Hotkeys;\n    })(Hotkey = Framework.Hotkey || (Framework.Hotkey = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Router;\n    (function (Router) {\n        var PathPart = (function () {\n            function PathPart(part, defaultValues) {\n                this.variable = part.charAt(0) === '{' && part.charAt(part.length - 1) === '}';\n                part = part.replace(/[{}]/g, '');\n                this.optional = part.charAt(0) === '^';\n                this.part = part.replace(/[\\^]/g, '');\n                if (defaultValues[this.part] !== undefined) {\n                    this.defaultValue = defaultValues[this.part];\n                }\n                else {\n                    this.defaultValue = '';\n                }\n            }\n            PathPart.prototype.isMatch = function (part) {\n                if (part === undefined || part === null) {\n                    return this.optional;\n                }\n                part = part;\n                if (this.variable) {\n                    return this.optional || part !== '';\n                }\n                return this.optional || part.toUpperCase() === this.part.toUpperCase();\n            };\n            PathPart.prototype.getValue = function (part) {\n                if (!this.variable) {\n                    return part || this.defaultValue;\n                }\n                if (part !== undefined) {\n                    return part || this.defaultValue;\n                }\n                else {\n                    return this.defaultValue;\n                }\n            };\n            PathPart.prototype.setValue = function (part, parameters) {\n                var tempValue = this.getValue(part);\n                parameters[this.part] = this.getValue(part);\n            };\n            return PathPart;\n        }());\n        Router.PathPart = PathPart;\n    })(Router = Framework.Router || (Framework.Router = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Router;\n    (function (Router) {\n        var QueryPart = (function () {\n            function QueryPart(part, defaultValues) {\n                var tempParts = part.split(\"=\", 2);\n                this.key = tempParts[0];\n                part = tempParts[1];\n                this.variable = part.charAt(0) === \"{\" && part.charAt(part.length - 1) === \"}\";\n                part = part.replace(/[{}]/g, \"\");\n                this.optional = part.charAt(0) === \"^\";\n                this.part = part.replace(/[\\^]/g, \"\");\n                if (defaultValues[this.part] !== undefined) {\n                    this.defaultValue = defaultValues[this.part];\n                }\n                else {\n                    this.defaultValue = \"\";\n                }\n            }\n            QueryPart.prototype.isMatch = function (part) {\n                if (part === undefined || part === null) {\n                    return false;\n                }\n                var tempParts = part.split(\"=\", 2);\n                if (tempParts.length !== 2) {\n                    return false;\n                }\n                if (this.key.toUpperCase() !== tempParts[0].toUpperCase()) {\n                    return false;\n                }\n                part = tempParts[1];\n                if (part === undefined) {\n                    return this.optional;\n                }\n                if (this.variable) {\n                    return this.optional || part !== \"\";\n                }\n                return this.optional || part.toUpperCase() === this.part.toUpperCase();\n            };\n            QueryPart.prototype.getValue = function (part) {\n                if (part === undefined || part === null) {\n                    return this.defaultValue;\n                }\n                var tempParts = part.split(\"=\", 2);\n                if (tempParts.length !== 2) {\n                    return this.defaultValue;\n                }\n                part = tempParts[1];\n                if (!this.variable) {\n                    return part || this.defaultValue;\n                }\n                if (part !== undefined) {\n                    return part || this.defaultValue;\n                }\n                else {\n                    return this.defaultValue;\n                }\n            };\n            QueryPart.prototype.setValue = function (part, parameters) {\n                var tempValue = this.getValue(part);\n                parameters[this.key] = this.getValue(part);\n            };\n            return QueryPart;\n        }());\n        Router.QueryPart = QueryPart;\n    })(Router = Framework.Router || (Framework.Router = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Router;\n    (function (Router) {\n        var HashPart = (function () {\n            function HashPart(part, defaultValues) {\n                part = part.replace(/[#!]/g, \"\");\n                this.variable = part.charAt(0) === \"{\" && part.charAt(part.length - 1) === \"}\";\n                part = part.replace(/[{}]/g, \"\");\n                this.optional = part.charAt(0) === \"^\";\n                this.part = part.replace(/[\\^]/g, \"\");\n                if (defaultValues[this.part] !== undefined) {\n                    this.defaultValue = defaultValues[this.part];\n                }\n                else {\n                    this.defaultValue = \"\";\n                }\n            }\n            HashPart.prototype.isMatch = function (part) {\n                if (part === undefined || part === null) {\n                    return this.optional;\n                }\n                part = part.replace(/[#!]/g, \"\");\n                if (this.variable) {\n                    return this.optional || part !== \"\";\n                }\n                return this.optional || part.toUpperCase() === this.part.toUpperCase();\n            };\n            HashPart.prototype.getValue = function (part) {\n                if (!this.variable) {\n                    return part || this.defaultValue;\n                }\n                if (part !== undefined) {\n                    return part || this.defaultValue;\n                }\n                else {\n                    return this.defaultValue;\n                }\n            };\n            HashPart.prototype.setValue = function (part, parameters) {\n                part = part ? part : \"\";\n                part = part.replace(/[#!]/g, \"\");\n                parameters[this.part] = this.getValue(part);\n            };\n            return HashPart;\n        }());\n        Router.HashPart = HashPart;\n    })(Router = Framework.Router || (Framework.Router = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Router;\n    (function (Router) {\n        var Route = (function () {\n            function Route(url, callback, defaultValues) {\n                if (defaultValues === undefined) {\n                    defaultValues = new Types.StringDictionary();\n                }\n                this.url = this.fixUrl(url);\n                this.pathParts = this.getPathParts(this.url).map(function (x) { return new Router.PathPart(x, defaultValues); });\n                this.pathParts = this.pathParts ? this.pathParts : [];\n                this.queryParts = this.getQueryParts(this.url).map(function (x) { return new Router.QueryPart(x, defaultValues); });\n                this.queryParts = this.queryParts ? this.queryParts : [];\n                this.hashParts = this.getHashParts(this.url).map(function (x) { return new Router.HashPart(x, defaultValues); });\n                this.hashParts = this.hashParts ? this.hashParts : [];\n                this.callbacks = [callback];\n                this.defaultValues = defaultValues;\n            }\n            Route.prototype.isRoute = function (url) {\n                return this.url === this.fixUrl(url);\n            };\n            Route.prototype.addCallback = function (callback) {\n                this.callbacks.push(callback);\n            };\n            Route.prototype.removeCallback = function (callback) {\n                this.callbacks = this.callbacks.filter(function (x) { return x !== callback; });\n            };\n            Route.prototype.fixUrl = function (url) {\n                if (!url.length) {\n                    return url;\n                }\n                return url.replace(/^\\//, \"\").replace(/\\/+/g, \"/\").replace(/^\\/|\\/($|\\?)/, \"\").replace(/\\/\\#/g, \"#\");\n            };\n            Route.prototype.getPathParts = function (url) {\n                return url.split(\"?\", 2)[0].split(\"#\", 2)[0].split(\"/\");\n            };\n            Route.prototype.getHashParts = function (url) {\n                var urlSplit = url.split(\"?\", 2)[0].split(\"#\", 2);\n                return (urlSplit.length < 2) ? [] : [urlSplit[1].replace(\"!\", \"\")];\n            };\n            Route.prototype.getQueryParts = function (url) {\n                var urlSplit = url.split(\"?\", 2);\n                if (urlSplit.length < 2) {\n                    return [];\n                }\n                url = urlSplit[1];\n                return url ? url.split(\"&\") : [];\n            };\n            Route.prototype.getParametersFromUrl = function (pathParts, queryParts, hashParts) {\n                var parameters = new Types.StringDictionary();\n                for (var x = 0; x < pathParts.length; ++x) {\n                    this.pathParts[x].setValue(pathParts[x], parameters);\n                }\n                for (var x = 0; x < queryParts.length; ++x) {\n                    this.queryParts[x].setValue(queryParts[x], parameters);\n                }\n                for (var x = 0; x < hashParts.length; ++x) {\n                    this.hashParts[x].setValue(hashParts[x], parameters);\n                }\n                if (this.pathParts.length > pathParts.length) {\n                    for (var x = pathParts.length; x < this.pathParts.length; ++x) {\n                        this.pathParts[x].setValue(\"\", parameters);\n                    }\n                }\n                if (this.queryParts.length > queryParts.length) {\n                    for (var x = queryParts.length; x < this.queryParts.length; ++x) {\n                        this.queryParts[x].setValue(\"\", parameters);\n                    }\n                }\n                if (this.hashParts.length > hashParts.length) {\n                    for (var x = hashParts.length; x < this.hashParts.length; ++x) {\n                        this.hashParts[x].setValue(\"\", parameters);\n                    }\n                }\n                return parameters;\n            };\n            Route.prototype.isMatch = function (pathParts, queryParts, hashParts) {\n                if (this.pathParts.length < pathParts.length) {\n                    return false;\n                }\n                for (var x = 0; x < pathParts.length; ++x) {\n                    if (!this.pathParts[x].isMatch(pathParts[x])) {\n                        return false;\n                    }\n                }\n                if (this.pathParts.length > pathParts.length) {\n                    for (var x = pathParts.length; x < this.pathParts.length; ++x) {\n                        if (!this.pathParts[x].isMatch(\"\")) {\n                            return false;\n                        }\n                    }\n                }\n                if (this.queryParts.length < queryParts.length) {\n                    return false;\n                }\n                for (var x = 0; x < queryParts.length; ++x) {\n                    if (!this.queryParts[x].isMatch(queryParts[x])) {\n                        return false;\n                    }\n                }\n                if (this.queryParts.length > queryParts.length) {\n                    for (var x = queryParts.length; x < this.queryParts.length; ++x) {\n                        if (!this.queryParts[x].isMatch(\"\")) {\n                            return false;\n                        }\n                    }\n                }\n                if (this.hashParts.length < hashParts.length) {\n                    return false;\n                }\n                for (var x = 0; x < hashParts.length; ++x) {\n                    if (!this.hashParts[x].isMatch(hashParts[x])) {\n                        return false;\n                    }\n                }\n                if (this.hashParts.length > hashParts.length) {\n                    for (var x = hashParts.length; x < this.hashParts.length; ++x) {\n                        if (!this.hashParts[x].isMatch(\"\")) {\n                            return false;\n                        }\n                    }\n                }\n                return true;\n            };\n            Route.prototype.run = function (url) {\n                url = this.fixUrl(url);\n                var pathParts = this.getPathParts(url);\n                var queryParts = this.getQueryParts(url);\n                var hashParts = this.getHashParts(url);\n                if (!this.isMatch(pathParts, queryParts, hashParts)) {\n                    return false;\n                }\n                var parameters = this.getParametersFromUrl(pathParts, queryParts, hashParts);\n                parameters[\"url\"] = url;\n                this.callbacks.forEach(function (x) { return x(parameters); });\n                return true;\n            };\n            return Route;\n        }());\n        Router.Route = Route;\n    })(Router = Framework.Router || (Framework.Router = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Router;\n    (function (Router) {\n        var DataTypes;\n        (function (DataTypes) {\n            var RouteData = (function () {\n                function RouteData(url, action, defaultValues) {\n                    this.url = url;\n                    this.action = action;\n                    this.defaultValues = defaultValues;\n                }\n                return RouteData;\n            }());\n            DataTypes.RouteData = RouteData;\n        })(DataTypes = Router.DataTypes || (Router.DataTypes = {}));\n    })(Router = Framework.Router || (Framework.Router = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Router;\n    (function (Router_1) {\n        var Router = (function () {\n            function Router() {\n                this.routes = [];\n            }\n            Router.prototype.map = function (route) {\n                for (var x = 0; x < route.length; ++x) {\n                    this.addRoute(route[x].url, route[x].action, route[x].defaultValues);\n                }\n            };\n            Router.prototype.addRoute = function (url, callback, defaultValues) {\n                var routes = this.routes.filter(function (x) { return x.isRoute(url); });\n                if (routes.length === 0) {\n                    this.routes.push(new Router_1.Route(url, callback, defaultValues));\n                }\n                else {\n                    routes[0].addCallback(callback);\n                }\n                return this;\n            };\n            Router.prototype.run = function (url) {\n                for (var x = 0; x < this.routes.length; ++x) {\n                    if (this.routes[x].run(url)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n            return Router;\n        }());\n        Router_1.Router = Router;\n    })(Router = Framework.Router || (Framework.Router = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Validation;\n    (function (Validation) {\n        var FormValidation = (function () {\n            function FormValidation() {\n                this.errors = [];\n                this.messageAttributes = {};\n                this.messageAttributes[\"patternMismatch\"] = \"data-error-message-pattern-mismatch\";\n                this.messageAttributes[\"rangeOverflow\"] = \"data-error-message-range-overflow\";\n                this.messageAttributes[\"rangeUnderflow\"] = \"data-error-message-range-underflow\";\n                this.messageAttributes[\"stepMismatch\"] = \"data-error-message-step-mismatch\";\n                this.messageAttributes[\"tooLong\"] = \"data-error-message-too-long\";\n                this.messageAttributes[\"badInput\"] = \"data-error-message-bad-input\";\n                this.messageAttributes[\"typeMismatch\"] = \"data-error-message-type-mismatch\";\n                this.messageAttributes[\"valueMissing\"] = \"data-error-message-value-missing\";\n            }\n            FormValidation.prototype.initialize = function () {\n                var _this = this;\n                var inputElements = document.getElementsByTagName(\"input\").map(function (x) { return x; }).filter(function (x) { return x.willValidate; });\n                for (var x = 0; x < inputElements.length; ++x) {\n                    if (inputElements[x].type.toUpperCase() === \"RADIO\"\n                        || inputElements[x].type.toUpperCase() === \"CHECKBOX\") {\n                        inputElements[x].addEventListener(\"change\", function (x) { return _this.inputHandler(x.target); });\n                    }\n                    else {\n                        inputElements[x].addEventListener(\"input\", function (x) { return _this.inputHandler(x.target); });\n                    }\n                    inputElements[x].addEventListener(\"invalid\", function (x) { return _this.invalidInputHandler(x.target); });\n                }\n                var textAreaElements = document.getElementsByTagName(\"textarea\").map(function (x) { return x; }).filter(function (x) { return x.willValidate; });\n                for (var x = 0; x < textAreaElements.length; ++x) {\n                    textAreaElements[x].addEventListener(\"change\", function (x) { return _this.textAreaHandler(x.target); });\n                    textAreaElements[x].addEventListener(\"invalid\", function (x) { return _this.invalidTextAreaHandler(x.target); });\n                }\n                var selectElements = document.getElementsByTagName(\"select\").map(function (x) { return x; }).filter(function (x) { return x.willValidate; });\n                for (var x = 0; x < selectElements.length; ++x) {\n                    selectElements[x].addEventListener(\"change\", function (x) { return _this.selectHandler(x.target); });\n                    selectElements[x].addEventListener(\"invalid\", function (x) { return _this.invalidSelectHandler(x.target); });\n                }\n            };\n            FormValidation.prototype.initializeForm = function (form) {\n                var _this = this;\n                var inputElements = form.getElementsByTagName(\"input\").map(function (x) { return x; }).filter(function (x) { return x.willValidate; });\n                for (var x = 0; x < inputElements.length; ++x) {\n                    if (inputElements[x].type.toUpperCase() === \"RADIO\"\n                        || inputElements[x].type.toUpperCase() === \"CHECKBOX\") {\n                        inputElements[x].addEventListener(\"change\", function (x) { return _this.inputHandler(x.target); });\n                    }\n                    else {\n                        inputElements[x].addEventListener(\"input\", function (x) { return _this.inputHandler(x.target); });\n                    }\n                    inputElements[x].addEventListener(\"invalid\", function (x) { return _this.invalidInputHandler(x.target); });\n                }\n                var textAreaElements = form.getElementsByTagName(\"textarea\").map(function (x) { return x; }).filter(function (x) { return x.willValidate; });\n                for (var x = 0; x < textAreaElements.length; ++x) {\n                    textAreaElements[x].addEventListener(\"change\", function (x) { return _this.textAreaHandler(x.target); });\n                    textAreaElements[x].addEventListener(\"invalid\", function (x) { return _this.invalidTextAreaHandler(x.target); });\n                }\n                var selectElements = form.getElementsByTagName(\"select\").map(function (x) { return x; }).filter(function (x) { return x.willValidate; });\n                for (var x = 0; x < selectElements.length; ++x) {\n                    selectElements[x].addEventListener(\"change\", function (x) { return _this.selectHandler(x.target); });\n                    selectElements[x].addEventListener(\"invalid\", function (x) { return _this.invalidSelectHandler(x.target); });\n                }\n            };\n            FormValidation.prototype.invalidInputHandler = function (input) {\n                if (!input.validity.valid) {\n                    var errorMessages = this.getErrorMessages(input, input.validity);\n                    if (errorMessages.length > 0) {\n                        input.setCustomValidity(errorMessages.join(\"\\n\"));\n                    }\n                }\n            };\n            FormValidation.prototype.invalidTextAreaHandler = function (textarea) {\n                if (!textarea.validity.valid) {\n                    var errorMessages = this.getErrorMessages(textarea, textarea.validity);\n                    if (errorMessages.length > 0) {\n                        textarea.setCustomValidity(errorMessages.join(\"\\n\"));\n                    }\n                }\n            };\n            FormValidation.prototype.invalidSelectHandler = function (select) {\n                if (!select.validity.valid) {\n                    var errorMessages = this.getErrorMessages(select, select.validity);\n                    if (errorMessages.length > 0) {\n                        select.setCustomValidity(errorMessages.join(\"\\n\"));\n                    }\n                }\n            };\n            FormValidation.prototype.inputHandler = function (input) {\n                if (input.type.toUpperCase() === \"RADIO\") {\n                    var radioGroup = document.getElementsByName(input.name).map(function (x) { return x; });\n                    for (var x = 0; x < radioGroup.length; ++x) {\n                        radioGroup[x].setCustomValidity(\"\");\n                    }\n                }\n                else {\n                    input.setCustomValidity(\"\");\n                }\n                input.checkValidity();\n            };\n            FormValidation.prototype.textAreaHandler = function (textarea) {\n                textarea.setCustomValidity(\"\");\n                textarea.checkValidity();\n            };\n            FormValidation.prototype.selectHandler = function (select) {\n                select.setCustomValidity(\"\");\n                select.checkValidity();\n            };\n            FormValidation.prototype.validate = function () {\n                var _this = this;\n                var result = true;\n                this.errors = [];\n                var inputElements = document.getElementsByTagName(\"input\")\n                    .filter(function (x) { return !_this.validateInput(x); });\n                result = result && inputElements.length === 0;\n                var selectElements = document.getElementsByTagName(\"select\")\n                    .filter(function (x) { return !_this.validateSelect(x); });\n                result = result && selectElements.length === 0;\n                var textareaElements = document.getElementsByTagName(\"textarea\")\n                    .filter(function (x) { return !_this.validateTextArea(x); });\n                result = result && textareaElements.length === 0;\n                return result;\n            };\n            FormValidation.prototype.validateForm = function (form) {\n                var _this = this;\n                var result = true;\n                this.errors = [];\n                var inputElements = form.getElementsByTagName(\"input\")\n                    .filter(function (x) { return !_this.validateInput(x); });\n                result = result && inputElements.length === 0;\n                var selectElements = form.getElementsByTagName(\"select\")\n                    .filter(function (x) { return !_this.validateSelect(x); });\n                result = result && selectElements.length === 0;\n                var textareaElements = form.getElementsByTagName(\"textarea\")\n                    .filter(function (x) { return !_this.validateTextArea(x); });\n                result = result && textareaElements.length === 0;\n                return result;\n            };\n            FormValidation.prototype.validateSelect = function (select) {\n                if (!select.checkValidity()) {\n                    var tempValue = this.getErrorMessages(select, select.validity);\n                    if (tempValue.length !== 0) {\n                        this.errors = this.errors.concat(tempValue);\n                    }\n                    return false;\n                }\n                return true;\n            };\n            FormValidation.prototype.validateTextArea = function (textarea) {\n                if (!textarea.checkValidity()) {\n                    var tempValue = this.getErrorMessages(textarea, textarea.validity);\n                    if (tempValue.length !== 0) {\n                        this.errors = this.errors.concat(tempValue);\n                    }\n                    return false;\n                }\n                return true;\n            };\n            FormValidation.prototype.getErrorMessages = function (element, validity) {\n                var tempValue = [];\n                for (var key in this.messageAttributes) {\n                    if (validity[key]) {\n                        var message = element.attribute(this.messageAttributes[key]);\n                        if (message !== null) {\n                            tempValue = tempValue.concat(message);\n                        }\n                    }\n                }\n                if (tempValue.length === 0) {\n                    var generalMessage = element.attribute(\"data-error-message\");\n                    if (generalMessage !== null) {\n                        tempValue = tempValue.concat(generalMessage);\n                    }\n                    else {\n                        tempValue = tempValue.concat(element.validationMessage);\n                    }\n                }\n                return tempValue;\n            };\n            FormValidation.prototype.validateInput = function (input) {\n                if (!input.checkValidity()) {\n                    var tempValue = this.getErrorMessages(input, input.validity);\n                    if (tempValue.length !== 0) {\n                        this.errors = this.errors.concat(tempValue);\n                    }\n                    return false;\n                }\n                return true;\n            };\n            return FormValidation;\n        }());\n        Validation.FormValidation = FormValidation;\n    })(Validation = Framework.Validation || (Framework.Validation = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var Logging;\n    (function (Logging) {\n        var Signature = (function () {\n            function Signature() {\n                this.params = [];\n            }\n            Signature.prototype.toString = function () {\n                var params = this.params.length > 0\n                    ? \"'\" + this.params.join(\"', '\") + \"'\"\n                    : \"\";\n                return this.name + \"(\" + params + \")\";\n            };\n            return Signature;\n        }());\n        Logging.Signature = Signature;\n    })(Logging = Framework.Logging || (Framework.Logging = {}));\n})(Framework || (Framework = {}));\nFunction.prototype.trace = function () {\n    var trace = [];\n    var curr = this;\n    while (curr) {\n        trace.push(curr.signature());\n        curr = curr.caller;\n    }\n    return trace;\n};\nFunction.prototype.signature = function () {\n    var signature = new Framework.Logging.Signature();\n    signature.name = this.getName();\n    if (this.arguments) {\n        for (var i = 0; i < this.arguments.length; i++) {\n            signature.params.push(this.arguments[i]);\n        }\n    }\n    return signature;\n};\nFunction.prototype.getName = function () {\n    if (this.name) {\n        return this.name;\n    }\n    var definition = this.toString().split(\"\\n\")[0];\n    var exp = /^function ([^\\s(]+).+/;\n    if (exp.test(definition)) {\n        return definition.split(\"\\n\")[0].replace(exp, \"$1\") || \"anonymous\";\n    }\n    return \"anonymous\";\n};\nvar Framework;\n(function (Framework) {\n    var Logging;\n    (function (Logging) {\n        var ErrorLogging = (function () {\n            function ErrorLogging() {\n                this.logError = function (ex, stack) { };\n            }\n            ErrorLogging.prototype.setLoggingFunction = function (logger) {\n                this.logError = logger;\n            };\n            ErrorLogging.prototype.onError = function (message, filename, lineno, colno, error) {\n                this.logError(message, arguments.callee.trace());\n            };\n            return ErrorLogging;\n        }());\n        Logging.ErrorLogging = ErrorLogging;\n    })(Logging = Framework.Logging || (Framework.Logging = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var History;\n    (function (History) {\n        var PageHistory = (function () {\n            function PageHistory() {\n            }\n            PageHistory.prototype.back = function (delta) {\n                if (delta === undefined) {\n                    delta = 1;\n                }\n                window.history.go(-1 * delta);\n            };\n            PageHistory.prototype.forward = function (delta) {\n                if (delta === undefined) {\n                    delta = 1;\n                }\n                window.history.go(delta);\n            };\n            PageHistory.prototype.push = function (state, url, title) {\n                window.history.pushState(state, title, url);\n            };\n            PageHistory.prototype.replace = function (state, url, title) {\n                window.history.replaceState(state, title, url);\n            };\n            Object.defineProperty(PageHistory.prototype, \"state\", {\n                get: function () {\n                    return window.history.state;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageHistory.prototype, \"length\", {\n                get: function () {\n                    return window.history.length;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            return PageHistory;\n        }());\n        History.PageHistory = PageHistory;\n    })(History = Framework.History || (Framework.History = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var WebStorage;\n    (function (WebStorage) {\n        var LocalStorage = (function () {\n            function LocalStorage() {\n            }\n            LocalStorage.prototype.set = function (key, value) {\n                localStorage.setItem(key, value);\n            };\n            LocalStorage.prototype.setObject = function (key, value) {\n                this.set(key, JSON.stringify(value));\n            };\n            LocalStorage.prototype.get = function (key, defaultValue) {\n                if (defaultValue === void 0) { defaultValue = \"\"; }\n                return localStorage.getItem(key) || defaultValue;\n            };\n            LocalStorage.prototype.has = function (key) {\n                return this.get(key) !== undefined;\n            };\n            LocalStorage.prototype.remove = function (key) {\n                localStorage.removeItem(key);\n            };\n            LocalStorage.prototype.clear = function () {\n                localStorage.clear();\n            };\n            Object.defineProperty(LocalStorage.prototype, \"length\", {\n                get: function () {\n                    return localStorage.length;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            LocalStorage.prototype.key = function (index) {\n                return localStorage.key(index);\n            };\n            LocalStorage.prototype.getObject = function (key, defaultValue) {\n                if (defaultValue === void 0) { defaultValue = null; }\n                var value = this.get(key);\n                return (value && JSON.parse(value)) || defaultValue;\n            };\n            return LocalStorage;\n        }());\n        WebStorage.LocalStorage = LocalStorage;\n    })(WebStorage = Framework.WebStorage || (Framework.WebStorage = {}));\n})(Framework || (Framework = {}));\nvar Framework;\n(function (Framework) {\n    var WebStorage;\n    (function (WebStorage) {\n        var SessionStorage = (function () {\n            function SessionStorage() {\n            }\n            SessionStorage.prototype.set = function (key, value) {\n                sessionStorage.setItem(key, value);\n            };\n            SessionStorage.prototype.setObject = function (key, value) {\n                this.set(key, JSON.stringify(value));\n            };\n            SessionStorage.prototype.get = function (key, defaultValue) {\n                if (defaultValue === void 0) { defaultValue = \"\"; }\n                return sessionStorage.getItem(key) || defaultValue;\n            };\n            SessionStorage.prototype.has = function (key) {\n                return this.get(key) !== undefined;\n            };\n            SessionStorage.prototype.remove = function (key) {\n                sessionStorage.removeItem(key);\n            };\n            SessionStorage.prototype.clear = function () {\n                sessionStorage.clear();\n            };\n            Object.defineProperty(SessionStorage.prototype, \"length\", {\n                get: function () {\n                    return sessionStorage.length;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            SessionStorage.prototype.key = function (index) {\n                return sessionStorage.key(index);\n            };\n            SessionStorage.prototype.getObject = function (key, defaultValue) {\n                if (defaultValue === void 0) { defaultValue = null; }\n                var value = this.get(key);\n                return (value && JSON.parse(value)) || defaultValue;\n            };\n            return SessionStorage;\n        }());\n        WebStorage.SessionStorage = SessionStorage;\n    })(WebStorage = Framework.WebStorage || (Framework.WebStorage = {}));\n})(Framework || (Framework = {}));\nvar Closer;\n(function (Closer_1) {\n    var Closer = (function () {\n        function Closer() {\n            var _this = this;\n            document.getElementsByClassName(\"close\")\n                .map(function (x) {\n                x.addEventListener(\"click\", function (y) { return _this.close(y.target); });\n                return x;\n            });\n        }\n        Closer.prototype.close = function (target) {\n            var elementToClose = target.attribute(\"data-close\");\n            var element = target.getParentByClass(elementToClose);\n            if (!element) {\n                return;\n            }\n            element.hide();\n        };\n        return Closer;\n    }());\n    Closer_1.Closer = Closer;\n})(Closer || (Closer = {}));\nvar DropDown;\n(function (DropDown_1) {\n    var DropDown = (function () {\n        function DropDown() {\n            document.getElementsByClassName(\"drop-down\")\n                .map(function (x) {\n                x.firstElementChild\n                    .addEventListener(\"click\", function (y) {\n                    y.preventDefault();\n                    var parentElement = y.target.getParentByClass(\"drop-down\");\n                    if (parentElement.hasClass(\"active\")) {\n                        parentElement.removeClass(\"active\");\n                    }\n                    else {\n                        parentElement.addClass(\"active\");\n                    }\n                    return false;\n                });\n                return x;\n            });\n            window.addEventListener(\"click\", function (x) {\n                var elements = document.getElementsByClassName(\"drop-down\");\n                for (var y = 0; y < elements.length; ++y) {\n                    if (x.target.getParentByClass(\"drop-down\") !== elements[y]) {\n                        elements[y].className = elements[y].className.replace(\"active\", \"\");\n                    }\n                }\n            });\n        }\n        return DropDown;\n    }());\n    DropDown_1.DropDown = DropDown;\n})(DropDown || (DropDown = {}));\nvar Mobile;\n(function (Mobile_1) {\n    var Mobile = (function () {\n        function Mobile() {\n            Mobile.menuElements = [];\n            document.getElementsByClassName(\"mobile\")\n                .map(function (x) {\n                var tempElement = x;\n                if (tempElement.hasClass(\"menu\")) {\n                    var id_1 = tempElement.id;\n                    var item = tempElement;\n                    Mobile.menuElements = Mobile.menuElements.concat({ key: item.id, value: item });\n                    var menuElement = document.createElement(\"a\");\n                    menuElement.href = \"#\";\n                    menuElement.className = \"fa-bars hidden-on-desktop display-on-tablet-landscape extra-large mobile-toggler\";\n                    menuElement.addEventListener(\"click\", function (y) {\n                        (y.target).addClass(\"hidden\");\n                        Mobile.show(id_1);\n                        y.preventDefault();\n                    });\n                    tempElement.parentElement.appendChild(menuElement);\n                }\n            });\n            window.addEventListener(\"click\", function (x) {\n                var tempElement = x.target;\n                if (tempElement.getParentByClass(\"mobile\") == null\n                    && tempElement.getParentByClass(\"mobile-toggler\") == null\n                    && !tempElement.hasClass(\"mobile-toggler\")) {\n                    document.getElementsByClassName(\"mobile\")\n                        .map(function (y) { return y.removeClass(\"show\"); });\n                    document.getElementsByClassName(\"mobile-toggler\")\n                        .map(function (y) { return y.removeClass(\"hidden\"); });\n                }\n            });\n        }\n        Mobile.show = function (id) {\n            Mobile.menuElements.filter(function (x) { return x.key === id; }).forEach(function (x) { return x.value.show(); });\n        };\n        Mobile.hide = function (id) {\n            Mobile.menuElements.filter(function (x) { return x.key === id; }).forEach(function (x) { return x.value.hide(); });\n        };\n        return Mobile;\n    }());\n    Mobile_1.Mobile = Mobile;\n})(Mobile || (Mobile = {}));\nvar Components;\n(function (Components) {\n    Vue.component(\"clarity-tabs\", {\n        data: function () {\n            if (this.initialSectionPicked === undefined) {\n                this.initialSectionPicked = this.sections[0];\n            }\n            return {\n                sectionPicked: this.initialSectionPicked,\n            };\n        },\n        beforeMount: function () {\n            this.switchSelected(this.initialSectionPicked);\n        },\n        watch: {\n            sections: function (value) {\n                this.switchSelected(this.sectionPicked);\n            },\n        },\n        methods: {\n            switchSelected: function (item) {\n                this.sectionPicked = item;\n                this.switchTabs();\n                this.$emit(\"section-changed\", this.sectionPicked);\n            },\n            switchTabs: function () {\n                var _this = this;\n                if (!this.sections.some(function (x) { return x === _this.sectionPicked; })) {\n                    this.sectionPicked = this.sections[0];\n                }\n                if (this.sectionPicked === undefined) {\n                    return;\n                }\n                this.sectionPicked.selected = true;\n                for (var x = 0; x < this.sections.length; ++x) {\n                    if (this.sectionPicked !== this.sections[x]) {\n                        this.sections[x].selected = false;\n                    }\n                }\n            },\n        },\n        props: {\n            sections: Array,\n            initialSectionPicked: Object,\n        },\n        template: \"<div class=\\\"tabs\\\">\\n                        <header>\\n                            <ul class=\\\"row flex align-items-stretch\\\">\\n                                <li class=\\\"flex-item\\\" v-for=\\\"section in sections\\\">\\n                                    <a href=\\\"#!\\\"\\n                                        v-on:click.stop.prevent=\\\"switchSelected(section)\\\"\\n                                        class=\\\"tab\\\"\\n                                        v-bind:class=\\\"{ selected: section.selected }\\\">\\n                                            <span v-bind:class=\\\"[section.icon]\\\"></span>\\n                                            {{section.name}}\\n                                    </a>\\n                                </li>\\n                            </ul>\\n                        </header>\\n                        <section>\\n                            <slot></slot>\\n                        </section>\\n                    </div>\",\n    });\n})(Components || (Components = {}));\nvar Framework;\n(function (Framework) {\n    var Clarity = (function () {\n        function Clarity() {\n            var _this = this;\n            this.hotkeys = new Framework.Hotkey.Hotkeys();\n            this.router = new Framework.Router.Router();\n            this.validation = new Framework.Validation.FormValidation();\n            this.errorLogger = new Framework.Logging.ErrorLogging();\n            this.history = new Framework.History.PageHistory();\n            this.localStorage = new Framework.WebStorage.LocalStorage();\n            this.sessionStorage = new Framework.WebStorage.SessionStorage();\n            this.closer = new Closer.Closer();\n            this.dropDown = new DropDown.DropDown();\n            this.mobile = new Mobile.Mobile();\n            window.addEventListener(\"keydown\", function (x) { return _this.hotkeys.press(x); });\n            window.addEventListener(\"load\", function (x) { return _this.validation.initialize(); }, false);\n            window.onerror = function (msg, url, ln, col, error) {\n                _this.errorLogger.onError(msg, url, ln, col, error);\n            };\n        }\n        return Clarity;\n    }());\n    Framework.Clarity = Clarity;\n})(Framework || (Framework = {}));\nwindow.clarity = window.clarity || new Framework.Clarity();\nvar Framework;\n(function (Framework) {\n    var AJAX;\n    (function (AJAX) {\n        var Request = (function () {\n            function Request(method, url, data) {\n                this.url = url;\n                this.method = method.toUpperCase();\n                this.data = data;\n                this.headers = {};\n                if (this.method !== \"GET\"\n                    && this.method !== \"HEAD\"\n                    && this.method !== \"DELETE\"\n                    && this.method !== \"TRACE\") {\n                    this.headers[\"Content-Type\"] = \"application/json\";\n                }\n                this.headers[\"Accept\"] = \"application/json\";\n                this.parser = function (x) { return JSON.parse(x); };\n                this.serializer = function (x) { return JSON.stringify(x); };\n            }\n            Request.get = function (url, data) {\n                return new Request(\"GET\", url, data);\n            };\n            Request.makeRequest = function (method, url, data) {\n                return new Request(method, url, data);\n            };\n            Request.post = function (url, data) {\n                return new Request(\"POST\", url, data);\n            };\n            Request.put = function (url, data) {\n                return new Request(\"PUT\", url, data);\n            };\n            Request.delete = function (url, data) {\n                return new Request(\"DELETE\", url, data);\n            };\n            Request.prototype.onSuccess = function (callback) {\n                this.success = callback;\n                return this;\n            };\n            Request.prototype.onError = function (callback) {\n                this.error = callback;\n                return this;\n            };\n            Request.prototype.set = function (key, value) {\n                this.headers[key] = value;\n                return this;\n            };\n            Request.prototype.type = function (value) {\n                return this.set(\"Content-Type\", value);\n            };\n            Request.prototype.accept = function (value) {\n                return this.set(\"Accept\", value);\n            };\n            Request.prototype.setParser = function (parser) {\n                this.parser = parser;\n                return this;\n            };\n            Request.prototype.setSerializer = function (serializer) {\n                this.serializer = serializer;\n                return this;\n            };\n            Request.prototype.setCredentials = function (user, password) {\n                this.user = user;\n                this.password = password;\n                return this;\n            };\n            Request.prototype.send = function () {\n                var _this = this;\n                if (this.error === undefined || this.error === null) {\n                    this.error = function (x) { };\n                }\n                if (this.success === undefined || this.success === null) {\n                    this.success = function (x) { };\n                }\n                var request = new XMLHttpRequest();\n                request.open(this.method, encodeURI(this.url), true, this.user, this.password);\n                for (var property in this.headers) {\n                    request.setRequestHeader(property, this.headers[property]);\n                }\n                request.addEventListener(\"load\", function (x) {\n                    if (request.status === 200) {\n                        return _this.success(_this.parser(request.responseText));\n                    }\n                    return _this.error(_this.parser(request.responseText));\n                });\n                request.addEventListener(\"error\", function (x) {\n                    return _this.error(_this.parser(request.responseText));\n                });\n                if (this.data !== undefined) {\n                    request.send(this.serializer(this.data));\n                }\n                else {\n                    request.send();\n                }\n            };\n            return Request;\n        }());\n        AJAX.Request = Request;\n    })(AJAX = Framework.AJAX || (Framework.AJAX = {}));\n})(Framework || (Framework = {}));\nvar Component;\n(function (Component) {\n    var BaseClasses;\n    (function (BaseClasses) {\n        var ComponentBase = (function () {\n            function ComponentBase(element) {\n                this.element = element;\n                this.name = element.id;\n            }\n            ComponentBase.prototype.show = function () {\n                this.element.replaceClass(\"hidden\", \"show\");\n                if (!this.element.hasClass(\"show\")) {\n                    this.element.addClass(\"show\");\n                }\n            };\n            ComponentBase.prototype.hide = function () {\n                this.element.replaceClass(\"show\", \"hidden\");\n                if (!this.element.hasClass(\"hidden\")) {\n                    this.element.addClass(\"hidden\");\n                }\n            };\n            return ComponentBase;\n        }());\n        BaseClasses.ComponentBase = ComponentBase;\n    })(BaseClasses = Component.BaseClasses || (Component.BaseClasses = {}));\n})(Component || (Component = {}));\nvar Components;\n(function (Components) {\n    var dateRegex = /^(\\d\\d?)[\\/\\.-](\\d\\d?)[\\/\\.-]((\\d\\d)?\\d\\d)$/;\n    Vue.component(\"clarity-grid\", {\n        computed: {\n            filteredData: function () {\n                var sortKey = this.sortKey;\n                var filterKey = this.filterKey && this.filterKey.toLowerCase();\n                var order = this.sortOrders[sortKey] || 1;\n                var data = this.data;\n                if (filterKey) {\n                    data = data.filter(function (row) {\n                        return Object.keys(row).some(function (key) {\n                            return String(row[key]).toLowerCase().indexOf(filterKey) > -1;\n                        });\n                    });\n                }\n                if (sortKey) {\n                    var sortFunction = this.guessDataType(data);\n                    if (sortFunction === \"string\") {\n                        data = data.sort(this.sortString);\n                    }\n                    else if (sortFunction === \"number\") {\n                        data = data.sort(this.sortNumber);\n                    }\n                    else if (sortFunction === \"date\") {\n                        data = data.sort(this.sortDate);\n                    }\n                    else if (sortFunction === \"MMDD Date\") {\n                        data = data.sort(this.sortMMDDDate);\n                    }\n                    else if (sortFunction === \"DDMM Date\") {\n                        data = data.sort(this.sortDDMMDate);\n                    }\n                    if (order === 1) {\n                        this.data.reverse();\n                    }\n                }\n                return data;\n            },\n        },\n        data: function () {\n            var sortOrders = {};\n            this.columns.forEach(function (key) {\n                key = key.replace(/\\s+/g, \"\");\n                sortOrders[key] = 1;\n            });\n            return {\n                sortKey: \"\",\n                sortOrders: sortOrders,\n            };\n        },\n        filters: {\n            capitalize: function (str) {\n                return str.charAt(0).toUpperCase() + str.slice(1);\n            },\n        },\n        methods: {\n            filteredColumn: function (key) {\n                return key.replace(/\\s+/g, \"\");\n            },\n            guessDataType: function (data) {\n                var returnValue = \"string\";\n                for (var x = 0; x < data.length; ++x) {\n                    var cellText = data[x][this.sortKey].toString().replace(/^\\s+|\\s+$/g, \"\");\n                    if (cellText !== \"\") {\n                        if (cellText.match(/^-?[£$¤]?[\\d,.]+%?$/)) {\n                            return \"number\";\n                        }\n                        var dateParts = cellText.match(dateRegex);\n                        if (dateParts) {\n                            var first = parseInt(dateParts[1], 10);\n                            var second = parseInt(dateParts[2], 10);\n                            if (first > 12) {\n                                return \"DDMM Date\";\n                            }\n                            else if (second > 12) {\n                                return \"MMDD Date\";\n                            }\n                            else {\n                                returnValue = \"MMDD Date\";\n                            }\n                        }\n                    }\n                }\n                return returnValue;\n            },\n            sortBy: function (key) {\n                key = key.replace(/\\s+/g, \"\");\n                this.sortKey = key;\n                this.sortOrders[key] = this.sortOrders[key] * -1;\n            },\n            sortDDMMDate: function (val1, val2) {\n                var match = val1[this.sortKey].toString().match(dateRegex);\n                var year = match[3], day = match[1], month = match[2];\n                if (month.length === 1) {\n                    month = \"0\" + month;\n                }\n                if (day.length === 1) {\n                    day = \"0\" + day;\n                }\n                var value1 = year + month + day;\n                match = val2[this.sortKey].toString().match(dateRegex);\n                year = match[3];\n                day = match[1];\n                month = match[2];\n                if (month.length === 1) {\n                    month = \"0\" + month;\n                }\n                if (day.length === 1) {\n                    day = \"0\" + day;\n                }\n                var value2 = year + month + day;\n                if (value1 === value2) {\n                    return 0;\n                }\n                if (value1 < value2) {\n                    return -1;\n                }\n                return 1;\n            },\n            sortDate: function (val1, val2) {\n                var value1 = new Date(val1[this.sortKey]);\n                var value2 = new Date(val2[this.sortKey]);\n                if (isNaN(value1.getTime())) {\n                    value1 = new Date(0);\n                }\n                if (isNaN(value2.getTime())) {\n                    value2 = new Date(0);\n                }\n                if (value1 === value2) {\n                    return 0;\n                }\n                if (value1 < value2) {\n                    return -1;\n                }\n                return 1;\n            },\n            sortMMDDDate: function (val1, val2) {\n                var match = val1[this.sortKey].toString().match(dateRegex);\n                var year = match[3], day = match[2], month = match[1];\n                if (month.length === 1) {\n                    month = \"0\" + month;\n                }\n                if (day.length === 1) {\n                    day = \"0\" + day;\n                }\n                var value1 = year + month + day;\n                match = val2[this.sortKey].toString().match(dateRegex);\n                year = match[3];\n                day = match[2];\n                month = match[1];\n                if (month.length === 1) {\n                    month = \"0\" + month;\n                }\n                if (day.length === 1) {\n                    day = \"0\" + day;\n                }\n                var value2 = year + month + day;\n                if (value1 === value2) {\n                    return 0;\n                }\n                if (value1 < value2) {\n                    return -1;\n                }\n                return 1;\n            },\n            sortNumber: function (val1, val2) {\n                var value1 = parseFloat(val1[this.sortKey].toString().replace(/[^0-9.-]/g, \"\"));\n                var value2 = parseFloat(val2[this.sortKey].toString().replace(/[^0-9.-]/g, \"\"));\n                if (isNaN(value1)) {\n                    value1 = 0;\n                }\n                if (isNaN(value2)) {\n                    value2 = 0;\n                }\n                return value1 - value2;\n            },\n            sortString: function (value1, value2) {\n                if (value1[this.sortKey] === value2[this.sortKey]) {\n                    return 0;\n                }\n                if (value1[this.sortKey] < value2[this.sortKey]) {\n                    return -1;\n                }\n                return 1;\n            },\n        },\n        props: {\n            columns: Array,\n            data: Array,\n            filterKey: String,\n        },\n        template: \"<table class=\\\"sortable\\\">\\n            <thead>\\n            <tr>\\n                <th v-for=\\\"key in columns\\\"\\n                @click=\\\"sortBy(key)\\\"\\n                :class=\\\"{ active: sortKey == filteredColumn(key),\\n                            headerSortUp: sortKey == filteredColumn(key) && sortOrders[filteredColumn(key)] > 0,\\n                            headerSortDown: sortKey == filteredColumn(key) && sortOrders[filteredColumn(key)] < 0 }\\\">\\n                {{ key | capitalize }}\\n                </th>\\n            </tr>\\n            </thead>\\n            <tbody>\\n            <tr v-for=\\\"entry in filteredData\\\">\\n                <td v-for=\\\"key in columns\\\" v-html=\\\"entry[filteredColumn(key)]\\\">\\n                </td>\\n            </tr>\\n            </tbody>\\n        </table>\",\n    });\n})(Components || (Components = {}));\nvar Components;\n(function (Components) {\n    Vue.component(\"clarity-modal\", {\n        data: function () {\n            return {\n                classes: this.cssClasses,\n            };\n        },\n        methods: {\n            closeModal: function () {\n                this.showModal = false;\n                this.$emit(\"close\");\n            },\n        },\n        props: {\n            cssClasses: String,\n            showModal: {\n                default: false,\n                type: Boolean,\n            },\n        },\n        template: \"<div :class=\\\"{'modal': true, 'show': showModal}\\\">\\n            <div :class=\\\"['panel', classes]\\\">\\n                <header><slot name=\\\"header\\\">Header</slot></header>\\n                <div class=\\\"body\\\"><slot name=\\\"body\\\">Body</slot></div>\\n                <footer>\\n                    <slot name=\\\"footer\\\">\\n                        <input type=\\\"button\\\" class=\\\"close right\\\" value=\\\"Close\\\" @click=\\\"closeModal\\\" /><br class=\\\"clear\\\" />\\n                    </slot>\\n                </footer>\\n            </div>\\n        </div>\",\n    });\n})(Components || (Components = {}));\n"]}