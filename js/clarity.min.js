/*! (c) 2016 James Craig (Apache) */
var Browser;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"isOSX",{get:function(){return-1!=~navigator.userAgent.indexOf("Mac OS X")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"domain",{get:function(){return"http://"+window.location.host},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isLocal",{get:function(){return/^http:\/\/localhost:\d{5}$/.test(t.domain)},enumerable:!0,configurable:!0}),t.getURLParameter=function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},Object.defineProperty(t,"HashBang",{get:function(){return window.location.hash.replace("#!","")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Id",{get:function(){return window.location.pathname.split("/").pop()},enumerable:!0,configurable:!0}),t}();t.BrowserUtils=e}(Browser||(Browser={})),HTMLCollection.prototype.map=function(t){for(var e=[],r=0;r<this.length;++r)e=e.concat(t(this[r]));return e},HTMLCollection.prototype.filter=function(t){for(var e=[],r=0;r<this.length;++r)t(this[r])&&(e=e.concat(this[r]));return e},HTMLElement.prototype.getParentByClass=function(t){for(var e=this.parentElement;e&&!e.hasClass(t);)e=e.parentElement;return e},HTMLElement.prototype.hasClass=function(t){return(" "+this.className+" ").indexOf(" "+t+" ")>-1},HTMLElement.prototype.replaceClass=function(t,e){var r=" "+this.className+" ";this.className=""===e?r.replace(new RegExp(" "+t+" ","gi")," ").trim():r.replace(new RegExp(" "+t+" ","gi")," "+e+" ").trim()},HTMLElement.prototype.toggleClass=function(t,e){this.hasClass(t)?this.replaceClass(t,e):this.replaceClass(e,t)},HTMLElement.prototype.removeClass=function(t){this.replaceClass(t,"")},HTMLElement.prototype.addClass=function(t){this.hasClass(t)||(this.className+=" "+t)},HTMLElement.prototype.show=function(){this.replaceClass("hidden","show"),this.addClass("show")},HTMLElement.prototype.hide=function(){this.replaceClass("show","hidden"),this.addClass("hidden")},HTMLElement.prototype.attribute=function(t,e){return void 0===e&&(e=null),null!=e?(this.setAttribute(t,e),e):this.getAttribute(t)},NodeList.prototype.map=function(t){for(var e=[],r=0;r<this.length;++r)e=e.concat(t(this[r]));return e},NodeList.prototype.filter=function(t){for(var e=[],r=0;r<this.length;++r)t(this[r])&&(e=e.concat(this[r]));return e};var Types;!function(t){var e=function(){return function(){}}();t.NumberDictionary=e}(Types||(Types={}));var Types;!function(t){var e=function(){return function(){}}();t.StringDictionary=e}(Types||(Types={}));var Framework;!function(t){!function(t){var e=function(){function t(){}return t.keyMappings={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,META:91,"*":106,"+":107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145,";":186,"=":187,"":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},t}();t.Globals=e}(t.Hotkey||(t.Hotkey={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function e(t){this.keys=this.getKeys(t)}return e.prototype.getKeys=function(e){return e.toUpperCase().split(/-(?!$)/).map(function(e){return t.Globals.keyMappings[e]||e.charCodeAt(0)})},e.prototype.isPressed=function(t){var e=t;if(e.length!==this.keys.length)return!1;for(var r=0;r<e.length;++r)if(-1===this.keys.indexOf(e[r]))return!1;return!0},e}();t.Keypress=e}(t.Hotkey||(t.Hotkey={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function e(e,r){this.keyCodeSequence=e.toUpperCase(),this.keyCodes=e.toUpperCase().split(" ").map(function(e){return new t.Keypress(e)}),this.callback=r,this.length=this.keyCodes.length,this.isDefault="<*>"===e}return e.prototype.call=function(t,e,r){return this.callback(e,{scope:r,keysPressed:t}),!0},e.prototype.press=function(t,e,r){var n=t;if(n.length!==this.length)return!1;for(var i=0;i<this.keyCodes.length;++i)if(!this.keyCodes[i].isPressed(n[i]))return!1;return this.call(t,e,r)},e.prototype.isPartial=function(t){var e=t;if(e.length>this.length)return!1;for(var r=0;r<e.length;++r)if(!this.keyCodes[r].isPressed(e[r]))return!1;return!0},e}();t.Sequence=e}(t.Hotkey||(t.Hotkey={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function e(t){this.name=t,this.sequences=[]}return e.prototype.press=function(t,e){this.sequences=this.sequences.sort(function(t,e){return t.length>e.length?1:-1});for(var r=0;r<this.sequences.length;++r)if(this.sequences[r].press(t,e,this))return!0;return!1},e.prototype.callDefault=function(t,e){var r=this.sequences.filter(function(t){return t.isDefault});return 0!==r.length&&r[0].call(t,e,this)},e.prototype.isPartial=function(t){for(var e=0;e<this.sequences.length;++e)if(this.sequences[e].isPartial(t))return!0;return!1},e.prototype.addSequence=function(e,r){return this.removeSequence(e),this.sequences.push(new t.Sequence(e,r)),this},e.prototype.removeSequence=function(t){return this.sequences=this.sequences.filter(function(e){return e.keyCodeSequence!==t.toUpperCase()}),this},e.prototype.clear=function(){return this.sequences=[],this},e}();t.Scope=e}(t.Hotkey||(t.Hotkey={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function e(){this.scopes={},this.scopes.Default=new t.Scope("Default"),this.currentScope=this.scopes.Default,this.filter=function(t){var e=(t.target||t.srcElement).tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},this.latestKeys=[]}return e.prototype.setScope=function(t){var e=this.addScope(t);return this.currentScope=e,e},e.prototype.addScope=function(e){var r=this.scopes[e];return void 0!==r?r:(r=new t.Scope(e),this.scopes[e]=r,r)},e.prototype.removeScope=function(e){return this.scopes[e]=void 0,"Default"===e&&(this.scopes.Default=new t.Scope("Default")),this.currentScope.name===e&&(this.currentScope=this.scopes.Default),this},e.prototype.clear=function(){return this.scopes={},this.scopes.Default=new t.Scope("Default"),this.currentScope=this.scopes.Default,this.latestKeys=[],this},e.prototype.bind=function(t,e){return this.currentScope.addSequence(t,e),this},e.prototype.unbind=function(t){return this.currentScope.removeSequence(t),this},e.prototype.press=function(t){if(this.filter(t)){var e=this.getKeys(t);this.latestKeys.push(e);var r=this.latestKeys.slice();if(this.currentScope.press(this.latestKeys,t))this.latestKeys=[];else{for(;this.latestKeys.length>0;){if(this.currentScope.isPartial(this.latestKeys))return;this.latestKeys.shift()}0===this.latestKeys.length&&this.currentScope.callDefault(r,t)}}},e.prototype.getKeys=function(e){var r=[];return e.altKey&&r.push(t.Globals.keyMappings.ALT),e.ctrlKey&&r.push(t.Globals.keyMappings.CTRL),e.metaKey&&r.push(t.Globals.keyMappings.META),e.shiftKey&&r.push(t.Globals.keyMappings.SHIFT),-1===r.indexOf(e.keyCode)&&r.push(e.keyCode),r},e}();t.Hotkeys=e}(t.Hotkey||(t.Hotkey={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(t,e){this.variable="{"===t.charAt(0)&&"}"===t.charAt(t.length-1),t=t.replace(/[{}]/g,""),this.optional="^"===t.charAt(0),this.part=t.replace(/[\^]/g,""),void 0!==e[this.part]?this.defaultValue=e[this.part]:this.defaultValue=""}return t.prototype.isMatch=function(t){return void 0===t||null===t?this.optional:(t=t,this.variable?this.optional||""!==t:this.optional||t.toUpperCase()===this.part.toUpperCase())},t.prototype.getValue=function(t){return this.variable?void 0!==t?t||this.defaultValue:this.defaultValue:t||this.defaultValue},t.prototype.setValue=function(t,e){this.getValue(t);e[this.part]=this.getValue(t)},t}();t.PathPart=e}(t.Router||(t.Router={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(t,e){var r=t.split("=",2);this.key=r[0],t=r[1],this.variable="{"===t.charAt(0)&&"}"===t.charAt(t.length-1),t=t.replace(/[{}]/g,""),this.optional="^"===t.charAt(0),this.part=t.replace(/[\^]/g,""),void 0!==e[this.part]?this.defaultValue=e[this.part]:this.defaultValue=""}return t.prototype.isMatch=function(t){if(void 0===t||null===t)return!1;var e=t.split("=",2);return 2===e.length&&(this.key.toUpperCase()===e[0].toUpperCase()&&(void 0===(t=e[1])?this.optional:this.variable?this.optional||""!==t:this.optional||t.toUpperCase()===this.part.toUpperCase()))},t.prototype.getValue=function(t){if(void 0===t||null===t)return this.defaultValue;var e=t.split("=",2);return 2!==e.length?this.defaultValue:(t=e[1],this.variable?void 0!==t?t||this.defaultValue:this.defaultValue:t||this.defaultValue)},t.prototype.setValue=function(t,e){this.getValue(t);e[this.key]=this.getValue(t)},t}();t.QueryPart=e}(t.Router||(t.Router={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(t,e){t=t.replace(/[#!]/g,""),this.variable="{"===t.charAt(0)&&"}"===t.charAt(t.length-1),t=t.replace(/[{}]/g,""),this.optional="^"===t.charAt(0),this.part=t.replace(/[\^]/g,""),void 0!==e[this.part]?this.defaultValue=e[this.part]:this.defaultValue=""}return t.prototype.isMatch=function(t){return void 0===t||null===t?this.optional:(t=t.replace(/[#!]/g,""),this.variable?this.optional||""!==t:this.optional||t.toUpperCase()===this.part.toUpperCase())},t.prototype.getValue=function(t){return this.variable?void 0!==t?t||this.defaultValue:this.defaultValue:t||this.defaultValue},t.prototype.setValue=function(t,e){t=(t=t||"").replace(/[#!]/g,""),e[this.part]=this.getValue(t)},t}();t.HashPart=e}(t.Router||(t.Router={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function e(e,r,n){void 0===n&&(n=new Types.StringDictionary),this.url=this.fixUrl(e),this.pathParts=this.getPathParts(this.url).map(function(e){return new t.PathPart(e,n)}),this.pathParts=this.pathParts?this.pathParts:[],this.queryParts=this.getQueryParts(this.url).map(function(e){return new t.QueryPart(e,n)}),this.queryParts=this.queryParts?this.queryParts:[],this.hashParts=this.getHashParts(this.url).map(function(e){return new t.HashPart(e,n)}),this.hashParts=this.hashParts?this.hashParts:[],this.callbacks=[r],this.defaultValues=n}return e.prototype.isRoute=function(t){return this.url===this.fixUrl(t)},e.prototype.addCallback=function(t){this.callbacks.push(t)},e.prototype.removeCallback=function(t){this.callbacks=this.callbacks.filter(function(e){return e!==t})},e.prototype.fixUrl=function(t){return t.length?t.replace(/^\//,"").replace(/\/+/g,"/").replace(/^\/|\/($|\?)/,"").replace(/\/\#/g,"#"):t},e.prototype.getPathParts=function(t){return t.split("?",2)[0].split("#",2)[0].split("/")},e.prototype.getHashParts=function(t){var e=t.split("?",2)[0].split("#",2);return e.length<2?[]:[e[1].replace("!","")]},e.prototype.getQueryParts=function(t){var e=t.split("?",2);return e.length<2?[]:(t=e[1])?t.split("&"):[]},e.prototype.getParametersFromUrl=function(t,e,r){for(var n=new Types.StringDictionary,i=0;i<t.length;++i)this.pathParts[i].setValue(t[i],n);for(i=0;i<e.length;++i)this.queryParts[i].setValue(e[i],n);for(i=0;i<r.length;++i)this.hashParts[i].setValue(r[i],n);if(this.pathParts.length>t.length)for(i=t.length;i<this.pathParts.length;++i)this.pathParts[i].setValue("",n);if(this.queryParts.length>e.length)for(i=e.length;i<this.queryParts.length;++i)this.queryParts[i].setValue("",n);if(this.hashParts.length>r.length)for(i=r.length;i<this.hashParts.length;++i)this.hashParts[i].setValue("",n);return n},e.prototype.isMatch=function(t,e,r){if(this.pathParts.length<t.length)return!1;for(n=0;n<t.length;++n)if(!this.pathParts[n].isMatch(t[n]))return!1;if(this.pathParts.length>t.length)for(n=t.length;n<this.pathParts.length;++n)if(!this.pathParts[n].isMatch(""))return!1;if(this.queryParts.length<e.length)return!1;for(n=0;n<e.length;++n)if(!this.queryParts[n].isMatch(e[n]))return!1;if(this.queryParts.length>e.length)for(n=e.length;n<this.queryParts.length;++n)if(!this.queryParts[n].isMatch(""))return!1;if(this.hashParts.length<r.length)return!1;for(n=0;n<r.length;++n)if(!this.hashParts[n].isMatch(r[n]))return!1;if(this.hashParts.length>r.length)for(var n=r.length;n<this.hashParts.length;++n)if(!this.hashParts[n].isMatch(""))return!1;return!0},e.prototype.run=function(t){t=this.fixUrl(t);var e=this.getPathParts(t),r=this.getQueryParts(t),n=this.getHashParts(t);if(!this.isMatch(e,r,n))return!1;var i=this.getParametersFromUrl(e,r,n);return i.url=t,this.callbacks.forEach(function(t){return t(i)}),!0},e}();t.Route=e}(t.Router||(t.Router={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){!function(t){var e=function(){return function(t,e,r){this.url=t,this.action=e,this.defaultValues=r}}();t.RouteData=e}(t.DataTypes||(t.DataTypes={}))}(t.Router||(t.Router={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function e(){this.routes=[]}return e.prototype.map=function(t){for(var e=0;e<t.length;++e)this.addRoute(t[e].url,t[e].action,t[e].defaultValues)},e.prototype.addRoute=function(e,r,n){var i=this.routes.filter(function(t){return t.isRoute(e)});return 0===i.length?this.routes.push(new t.Route(e,r,n)):i[0].addCallback(r),this},e.prototype.run=function(t){for(var e=0;e<this.routes.length;++e)if(this.routes[e].run(t))return!0;return!1},e}();t.Router=e}(t.Router||(t.Router={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(){this.errors=[],this.messageAttributes={},this.messageAttributes.patternMismatch="data-error-message-pattern-mismatch",this.messageAttributes.rangeOverflow="data-error-message-range-overflow",this.messageAttributes.rangeUnderflow="data-error-message-range-underflow",this.messageAttributes.stepMismatch="data-error-message-step-mismatch",this.messageAttributes.tooLong="data-error-message-too-long",this.messageAttributes.badInput="data-error-message-bad-input",this.messageAttributes.typeMismatch="data-error-message-type-mismatch",this.messageAttributes.valueMissing="data-error-message-value-missing"}return t.prototype.initialize=function(){for(var t=this,e=document.getElementsByTagName("input").map(function(t){return t}).filter(function(t){return t.willValidate}),r=0;r<e.length;++r)"RADIO"===e[r].type.toUpperCase()||"CHECKBOX"===e[r].type.toUpperCase()?e[r].addEventListener("change",function(e){return t.inputHandler(e.target)}):e[r].addEventListener("input",function(e){return t.inputHandler(e.target)}),e[r].addEventListener("invalid",function(e){return t.invalidInputHandler(e.target)});for(var n=document.getElementsByTagName("textarea").map(function(t){return t}).filter(function(t){return t.willValidate}),r=0;r<n.length;++r)n[r].addEventListener("change",function(e){return t.textAreaHandler(e.target)}),n[r].addEventListener("invalid",function(e){return t.invalidTextAreaHandler(e.target)});for(var i=document.getElementsByTagName("select").map(function(t){return t}).filter(function(t){return t.willValidate}),r=0;r<i.length;++r)i[r].addEventListener("change",function(e){return t.selectHandler(e.target)}),i[r].addEventListener("invalid",function(e){return t.invalidSelectHandler(e.target)})},t.prototype.initializeForm=function(t){for(var e=this,r=t.getElementsByTagName("input").map(function(t){return t}).filter(function(t){return t.willValidate}),n=0;n<r.length;++n)"RADIO"===r[n].type.toUpperCase()||"CHECKBOX"===r[n].type.toUpperCase()?r[n].addEventListener("change",function(t){return e.inputHandler(t.target)}):r[n].addEventListener("input",function(t){return e.inputHandler(t.target)}),r[n].addEventListener("invalid",function(t){return e.invalidInputHandler(t.target)});for(var i=t.getElementsByTagName("textarea").map(function(t){return t}).filter(function(t){return t.willValidate}),n=0;n<i.length;++n)i[n].addEventListener("change",function(t){return e.textAreaHandler(t.target)}),i[n].addEventListener("invalid",function(t){return e.invalidTextAreaHandler(t.target)});for(var o=t.getElementsByTagName("select").map(function(t){return t}).filter(function(t){return t.willValidate}),n=0;n<o.length;++n)o[n].addEventListener("change",function(t){return e.selectHandler(t.target)}),o[n].addEventListener("invalid",function(t){return e.invalidSelectHandler(t.target)})},t.prototype.invalidInputHandler=function(t){if(!t.validity.valid){var e=this.getErrorMessages(t,t.validity);e.length>0&&t.setCustomValidity(e.join("\n"))}},t.prototype.invalidTextAreaHandler=function(t){if(!t.validity.valid){var e=this.getErrorMessages(t,t.validity);e.length>0&&t.setCustomValidity(e.join("\n"))}},t.prototype.invalidSelectHandler=function(t){if(!t.validity.valid){var e=this.getErrorMessages(t,t.validity);e.length>0&&t.setCustomValidity(e.join("\n"))}},t.prototype.inputHandler=function(t){if("RADIO"===t.type.toUpperCase())for(var e=document.getElementsByName(t.name).map(function(t){return t}),r=0;r<e.length;++r)e[r].setCustomValidity("");else t.setCustomValidity("");t.checkValidity()},t.prototype.textAreaHandler=function(t){t.setCustomValidity(""),t.checkValidity()},t.prototype.selectHandler=function(t){t.setCustomValidity(""),t.checkValidity()},t.prototype.validate=function(){var t=this,e=!0;this.errors=[];var r=document.getElementsByTagName("input").filter(function(e){return!t.validateInput(e)});e=e&&0===r.length;var n=document.getElementsByTagName("select").filter(function(e){return!t.validateSelect(e)});e=e&&0===n.length;var i=document.getElementsByTagName("textarea").filter(function(e){return!t.validateTextArea(e)});return e=e&&0===i.length},t.prototype.validateForm=function(t){var e=this,r=!0;this.errors=[];var n=t.getElementsByTagName("input").filter(function(t){return!e.validateInput(t)});r=r&&0===n.length;var i=t.getElementsByTagName("select").filter(function(t){return!e.validateSelect(t)});r=r&&0===i.length;var o=t.getElementsByTagName("textarea").filter(function(t){return!e.validateTextArea(t)});return r=r&&0===o.length},t.prototype.validateSelect=function(t){if(!t.checkValidity()){var e=this.getErrorMessages(t,t.validity);return 0!==e.length&&(this.errors=this.errors.concat(e)),!1}return!0},t.prototype.validateTextArea=function(t){if(!t.checkValidity()){var e=this.getErrorMessages(t,t.validity);return 0!==e.length&&(this.errors=this.errors.concat(e)),!1}return!0},t.prototype.getErrorMessages=function(t,e){var r=[];for(var n in this.messageAttributes)if(e[n]){var i=t.attribute(this.messageAttributes[n]);null!==i&&(r=r.concat(i))}if(0===r.length){var o=t.attribute("data-error-message");r=null!==o?r.concat(o):r.concat(t.validationMessage)}return r},t.prototype.validateInput=function(t){if(!t.checkValidity()){var e=this.getErrorMessages(t,t.validity);return 0!==e.length&&(this.errors=this.errors.concat(e)),!1}return!0},t}();t.FormValidation=e}(t.Validation||(t.Validation={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(){this.params=[]}return t.prototype.toString=function(){var t=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+t+")"},t}();t.Signature=e}(t.Logging||(t.Logging={}))}(Framework||(Framework={})),Function.prototype.trace=function(){for(var t=[],e=this;e;)t.push(e.signature()),e=e.caller;return t},Function.prototype.signature=function(){var t=new Framework.Logging.Signature;if(t.name=this.getName(),this.arguments)for(var e=0;e<this.arguments.length;e++)t.params.push(this.arguments[e]);return t},Function.prototype.getName=function(){if(this.name)return this.name;var t=this.toString().split("\n")[0],e=/^function ([^\s(]+).+/;return e.test(t)?t.split("\n")[0].replace(e,"$1")||"anonymous":"anonymous"};var Framework;!function(t){!function(t){var e=function(){function t(){this.logError=function(t,e){}}return t.prototype.setLoggingFunction=function(t){this.logError=t},t.prototype.onError=function(t,e,r,n,i){this.logError(t,arguments.callee.trace())},t}();t.ErrorLogging=e}(t.Logging||(t.Logging={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(){}return t.prototype.back=function(t){void 0===t&&(t=1),window.history.go(-1*t)},t.prototype.forward=function(t){void 0===t&&(t=1),window.history.go(t)},t.prototype.push=function(t,e,r){window.history.pushState(t,r,e)},t.prototype.replace=function(t,e,r){window.history.replaceState(t,r,e)},Object.defineProperty(t.prototype,"state",{get:function(){return window.history.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return window.history.length},enumerable:!0,configurable:!0}),t}();t.PageHistory=e}(t.History||(t.History={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(){}return t.prototype.set=function(t,e){localStorage.setItem(t,e)},t.prototype.setObject=function(t,e){this.set(t,JSON.stringify(e))},t.prototype.get=function(t,e){return void 0===e&&(e=""),localStorage.getItem(t)||e},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.remove=function(t){localStorage.removeItem(t)},t.prototype.clear=function(){localStorage.clear()},Object.defineProperty(t.prototype,"length",{get:function(){return localStorage.length},enumerable:!0,configurable:!0}),t.prototype.key=function(t){return localStorage.key(t)},t.prototype.getObject=function(t,e){void 0===e&&(e=null);var r=this.get(t);return r&&JSON.parse(r)||e},t}();t.LocalStorage=e}(t.WebStorage||(t.WebStorage={}))}(Framework||(Framework={}));var Framework;!function(t){!function(t){var e=function(){function t(){}return t.prototype.set=function(t,e){sessionStorage.setItem(t,e)},t.prototype.setObject=function(t,e){this.set(t,JSON.stringify(e))},t.prototype.get=function(t,e){return void 0===e&&(e=""),sessionStorage.getItem(t)||e},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.remove=function(t){sessionStorage.removeItem(t)},t.prototype.clear=function(){sessionStorage.clear()},Object.defineProperty(t.prototype,"length",{get:function(){return sessionStorage.length},enumerable:!0,configurable:!0}),t.prototype.key=function(t){return sessionStorage.key(t)},t.prototype.getObject=function(t,e){void 0===e&&(e=null);var r=this.get(t);return r&&JSON.parse(r)||e},t}();t.SessionStorage=e}(t.WebStorage||(t.WebStorage={}))}(Framework||(Framework={}));var Closer;!function(t){var e=function(){function t(){var t=this;document.getElementsByClassName("close").map(function(e){return e.addEventListener("click",function(e){return t.close(e.target)}),e})}return t.prototype.close=function(t){var e=t.attribute("data-close"),r=t.getParentByClass(e);r&&r.hide()},t}();t.Closer=e}(Closer||(Closer={}));var DropDown;!function(t){var e=function(){return function(){document.getElementsByClassName("drop-down").map(function(t){return t.firstElementChild.addEventListener("click",function(t){t.preventDefault();var e=t.target.getParentByClass("drop-down");return e.hasClass("active")?e.removeClass("active"):e.addClass("active"),!1}),t}),window.addEventListener("click",function(t){for(var e=document.getElementsByClassName("drop-down"),r=0;r<e.length;++r)t.target.getParentByClass("drop-down")!==e[r]&&(e[r].className=e[r].className.replace("active",""))})}}();t.DropDown=e}(DropDown||(DropDown={}));var Mobile;!function(t){var e=function(){function t(){t.menuElements=[],document.getElementsByClassName("mobile").map(function(e){var r=e;if(r.hasClass("menu")){var n=r.id,i=r;t.menuElements=t.menuElements.concat({key:i.id,value:i});var o=document.createElement("a");o.href="#",o.className="fa-bars hidden-on-desktop display-on-tablet-landscape extra-large mobile-toggler",o.addEventListener("click",function(e){e.target.addClass("hidden"),t.show(n),e.preventDefault()}),r.parentElement.appendChild(o)}}),window.addEventListener("click",function(t){var e=t.target;null!=e.getParentByClass("mobile")||null!=e.getParentByClass("mobile-toggler")||e.hasClass("mobile-toggler")||(document.getElementsByClassName("mobile").map(function(t){return t.removeClass("show")}),document.getElementsByClassName("mobile-toggler").map(function(t){return t.removeClass("hidden")}))})}return t.show=function(e){t.menuElements.filter(function(t){return t.key===e}).forEach(function(t){return t.value.show()})},t.hide=function(e){t.menuElements.filter(function(t){return t.key===e}).forEach(function(t){return t.value.hide()})},t}();t.Mobile=e}(Mobile||(Mobile={}));var Tabs;!function(t){var e=function(){function t(){var t=this;document.getElementsByClassName("tabs").map(function(e){return t.changeTab(e.getElementsByClassName("tab").item(0)),e.getElementsByClassName("tab").map(function(e){return e.addEventListener("click",function(e){return e.preventDefault(),t.changeTab(e.target),!1}),null!==e.attribute("data-selected")&&t.changeTab(e),e}),e})}return t.prototype.changeTab=function(t){var e=t.attribute("data-content");t.getParentByClass("tabs").getElementsByClassName("tab").map(function(t){t.removeClass("selected")}),t.getParentByClass("tabs").getElementsByTagName("section").map(function(t){t.hide()});var r=document.getElementById(e);r&&(t.addClass("selected"),r.show())},t}();t.Tabs=e}(Tabs||(Tabs={}));var Framework;!function(t){var e=function(){return function(){var e=this;this.hotkeys=new t.Hotkey.Hotkeys,this.router=new t.Router.Router,this.validation=new t.Validation.FormValidation,this.errorLogger=new t.Logging.ErrorLogging,this.history=new t.History.PageHistory,this.localStorage=new t.WebStorage.LocalStorage,this.sessionStorage=new t.WebStorage.SessionStorage,this.closer=new Closer.Closer,this.dropDown=new DropDown.DropDown,this.mobile=new Mobile.Mobile,this.tabs=new Tabs.Tabs,window.addEventListener("keydown",function(t){return e.hotkeys.press(t)}),window.addEventListener("load",function(t){return e.validation.initialize()},!1),window.onerror=function(t,r,n,i,o){e.errorLogger.onError(t,r,n,i,o)}}}();t.Clarity=e}(Framework||(Framework={})),window.clarity=window.clarity||new Framework.Clarity;var Component;!function(t){!function(t){var e=function(){function t(t){this.element=t,this.name=t.id}return t.prototype.show=function(){this.element.replaceClass("hidden","show"),this.element.hasClass("show")||this.element.addClass("show")},t.prototype.hide=function(){this.element.replaceClass("show","hidden"),this.element.hasClass("hidden")||this.element.addClass("hidden")},t}();t.ComponentBase=e}(t.BaseClasses||(t.BaseClasses={}))}(Component||(Component={}));var Components;!function(t){var e=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/;Vue.component("clarity-grid",{computed:{filteredData:function(){var t=this.sortKey,e=this.filterKey&&this.filterKey.toLowerCase(),r=this.sortOrders[t]||1,n=this.data;if(e&&(n=n.filter(function(t){return Object.keys(t).some(function(r){return String(t[r]).toLowerCase().indexOf(e)>-1})})),t){var i=this.guessDataType(n);"string"===i?n=n.sort(this.sortString):"number"===i?n=n.sort(this.sortNumber):"date"===i?n=n.sort(this.sortDate):"MMDD Date"===i?n=n.sort(this.sortMMDDDate):"DDMM Date"===i&&(n=n.sort(this.sortDDMMDate)),1===r&&this.data.reverse()}return n}},data:function(){var t={};return this.columns.forEach(function(e){e=e.replace(/\s+/g,""),t[e]=1}),{sortKey:"",sortOrders:t}},filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},methods:{filteredColumn:function(t){return t.replace(/\s+/g,"")},guessDataType:function(t){for(var r="string",n=0;n<t.length;++n){var i=t[n][this.sortKey].toString().replace(/^\s+|\s+$/g,"");if(""!==i){if(i.match(/^-?[£$¤]?[\d,.]+%?$/))return"number";var o=i.match(e);if(o){var a=parseInt(o[1],10),s=parseInt(o[2],10);if(a>12)return"DDMM Date";if(s>12)return"MMDD Date";r="MMDD Date"}}}return r},sortBy:function(t){t=t.replace(/\s+/g,""),this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t]},sortDDMMDate:function(t,r){var n=t[this.sortKey].toString().match(e),i=n[3],o=n[1],a=n[2];1===a.length&&(a="0"+a),1===o.length&&(o="0"+o);var s=i+a+o;i=(n=r[this.sortKey].toString().match(e))[3],o=n[1],1===(a=n[2]).length&&(a="0"+a),1===o.length&&(o="0"+o);var u=i+a+o;return s===u?0:s<u?-1:1},sortDate:function(t,e){var r=new Date(t[this.sortKey]),n=new Date(e[this.sortKey]);return isNaN(r.getTime())&&(r=new Date(0)),isNaN(n.getTime())&&(n=new Date(0)),r===n?0:r<n?-1:1},sortMMDDDate:function(t,r){var n=t[this.sortKey].toString().match(e),i=n[3],o=n[2],a=n[1];1===a.length&&(a="0"+a),1===o.length&&(o="0"+o);var s=i+a+o;i=(n=r[this.sortKey].toString().match(e))[3],o=n[2],1===(a=n[1]).length&&(a="0"+a),1===o.length&&(o="0"+o);var u=i+a+o;return s===u?0:s<u?-1:1},sortNumber:function(t,e){var r=parseFloat(t[this.sortKey].toString().replace(/[^0-9.-]/g,"")),n=parseFloat(e[this.sortKey].toString().replace(/[^0-9.-]/g,""));return isNaN(r)&&(r=0),isNaN(n)&&(n=0),r-n},sortString:function(t,e){return t[this.sortKey]===e[this.sortKey]?0:t[this.sortKey]<e[this.sortKey]?-1:1}},props:{columns:Array,data:Array,filterKey:String},template:'<table class="sortable">\n            <thead>\n            <tr>\n                <th v-for="key in columns"\n                @click="sortBy(key)"\n                :class="{ active: sortKey == filteredColumn(key),\n                            headerSortUp: sortKey == filteredColumn(key) && sortOrders[filteredColumn(key)] > 0,\n                            headerSortDown: sortKey == filteredColumn(key) && sortOrders[filteredColumn(key)] < 0 }">\n                {{ key | capitalize }}\n                </th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for="entry in filteredData">\n                <td v-for="key in columns">\n                {{entry[filteredColumn(key)]}}\n                </td>\n            </tr>\n            </tbody>\n        </table>'})}(Components||(Components={}));var Components;Components||(Components={}),Vue.component("clarity-modal",{data:function(){return{classes:this.cssClasses}},methods:{closeModal:function(){this.showModal=!1,this.$emit("close")}},props:{cssClasses:String,showModal:{default:!1,type:Boolean}},template:'<div :class="{\'modal\': true, \'show\': showModal}">\n            <div :class="[\'panel\', classes]">\n                <header><slot name="header">Header</slot></header>\n                <div class="body"><slot name="body">Body</slot></div>\n                <footer>\n                    <slot name="footer">\n                        <input type="button" class="close right" value="Close" @click="closeModal" /><br class="clear" />\n                    </slot>\n                </footer>\n            </div>\n        </div>'});var Framework;!function(t){!function(t){var e=function(){function t(t,e,r){this.url=e,this.method=t.toUpperCase(),this.data=r,this.headers={},"GET"!==this.method&&"HEAD"!==this.method&&"DELETE"!==this.method&&"TRACE"!==this.method&&(this.headers["Content-Type"]="application/json"),this.headers.Accept="application/json",this.parser=function(t){return JSON.parse(t)},this.serializer=function(t){return JSON.stringify(t)}}return t.get=function(e,r){return new t("GET",e,r)},t.makeRequest=function(e,r,n){return new t(e,r,n)},t.post=function(e,r){return new t("POST",e,r)},t.put=function(e,r){return new t("PUT",e,r)},t.delete=function(e,r){return new t("DELETE",e,r)},t.prototype.onSuccess=function(t){return this.success=t,this},t.prototype.onError=function(t){return this.error=t,this},t.prototype.set=function(t,e){return this.headers[t]=e,this},t.prototype.type=function(t){return this.set("Content-Type",t)},t.prototype.accept=function(t){return this.set("Accept",t)},t.prototype.setParser=function(t){return this.parser=t,this},t.prototype.setSerializer=function(t){return this.serializer=t,this},t.prototype.setCredentials=function(t,e){return this.user=t,this.password=e,this},t.prototype.send=function(){var t=this;void 0!==this.error&&null!==this.error||(this.error=function(t){}),void 0!==this.success&&null!==this.success||(this.success=function(t){});var e=new XMLHttpRequest;e.open(this.method,encodeURI(this.url),!0,this.user,this.password);for(var r in this.headers)e.setRequestHeader(r,this.headers[r]);e.addEventListener("load",function(r){return 200===e.status?t.success(t.parser(e.responseText)):t.error(t.parser(e.responseText))}),e.addEventListener("error",function(r){return t.error(t.parser(e.responseText))}),void 0!==this.data?e.send(this.serializer(this.data)):e.send()},t}();t.Request=e}(t.AJAX||(t.AJAX={}))}(Framework||(Framework={}));
//# sourceMappingURL=clarity.min.js.map
