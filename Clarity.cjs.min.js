/**
 * Bundle of clarity
 * Generated: 2021-11-24
 * Version: 2.0.0
 * License: Apache-2.0
 * Author: James Craig
 */

var e,t;(e=self.document)&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t)),Object.defineProperty(exports,"__esModule",{value:!0});var r=require("vue"),a=require("moment"),i=require("showdown");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l,o,s=n(r),c=n(a),d=n(i);HTMLElement.prototype.getParentByClass=function(e){let t=this.parentElement;for(;t&&!t.hasClass(e);)t=t.parentElement;return t},HTMLElement.prototype.hasClass=function(e){return(" "+this.className+" ").indexOf(" "+e+" ")>-1},HTMLElement.prototype.replaceClass=function(e,t){let r=" "+this.className+" ";this.className=""===t?r.replace(new RegExp(" "+e+" ","gi")," ").trim():r.replace(new RegExp(" "+e+" ","gi")," "+t+" ").trim()},HTMLElement.prototype.toggleClass=function(e,t){this.hasClass(e)?this.replaceClass(e,t):this.replaceClass(t,e)},HTMLElement.prototype.removeClass=function(e){this.replaceClass(e,"")},HTMLElement.prototype.addClass=function(e){this.hasClass(e)||(this.className+=" "+e)},HTMLElement.prototype.show=function(){this.replaceClass("hidden","show"),this.addClass("show")},HTMLElement.prototype.hide=function(){this.replaceClass("show","hidden"),this.addClass("hidden")},HTMLElement.prototype.attribute=function(e,t=null){return null!=t?(this.setAttribute(e,t),t):this.getAttribute(e)},NodeList.prototype.map=function(e){let t=[];for(let r=0;r<this.length;++r)t=t.concat(e(this[r]));return t},NodeList.prototype.filter=function(e){let t=[];for(let r=0;r<this.length;++r)e(this[r])&&(t=t.concat(this[r]));return t},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");let r=Object(e);for(let e=1;e<arguments.length;e++){let t=arguments[e];if(null!=t)for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},writable:!0,configurable:!0}),String.prototype.slugify=function(){return this.trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")},String.prototype.stripHTML=function(){let e=document.createElement("div");return e.innerHTML=this,(e.textContent||e.innerText||"").replace(/^\s+|\s+$/g,"")},String.prototype.toNumber=function(){return null==this?0:parseFloat(this.stripHTML().replace(/[^0-9.-]/g,""))};class h{}h.keyMappings={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,META:91,"*":106,"+":107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145,";":186,"=":187,"":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};class m{constructor(e){this.keys=this.getKeys(e)}getKeys(e){return e.toUpperCase().split(/-(?!$)/).map((e=>h.keyMappings[e]||e.charCodeAt(0)))}isPressed(e){let t=e;if(t.length!==this.keys.length)return!1;for(let e=0;e<t.length;++e)if(-1===this.keys.indexOf(t[e]))return!1;return!0}}class u{constructor(e,t){this.keyCodeSequence=e.toUpperCase(),this.keyCodes=e.toUpperCase().split(" ").map((e=>new m(e))),this.callback=t,this.length=this.keyCodes.length,this.isDefault="<*>"===e}call(e,t,r){return this.callback(t,{scope:r,keysPressed:e}),!0}press(e,t,r){let a=e;if(a.length!==this.length)return!1;for(let e=0;e<this.keyCodes.length;++e)if(!this.keyCodes[e].isPressed(a[e]))return!1;return this.call(e,t,r)}isPartial(e){let t=e;if(t.length>this.length)return!1;for(let e=0;e<t.length;++e)if(!this.keyCodes[e].isPressed(t[e]))return!1;return!0}}class p{constructor(e){this.name=e,this.sequences=[]}press(e,t){this.sequences=this.sequences.sort(((e,t)=>e.length>t.length?1:-1));for(let r=0;r<this.sequences.length;++r)if(this.sequences[r].press(e,t,this))return!0;return!1}callDefault(e,t){let r=this.sequences.filter((e=>e.isDefault));return 0!==r.length&&r[0].call(e,t,this)}isPartial(e){for(let t=0;t<this.sequences.length;++t)if(this.sequences[t].isPartial(e))return!0;return!1}addSequence(e,t){return this.removeSequence(e),this.sequences.push(new u(e,t)),this}removeSequence(e){return this.sequences=this.sequences.filter((t=>t.keyCodeSequence!==e.toUpperCase())),this}clear(){return this.sequences=[],this}}class f{constructor(){this.scopes={},this.scopes.Default=new p("Default"),this.currentScope=this.scopes.Default,this.filter=e=>{let t=(e.target||e.srcElement).tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},this.latestKeys=[]}setScope(e){let t=this.addScope(e);return this.currentScope=t,t}addScope(e){let t=this.scopes[e];return void 0!==t||(t=new p(e),this.scopes[e]=t),t}removeScope(e){return this.scopes[e]=void 0,"Default"===e&&(this.scopes.Default=new p("Default")),this.currentScope.name===e&&(this.currentScope=this.scopes.Default),this}clear(){return this.scopes={},this.scopes.Default=new p("Default"),this.currentScope=this.scopes.Default,this.latestKeys=[],this}bind(e,t){return this.currentScope.addSequence(e,t),this}unbind(e){return this.currentScope.removeSequence(e),this}press(e){if(!this.filter(e))return;let t=this.getKeys(e);this.latestKeys.push(t);let r=this.latestKeys.slice();if(this.currentScope.press(this.latestKeys,e))this.latestKeys=[];else{for(;this.latestKeys.length>0;){if(this.currentScope.isPartial(this.latestKeys))return;this.latestKeys.shift()}0===this.latestKeys.length&&this.currentScope.callDefault(r,e)}}getKeys(e){let t=[];return e.altKey&&t.push(h.keyMappings.ALT),e.ctrlKey&&t.push(h.keyMappings.CTRL),e.metaKey&&t.push(h.keyMappings.META),e.shiftKey&&t.push(h.keyMappings.SHIFT),-1===t.indexOf(e.keyCode)&&t.push(e.keyCode),t}}class g{}class y{constructor(e,t){this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e,this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){this.getValue(e),t[this.part]=this.getValue(e)}}class k{constructor(e,t){let r=e.split("=",2);this.key=r[0],e=r[1],this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){if(null==e)return!1;let t=e.split("=",2);return 2===t.length&&(this.key.toUpperCase()===t[0].toUpperCase()&&(void 0===(e=t[1])?this.optional:this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase()))}getValue(e){if(null==e)return this.defaultValue;let t=e.split("=",2);return 2!==t.length?this.defaultValue:(e=t[1],this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue)}setValue(e,t){this.getValue(e),t[this.key]=this.getValue(e)}}class v{constructor(e,t){e=e.replace(/[#!]/g,""),this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e.replace(/[#!]/g,""),this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){e=(e=e||"").replace(/[#!]/g,""),t[this.part]=this.getValue(e)}}class C{constructor(e,t,r){void 0===r&&(r=new g),this.url=this.fixUrl(e),this.pathParts=this.getPathParts(this.url).map((e=>new y(e,r))),this.pathParts=this.pathParts?this.pathParts:[],this.queryParts=this.getQueryParts(this.url).map((e=>new k(e,r))),this.queryParts=this.queryParts?this.queryParts:[],this.hashParts=this.getHashParts(this.url).map((e=>new v(e,r))),this.hashParts=this.hashParts?this.hashParts:[],this.callbacks=[t],this.defaultValues=r}isRoute(e){return this.url===this.fixUrl(e)}addCallback(e){this.callbacks.push(e)}removeCallback(e){this.callbacks=this.callbacks.filter((t=>t!==e))}fixUrl(e){return e.length?e.replace(/^\//,"").replace(/\/+/g,"/").replace(/^\/|\/($|\?)/,"").replace(/\/\#/g,"#"):e}getPathParts(e){return e.split("?",2)[0].split("#",2)[0].split("/")}getHashParts(e){let t=e.split("?",2)[0].split("#",2);return t.length<2?[]:[t[1].replace("!","")]}getQueryParts(e){let t=e.split("?",2);return t.length<2?[]:(e=t[1])?e.split("&"):[]}getParametersFromUrl(e,t,r){let a=new g;for(let t=0;t<e.length;++t)this.pathParts[t].setValue(e[t],a);for(let e=0;e<t.length;++e)this.queryParts[e].setValue(t[e],a);for(let e=0;e<r.length;++e)this.hashParts[e].setValue(r[e],a);if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)this.pathParts[t].setValue("",a);if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)this.queryParts[e].setValue("",a);if(this.hashParts.length>r.length)for(let e=r.length;e<this.hashParts.length;++e)this.hashParts[e].setValue("",a);return a}isMatch(e,t,r){if(this.pathParts.length<e.length)return!1;for(let t=0;t<e.length;++t)if(!this.pathParts[t].isMatch(e[t]))return!1;if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)if(!this.pathParts[t].isMatch(""))return!1;if(this.queryParts.length<t.length)return!1;for(let e=0;e<t.length;++e)if(!this.queryParts[e].isMatch(t[e]))return!1;if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)if(!this.queryParts[e].isMatch(""))return!1;if(this.hashParts.length<r.length)return!1;for(let e=0;e<r.length;++e)if(!this.hashParts[e].isMatch(r[e]))return!1;if(this.hashParts.length>r.length)for(let e=r.length;e<this.hashParts.length;++e)if(!this.hashParts[e].isMatch(""))return!1;return!0}run(e){e=this.fixUrl(e);let t=this.getPathParts(e),r=this.getQueryParts(e),a=this.getHashParts(e);if(!this.isMatch(t,r,a))return!1;let i=this.getParametersFromUrl(t,r,a);return i.url=e,this.callbacks.forEach((e=>e(i))),!0}}class E{constructor(){this.routes=[]}map(e){for(let t=0;t<e.length;++t)this.addRoute(e[t].url,e[t].action,e[t].defaultValues)}addRoute(e,t,r){let a=this.routes.filter((t=>t.isRoute(e)));return 0===a.length?this.routes.push(new C(e,t,r)):a[0].addCallback(t),this}run(e){for(let t=0;t<this.routes.length;++t)if(this.routes[t].run(e))return!0;return!1}}class b{constructor(){this.errors=[],this.messageAttributes={},this.messageAttributes.patternMismatch="data-error-message-pattern-mismatch",this.messageAttributes.rangeOverflow="data-error-message-range-overflow",this.messageAttributes.rangeUnderflow="data-error-message-range-underflow",this.messageAttributes.stepMismatch="data-error-message-step-mismatch",this.messageAttributes.tooLong="data-error-message-too-long",this.messageAttributes.tooShort="data-error-message-too-short",this.messageAttributes.badInput="data-error-message-bad-input",this.messageAttributes.typeMismatch="data-error-message-type-mismatch",this.messageAttributes.valueMissing="data-error-message-value-missing"}initialize(){let e=this.map(document.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let t=0;t<e.length;++t)"RADIO"===e[t].type.toUpperCase()||"CHECKBOX"===e[t].type.toUpperCase()?e[t].addEventListener("change",(e=>this.inputHandler(e.target))):e[t].addEventListener("input",(e=>this.inputHandler(e.target))),e[t].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let t=this.map(document.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)t[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let r=this.map(document.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<r.length;++e)r[e].addEventListener("change",(e=>this.selectHandler(e.target))),r[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}map(e,t){let r=[];for(let a=0;a<e.length;++a)r=r.concat(t(e[a]));return r}filter(e,t){let r=[];for(let a=0;a<e.length;++a)t(e[a])&&(r=r.concat(e[a]));return r}initializeForm(e){if(null==e)return;let t=this.map(e.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)"RADIO"===t[e].type.toUpperCase()||"CHECKBOX"===t[e].type.toUpperCase()?t[e].addEventListener("change",(e=>this.inputHandler(e.target))):t[e].addEventListener("input",(e=>this.inputHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let r=this.map(e.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<r.length;++e)r[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),r[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let a=this.map(e.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<a.length;++e)a[e].addEventListener("change",(e=>this.selectHandler(e.target))),a[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}invalidInputHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidTextAreaHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidSelectHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}inputHandler(e){if("RADIO"===e.type.toUpperCase()){let t=document.getElementsByName(e.name).map((e=>e));for(let e=0;e<t.length;++e)t[e].setCustomValidity("")}else e.setCustomValidity("");e.checkValidity()}textAreaHandler(e){e.setCustomValidity(""),e.checkValidity()}selectHandler(e){e.setCustomValidity(""),e.checkValidity()}validate(){let e=!0;this.errors=[];let t=this.filter(document.getElementsByTagName("input"),(e=>!this.validateInput(e)));e=e&&0===t.length;let r=this.filter(document.getElementsByTagName("select"),(e=>!this.validateSelect(e)));e=e&&0===r.length;let a=this.filter(document.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e)));return e=e&&0===a.length,e}validateForm(e){if(null==e)return[];let t=[];this.errors=[];let r=this.filter(e.getElementsByTagName("input"),(e=>!this.validateInput(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e]);let a=this.filter(e.getElementsByTagName("select"),(e=>!this.validateSelect(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<a.length;++e)t=t.concat(a[e]);let i=this.filter(e.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<i.length;++e)t=t.concat(i[e]);return t}validateElement(e){if(null==e)return[];let t=[];if("INPUT"!==e.tagName||this.validateInput(e))if("SELECT"!==e.tagName||this.validateSelect(e)){if("TEXTAREA"===e.tagName&&!this.validateTextArea(e)){let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}}else{let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}else{let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}return t}validateSelect(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}validateTextArea(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}getErrorMessages(e,t){let r=[];for(let a in this.messageAttributes)if(t[a]){let t=e.attribute(this.messageAttributes[a]);null!==t&&(r=r.concat(t))}if(0===r.length){let t=e.attribute("data-error-message");r=null!==t?r.concat(t):r.concat(e.validationMessage)}return r}validateInput(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}}class V{constructor(){this.params=[]}toString(){let e=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+e+")"}}Function.prototype.trace=function(){for(var e=[],t=this;t;)e.push(t.signature()),t=t.caller;return e},Function.prototype.signature=function(){var e=new V;if(e.name=this.getName(),this.arguments)for(var t=0;t<this.arguments.length;t++)e.params.push(this.arguments[t]);return e},Function.prototype.getName=function(){if(this.name)return this.name;var e=this.toString().split("\n")[0],t=/^function ([^\s(]+).+/;return t.test(e)&&e.split("\n")[0].replace(t,"$1")||"anonymous"};class S{constructor(){this.logError=(e,t)=>{}}setLoggingFunction(e){this.logError=e}onError(e,t,r,a,i){var n;this.logError(e,null!==(n=null==i?void 0:i.stack)&&void 0!==n?n:"")}}class x{back(e){void 0===e&&(e=1),window.history.go(-1*e)}forward(e){void 0===e&&(e=1),window.history.go(e)}push(e,t,r){window.history.pushState(e,r,t)}replace(e,t,r){window.history.replaceState(e,r,t)}get state(){return window.history.state}get length(){return window.history.length}}class N{set(e,t){localStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return localStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}get length(){return localStorage.length}key(e){return localStorage.key(e)}getObject(e,t=null){let r=this.get(e);return r&&JSON.parse(r)||t}}class B{set(e,t){sessionStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return sessionStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}get length(){return sessionStorage.length}key(e){return sessionStorage.key(e)}getObject(e,t=null){let r=this.get(e);return r&&JSON.parse(r)||t}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function w(e,t,r,a){return new(r||(r=Promise))((function(i,n){function l(e){try{s(a.next(e))}catch(e){n(e)}}function o(e){try{s(a.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))}class T{constructor(e,t,r){this.DBName=e,this.Version=r;let a=indexedDB.open(e,r);a.onupgradeneeded=e=>{this.database=e.target.result;for(let e=0;e<t.length;++e){let r=t[e];this.database.objectStoreNames.contains(r)&&this.database.deleteObjectStore(r),this.database.createObjectStore(r)}},a.onsuccess=e=>{this.database=e.target.result}}openDatabase(e){indexedDB.open(this.DBName,this.Version).onsuccess=t=>(this.database=t.target.result,e(this))}add(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).put(t,r)}remove(e,t){this.database.transaction(e,"readwrite").objectStore(e).delete(t)}getByKey(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=r}getKeys(e,t){this.database.transaction(e,"readwrite").objectStore(e).getAllKeys().onsuccess=t}get(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=r}getAll(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).getAll(r).onsuccess=t}}class D{constructor(e,t,r){this.url=t,this.method=e.toUpperCase(),this.data=r,this.headers=new Headers,"GET"!==this.method&&"HEAD"!==this.method&&"DELETE"!==this.method&&"TRACE"!==this.method&&this.type("application/json"),this.accept("application/json"),this.parser=e=>e.json(),this.serializer=e=>JSON.stringify(e),this.storageMode=exports.StorageMode.NetworkOnly,this.databaseName="ClarityStorage",this.cacheKey=this.url+this.serializer(this.data),this.credentials="same-origin"}static get(e,t){return D.makeRequest("GET",e,t)}static makeRequest(e,t,r){return new D(e,t,r)}static post(e,t){return D.makeRequest("POST",e,t)}static put(e,t){return D.makeRequest("PUT",e,t)}static delete(e,t){return D.makeRequest("DELETE",e,t)}onSuccess(e){return this.success=e,this}onError(e){return this.error=e,this}setHeader(e,t){return this.headers.set(e,t),this}setCacheKey(e){return this.cacheKey=e,this}setCredentials(e){return this.credentials=e,this}type(e){return this.setHeader("Content-Type",e)}accept(e){return this.setHeader("Accept",e)}setParser(e){return this.parser=e,this}setMode(e,t="ClarityStorage"){return this.databaseName=t,this.storageMode=e,this}setSerializer(e){return this.serializer=e,this}send(){return w(this,void 0,void 0,(function*(){null==this.error&&(this.error=e=>{}),null==this.success&&(this.success=e=>{});let e=this.serializer(this.data);if(this.storageMode===exports.StorageMode.StorageFirst&&(D.returnValueFromDB(this.cacheKey,this.databaseName,this.success),this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),(e=>{D.saveValueToDB(e,this.cacheKey,this.databaseName)})),yield Promise.resolve("A")),this.storageMode===exports.StorageMode.StorageAndUpdate)return D.returnValueFromDB(this.cacheKey,this.databaseName,this.success),void this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),(e=>{D.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}));this.storageMode!==exports.StorageMode.NetworkFirst?this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),this.success):this.queryNetwork(e,this.cacheKey,this.databaseName,this.success,(e=>{D.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}))}))}static saveValueToDB(e,t,r){new T(r,["cache","cacheExpirations"],1).openDatabase((r=>{void 0!==e&&(r.add("cache",e,t),r.add("cacheExpirations",Date.now(),t))}))}queryNetwork(e,t,r,a,i){navigator.onLine?fetch(this.url,{credentials:this.credentials,method:this.method,body:e,headers:this.headers}).then(this.parser).then(i).catch(this.error):this.storageMode===exports.StorageMode.NetworkFirst&&D.returnValueFromDB(t,r,a)}static returnValueFromDB(e,t,r){new T(t,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&r(t)}))}))}}exports.StorageMode=void 0,(l=exports.StorageMode||(exports.StorageMode={}))[l.NetworkFirst=0]="NetworkFirst",l[l.StorageFirst=1]="StorageFirst",l[l.NetworkOnly=2]="NetworkOnly",l[l.StorageAndUpdate=3]="StorageAndUpdate";class M{static get domain(){return window.location.protocol+"//"+window.location.host+"/"}static get isLocal(){return/^https?:\/\/localhost:\d{1,5}\/$/.test(M.domain)}static GetQueryString(e){let t=window.location.href;var r=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return r?r[1]:null}static get HashBang(){return window.location.hash.replace("#!","")}static get Id(){return window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1)}}class F{static exportData(e,t,r=M.Id,a=o.CSV){if(0==e.length)return;r=r||M.Id;let i="";i=a===o.CSV?this.exportCSV(e,t,r):e.join(","),this.download(i,r)}static capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}static exportCSV(e,t,r){var a,i;let n="",l=Object.keys(e[0]),o="";for(let e=0;e<l.length;++e){let r=l[e],s=t.filter((function(e){return e.property===r}));0===s.length&&(s=[{display:r,property:r}]);let c=(null===(a=s[0])||void 0===a?void 0:a.display)||(null===(i=s[0])||void 0===i?void 0:i.property)||r;n+=o+'"'+this.capitalize(c)+'"',o=","}n+="\n";for(let t=0;t<e.length;++t){let r=e[t],a=Object.keys(r);o="";for(let e=0;e<a.length;++e)n+=o+'"'+r[a[e]].replaceAll('"',"'")+'"',o=",";n+="\n"}return n}static download(e,t){if(null!=e)if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([e]),t);else{var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}!function(e){e[e.CSV=0]="CSV"}(o||(o={}));var I=s.default.defineComponent({data:()=>({}),methods:{closeModal:function(){this.$emit("close")}},props:{cssClasses:String,showModal:{default:!1,type:Boolean}}});const P=r.createTextVNode("Header"),L={class:"body"},A=r.createTextVNode("Body"),O=r.createElementVNode("br",{class:"clear"},null,-1);I.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass({"clarity-modal":!0,show:e.showModal})},[r.createElementVNode("div",{class:r.normalizeClass(["panel",e.cssClasses])},[r.createElementVNode("header",null,[r.renderSlot(e.$slots,"header",{},(()=>[P]))]),r.createElementVNode("div",L,[r.renderSlot(e.$slots,"body",{},(()=>[A]))]),r.createElementVNode("footer",null,[r.renderSlot(e.$slots,"footer",{},(()=>[r.createElementVNode("input",{type:"button",class:"close right",value:"Close",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))}),O]))])],2)],2)},I.__file="src/ts/Component/Modal/ClarityModal.vue";var q=s.default.defineComponent({methods:{findTab:function(e){return this.sections&&0!==this.sections.length?(e||(e=this.sections[0].name),this.sections.filter((t=>t.name===e))[0]):null},switchSelected:function(e){this.sectionPicked=this.findTab(e),this.switchTabs(),this.$emit("section-changed",this.sectionPicked)},switchTabs:function(){if(this.sections&&0!==this.sections.length&&(this.sections.some((e=>e===this.sectionPicked))||(this.sectionPicked=this.sections[0]),this.sectionPicked)){for(let e=0;e<this.sections.length;++e)this.sections[e].selected=!1;this.sectionPicked.selected=!0}}},props:{initialSectionPicked:{type:Object,default:{}},sections:{type:Array,default:[]}},watch:{sections:function(e){this.switchSelected(this.sectionPicked)},initialSectionPicked:function(e){this.switchSelected(this.initialSectionPicked)}},data(){return{sectionPicked:this.findTab(this.initialSectionPicked)}},beforeMount:function(){this.switchSelected(this.initialSectionPicked)}});const G={class:"clarity-tabs"},H={class:"row flex align-items-stretch"},$=["onClick"];var U,j,K,z;q.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",G,[r.createElementVNode("header",null,[r.createElementVNode("ul",H,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.sections,((t,a)=>(r.openBlock(),r.createElementBlock("li",{key:a},[r.createElementVNode("a",{href:"#!",onClick:r.withModifiers((r=>e.switchSelected(t.name)),["stop","prevent"]),class:r.normalizeClass(["tab",{selected:t.selected}])},[r.createElementVNode("span",{class:r.normalizeClass([t.icon])},null,2),r.createTextVNode(" "+r.toDisplayString(t.name),1)],10,$)])))),128))])]),r.createElementVNode("section",null,[r.renderSlot(e.$slots,"default")])])},q.__file="src/ts/Component/Tabs/ClarityTabs.vue",exports.Grid=void 0,U=exports.Grid||(exports.Grid={}),(j=U.ColumnDataType||(U.ColumnDataType={}))[j.String=0]="String",j[j.Image=1]="Image",j[j.Link=2]="Link",j[j.Number=3]="Number",j[j.Date=4]="Date",(K=U.FilterType||(U.FilterType={}))[K.Dropdown=0]="Dropdown",K[K.Textbox=1]="Textbox",(z=U.ComparisonType||(U.ComparisonType={}))[z.StartsWith=0]="StartsWith",z[z.Contains=1]="Contains",z[z.EndsWith=2]="EndsWith",z[z.Equals=3]="Equals",z[z.After=4]="After",z[z.AfterOrEqual=5]="AfterOrEqual",z[z.Before=6]="Before",z[z.BeforeOrEqual=7]="BeforeOrEqual";class R{constructor(){this.value="",this.comparison=exports.Grid.ComparisonType.Contains,this.type=exports.Grid.FilterType.Textbox,this.filtered=!1}}class _{constructor(e=!0,t="filteredTable"){this.saveFilters=!0,this.sourceName="filteredTable",this.saveFilters=e,this.sourceName=t}}class W{constructor(e,t,r){if(this.display="",this.dataType=exports.Grid.ColumnDataType.String,this.sum=!1,this.locales="en-US",this.url="",this.filter=new R,this.sort=!1,this.sortDirection=1,this.default="",this.show=!0,null==e||null==t)return;if(null==r&&(r=new _),"string"==typeof e){let r=new W;r.property=e.replace(W.MultipleSpacesRegex,"").trim(),r.display=W.fixHeader(e),r.dataType=W.guessDataType(e,t),e=r}"property"in e&&(this.property=e.property.replace(W.MultipleSpacesRegex,"").trim());let a=[{name:"display",default:e=>W.fixHeader(e.property)},{name:"property",default:e=>e.display.replace(W.MultipleSpacesRegex,"").trim()},{name:"dataType",default:e=>W.guessDataType(e.property,t)},{name:"sum",default:e=>!1},{name:"locales",default:e=>"en-US"},{name:"format",default:e=>({})},{name:"url",default:e=>""},{name:"filter",default:e=>new R},{name:"sort",default:e=>!1},{name:"sortDirection",default:e=>1},{name:"default",default:e=>""},{name:"show",default:e=>!1}];for(let t=0;t<a.length;++t){let r=a[t];e.hasOwnProperty(r.name)?this[r.name]=e[r.name]:this[r.name]=r.default(this)}if("filter"in e){let t=[{name:"value",default:e=>""},{name:"comparison",default:e=>exports.Grid.ComparisonType.Contains},{name:"type",default:e=>exports.Grid.FilterType.Textbox},{name:"filtered",default:e=>!1}];for(let r=0;r<t.length;++r){let a=t[r];e.filter.hasOwnProperty(a.name)?this.filter[a.name]=e.filter[a.name]:this.filter[a.name]=a.default(this.filter)}W.returnValueFromDB(this.property,r,(e=>this.filter.value=e))}}saveFilter(e){W.saveValueToDB(this.filter.value,this.property,e)}formatValue(e){if(null!=e&&""!==e||(e=this.default),""===e)return e;if(this.dataType===exports.Grid.ColumnDataType.String)return(null==e?void 0:e.toString().replace(/\n/gi,"<br />"))||"";let t=typeof e;if(this.dataType===exports.Grid.ColumnDataType.Number){if("number"===t)return new Intl.NumberFormat(this.locales,this.format).format(e);if("string"===t)return new Intl.NumberFormat(this.locales,this.format).format(W.getNumber(e.stripHTML()))}else if(this.dataType===exports.Grid.ColumnDataType.Date){if("number"===t)return new Intl.DateTimeFormat(this.locales,this.format).format(e);if("string"===t)return e=e.stripHTML(),1900===c.default(e).year()?"":new Intl.DateTimeFormat(this.locales,this.format).format(Date.parse(e))}else{if(this.dataType===exports.Grid.ColumnDataType.Link)return"<a href='"+(e=e.stripHTML())+"'>"+e+"</a>";if(this.dataType===exports.Grid.ColumnDataType.Image)return"<img src='"+(e=e.stripHTML())+"' alt='"+e+"'"+(this.default?" onerror='this.src=\""+this.default+"\"'":"")+" />"}return e}passesFilter(e){var t=(this.filter.value||"").toLowerCase();if(""===t)return!0;if(""===e)return!1;if(e=e.toLowerCase(),this.dataType===exports.Grid.ColumnDataType.Date){let r=c.default(e),a=c.default(t);return this.filter.comparison===exports.Grid.ComparisonType.After?r.isAfter(a):this.filter.comparison===exports.Grid.ComparisonType.AfterOrEqual?r.isSameOrAfter(a):this.filter.comparison===exports.Grid.ComparisonType.BeforeOrEqual?r.isSameOrBefore(a):this.filter.comparison===exports.Grid.ComparisonType.Before?r.isBefore(a):r.isSame(a)}return this.filter.comparison===exports.Grid.ComparisonType.After?e>t:this.filter.comparison===exports.Grid.ComparisonType.AfterOrEqual?e>=t:this.filter.comparison===exports.Grid.ComparisonType.BeforeOrEqual?e<=t:this.filter.comparison===exports.Grid.ComparisonType.Before?e<t:this.filter.comparison===exports.Grid.ComparisonType.Contains?e.indexOf(t)>-1:this.filter.comparison===exports.Grid.ComparisonType.EndsWith?e.endsWith(t):this.filter.comparison===exports.Grid.ComparisonType.StartsWith?e.startsWith(t):this.filter.comparison!==exports.Grid.ComparisonType.Equals||e===t}static fixHeader(e){return e.replace("_"," ").replace("-"," ").replace(/([a-z])([A-Z])/g,"$1 $2")}static getNumber(e){return e?parseFloat(e.toString().replace(/[^0-9.-]/g,"")):0}static guessDataType(e,t){let r=document.createElement("div");for(let a=0;a<t.length;++a){if(!(e in t[a]))continue;let i=t[a][e].toString();if(r.innerHTML=i,i=(r.textContent||r.innerText||"").replace(this.isWhiteSpaceRegex,""),""!==i){if(i.match(this.imageRegex))return exports.Grid.ColumnDataType.Image;if(i.match(this.urlRegex))return exports.Grid.ColumnDataType.Link;if(i.match(this.numberRegex)&&!i.match(this.phoneRegex))return exports.Grid.ColumnDataType.Number;if(i.match(this.dateRegex))return exports.Grid.ColumnDataType.Date}}return exports.Grid.ColumnDataType.String}static returnValueFromDB(e,t,r){t.saveFilters&&new T(t.sourceName,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&r(t)}))}))}static saveValueToDB(e,t,r){r.saveFilters&&new T(r.sourceName,["cache","cacheExpirations"],1).openDatabase((r=>{void 0!==e&&(r.add("cache",e,t),r.add("cacheExpirations",Date.now(),t))}))}}W.dateRegex=/^((\d\d)?\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)(T\d\d:\d\d:\d\dZ?)?$/gi,W.numberRegex=/^-?[£$¤]?[\d,.]+%?$/,W.phoneRegex=/^\d\d\d.\d\d\d.\d\d\d\d$/,W.urlRegex=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,W.imageRegex=/^(http)?s?:?(\/\/[^"']*\.(?:png|jpg|jpeg|gif|png|svg))$/,W.isWhiteSpaceRegex=/^\s+|\s+$/g,W.MultipleSpacesRegex=/\s+/g;class Y{constructor(e,t){let r=e[t.property.split(".").pop()];this.value=t.formatValue(this.replaceProperties(r,e)),this.url=this.getUrl(t.url,e)}getUrl(e,t){if(""===e||null==t)return"";let r=this.replaceProperties(e,t);for(;r.indexOf("{")>-1&&r.indexOf("}")>-1;)r=this.replaceProperties(r,t);return r}replaceProperties(e,t){if("string"!=typeof e||-1===e.indexOf("{")||-1===e.indexOf("}"))return e;let r=e.match(/{([^}]*)}/g);for(let a=0;a<r.length;++a){let i=r[a].replace("{","").replace("}",""),n=this.stripHTML(t[i])||"";e=e.replaceAll("{"+i+"}",n)}return e}stripHTML(e){let t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").replace(/^\s+|\s+$/g,"")}}class J{constructor(e,t){this.column=e,this.data=this.getItems(t,e)}getItems(e,t){let r=this.getParentProperties(e,t.property),a=[];for(let e=0;e<r.length;++e){let i=r[e];a.push(new Y(i,t))}return a}getParentProperties(e,t){if(!t)return[];let r=t.split("."),a=e[r[0]];if(1===r.length)return Array.isArray(e)?e:[e];let i=r.slice(1,r.length).join(".");if(Array.isArray(a)){let e=[];for(let t=0;t<a.length;++t)e=e.concat(this.getParentProperties(a[t],i));return e}return this.getParentProperties(a,i)}}class Q{constructor(e,t){this.columns=[],this.originalData=[],this.originalData=e;for(let r=0;r<t.length;++r)this.columns.push(new J(t[r],e))}}class X{static sortDate(e,t){let r=c.default(e),a=c.default(t);return r.isValid()||(r=c.default(new Date(0))),a.isValid()||(a=c.default(new Date(0))),r.isBefore(a)?-1:r.isAfter(a)?1:0}static sortNumber(e,t){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e-t}static sortString(e,t){return e===t?0:e<t?-1:1}}var Z=s.default.defineComponent({watch:{columns:function(e,t){this.internalColumns.length=0,this.internalColumns=this.getColumnInfos(e,this.data,this.databaseSettings),this.internalData=this.getData(this.internalData.map((e=>e.originalData)),this.internalColumns),this.filterChanged()},data:function(e,t){this.internalData.length=0,this.internalData=this.getData(e,this.internalColumns),this.filterChanged()}},computed:{anySum:function(){return this.internalColumns.some((e=>e.sum))},endPage:function(){let e=10*Math.floor((this.page-1)/10)+10;return e>this.finalPage?this.finalPage:e},filteredGroups:function(){var e;if(!this.groupBy)return[""];let t=this.filteredData,r=[];for(let e=0;e<t.length;++e){let a=t[e].originalData[this.groupBy];if(!a)continue;if(Array.isArray(a)){for(let e=0;e<a.length;++e){let t=a[e].toString();-1===r.indexOf(t)&&r.push(t)}continue}let i=a.toString();-1===r.indexOf(i)&&r.push(i)}let a=null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase();return r.filter((e=>-1!==e.toLowerCase().indexOf(a))).sort((function(e,t){return e===t?0:e<t?-1:1}))},filteredData:function(){var e;let t=this.filter(this.internalData,null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase());return this.sort(t,this.internalColumns,this.sortKey)},finalPage:function(){return-1===this.pageSize?1:Math.ceil(this.total/this.pageSize)},pageable:function(){return this.paged&&this.pageSize>0&&this.filteredData.length>this.pageSize},startPage:function(){return 10*Math.floor((this.page-1)/10)}},data:function(){let e=this,t=new _(this.saveFilters),r=e.getColumnInfos(this.columns,this.data,t),a=[];return a[exports.Grid.ColumnDataType.String]=this.sortString,a[exports.Grid.ColumnDataType.Number]=this.sortNumber,a[exports.Grid.ColumnDataType.Date]=this.sortDate,{sortKey:-1,draggedColumn:null,internalColumns:r,databaseSettings:t,filterKey:e.filterValue,internalData:e.getData(this.data,r),sortMethods:a}},methods:{exportData:function(e){let t=[];if(""===this.groupBy){let e=this.filteredData;for(let r=0;r<e.length;++r){let a=e[r],i={};for(let e=0;e<a.columns.length;++e){i[a.columns[e].column.property]=a.columns[e].data.map((e=>e.value)).join(", ")}t.push(i)}}else{let e=this.filteredGroups;for(let r=0;r<e.length;++r){let a=e[r],i=this.getEntriesInGroup(a),n={};n[i[0].columns[0].column.property]=a;for(let e=1;e<i[0].columns.length;++e){n[i[0].columns[e].column.property]=""}t.push(n);for(let e=0;e<i.length;++e){let r=i[e],a={};for(let e=0;e<r.columns.length;++e){a[r.columns[e].column.property]=r.columns[e].data.map((e=>e.value)).join(", ")}t.push(a)}}}F.exportData(t,this.columns,this.exportInfo.fileName+"."+e,o.CSV)},filter:function(e,t){return t&&""===this.groupBy&&(e=e.filter((e=>e.columns.some((e=>e.data.some((e=>e.value.toLowerCase().indexOf(t)>-1))))))),e.filter((e=>e.columns.every((e=>e.data.map((e=>e.value)).some((t=>e.column.passesFilter(t)))))))},filterChanged:function(){this.$emit("data-updated",{data:this.filteredData})},getColumnInfos:function(e,t,r){return e.map((e=>new W(e,t,r)))},getData:function(e,t){return e.map((e=>new Q(e,t)))},getDistinctValues:function(e){var t;let r=[""],a=this.filteredData;for(let i=0;i<a.length;++i){let n=(null===(t=a[i].columns.find((t=>t.column.property===e.property)))||void 0===t?void 0:t.data.map((e=>e.value)))||[];for(let e=0;e<n.length;++e)-1===r.indexOf(n[e])&&r.push(n[e])}return r.sort(X.sortString)},getEntriesInGroup:function(e){let t=this.filteredData,r=this;return""===r.groupBy?t:t.filter((t=>r.isInGroup(t.originalData[r.groupBy],e)))},isInGroup:function(e,t){let r=this;return Array.isArray(e)?e.some((e=>r.isInGroup(e,t))):(null==e?void 0:e.toString())===t},rowClicked:function(e){for(let e=0;e<this.internalColumns.length;++e){let t=this.internalColumns[e];t.filter&&void 0!==t.filter.value&&t.saveFilter(this.databaseSettings)}this.$emit("row-clicked",{entry:e})},setPage:function(e){e>this.finalPage?e=this.finalPage:e<1&&(e=1);let t=this.internalColumns[this.sortKey],r=(null==t?void 0:t.sortDirection)||0;this.$emit("pagechange",{page:e,filter:this.filterKey,sort:this.sortKey,direction:r})},sort:function(e,t,r){if(!this.sortable)return e;let a=this.sortKey;for(let r=0;r<t.length;++r){let a=t[r];a.sort&&(this.sortKey=r,e=e.sort(this.sortMethods[a.dataType]))}if(this.sortKey=a,-1===r)return e;let i=t[r];return e=e.sort(this.sortMethods[i.dataType]),1===i.sortDirection?e.reverse():e},sortBy:function(e,t){this.sortKey=t,e.sortDirection=-1*e.sortDirection,this.$emit("pagechange",{page:this.page,filter:this.filterKey,sort:this.sortKey,direction:e.sortDirection})},sortDate:function(e,t){var r,a;let i=(null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"",n=(null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"";return X.sortDate(new Date(i),new Date(n))},sortNumber:function(e,t){var r,a;let i=((null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"").toString().toNumber(),n=((null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"").toString().toNumber();return X.sortNumber(i,n)},sortString:function(e,t){var r,a;let i=(null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"",n=(null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"";return X.sortString(i,n)},sumColumn:function(e,t){if(!t.sum)return"";let r=this.getEntriesInGroup(e);return t.formatValue(r.map((e=>{var r;return null===(r=e.originalData[t.property])||void 0===r?void 0:r.toString().toNumber()})).reduce(((e,t)=>e+t)))}},props:{columns:{default:[],type:Array},data:{default:[],type:Array},groupBy:{default:"",type:String},page:{default:1,type:Number},paged:{default:!1,type:Boolean},pageSize:{default:-1,type:Number},total:{default:0,type:Number},saveFilters:{default:!0,type:Boolean},searchable:{default:!0,type:Boolean},showCount:{default:!0,type:Boolean},sortable:{default:!0,type:Boolean},quickNav:{default:!1,type:Boolean},filterValue:{default:"",type:String},exportInfo:{default:{exportable:!0,fileName:M.Id},type:Object}}});const ee={class:"clarity-grid"},te={class:"panel"},re={class:"body"},ae={key:0,class:"right do-not-print flex column"},ie={class:"no-border"},ne=r.createElementVNode("td",null," Search: ",-1),le=r.createElementVNode("td",null," Export: ",-1),oe={key:1,class:"do-not-print"},se=r.createTextVNode(" Show "),ce=[r.createStaticVNode('<option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="-1">All</option>',6)],de=r.createTextVNode(" entries "),he={key:2,class:"quick-nav do-not-print"},me={class:"inline"},ue=r.createElementVNode("li",null,"Quick nav:",-1),pe=["href"],fe=r.createElementVNode("br",{class:"clear"},null,-1),ge={class:"sortable",id:"filteredTable"},ye=["onClick","columnName"],ke={key:0},ve={key:0,class:"do-not-print"},Ce=["type","placeholder","onUpdate:modelValue","list"],Ee=["id"],be={key:1,class:"do-not-print"},Ve=["onUpdate:modelValue"],Se={key:0,class:"grid-group-header"},xe=["colspan"],Ne=["id"],Be=["onClick"],we=["innerHTML"],Te=["innerHTML","href"],De={key:1,class:"grid-group-footer"},Me=["colspan"],Fe={key:2,class:"grid-group-footer"},Ie=["innerHTML"],Pe={key:0,class:"do-not-print"},Le=["colspan"],Ae={class:"right"},Oe={class:"paged"},qe=["onClick"],Ge={key:0,class:"do-not-print"};Z.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",ee,[r.createElementVNode("div",te,[r.createElementVNode("div",re,[e.searchable?(r.openBlock(),r.createElementBlock("div",ae,[r.createElementVNode("table",ie,[r.createElementVNode("tbody",null,[r.createElementVNode("tr",null,[ne,r.createElementVNode("td",null,[r.withDirectives(r.createElementVNode("input",{type:"text",placeholder:"Filter Entries","onUpdate:modelValue":t[0]||(t[0]=t=>e.filterKey=t),onKeyup:t[1]||(t[1]=(...t)=>e.filterChanged&&e.filterChanged(...t))},null,544),[[r.vModelText,e.filterKey]])])]),r.createElementVNode("tr",null,[le,r.createElementVNode("td",null,[e.exportInfo.exportable?(r.openBlock(),r.createElementBlock("a",{key:0,href:"#!",class:"fas fa-file-csv",onClick:t[2]||(t[2]=t=>e.exportData("CSV"))})):r.createCommentVNode("v-if",!0)])])])])])):r.createCommentVNode("v-if",!0),e.paged?(r.openBlock(),r.createElementBlock("span",oe,[se,r.withDirectives(r.createElementVNode("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.pageSize=t)},ce,512),[[r.vModelSelect,e.pageSize]]),de])):r.createCommentVNode("v-if",!0),e.quickNav&&e.filteredGroups?(r.openBlock(),r.createElementBlock("div",he,[r.createElementVNode("ul",me,[ue,(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.filteredGroups,(e=>(r.openBlock(),r.createElementBlock("li",{key:e},[r.createElementVNode("a",{href:"#"+e},r.toDisplayString(e),9,pe)])))),128))])])):r.createCommentVNode("v-if",!0),fe])]),r.createElementVNode("table",ge,[r.createElementVNode("thead",null,[r.createElementVNode("tr",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.internalColumns,((a,i)=>(r.openBlock(),r.createElementBlock("th",{key:a,onClick:t=>e.sortBy(a,i),class:r.normalizeClass({active:e.sortKey==i,headerSortUp:e.sortKey==i&&a.sortDirection>0,headerSortDown:e.sortKey==i&&a.sortDirection<0}),columnName:a.property},[r.createTextVNode(r.toDisplayString(e.$filters.capitalize(a.display))+" ",1),a.filter.filtered?(r.openBlock(),r.createElementBlock("div",ke,[1==a.filter.type?(r.openBlock(),r.createElementBlock("div",ve,[r.withDirectives(r.createElementVNode("input",{type:a.filter.type,placeholder:a.filter.placeholder,"onUpdate:modelValue":e=>a.filter.value=e,list:a.property,onClick:t[4]||(t[4]=r.withModifiers((()=>{}),["stop","prevent"])),onKeyup:t[5]||(t[5]=(...t)=>e.filterChanged&&e.filterChanged(...t))},null,40,Ce),[[r.vModelDynamic,a.filter.value]]),r.createElementVNode("datalist",{id:a.property},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.getDistinctValues(a),(e=>(r.openBlock(),r.createElementBlock("option",{key:e},r.toDisplayString(e),1)))),128))],8,Ee)])):r.createCommentVNode("v-if",!0),0==a.filter.type?(r.openBlock(),r.createElementBlock("div",be,[r.withDirectives(r.createElementVNode("select",{"onUpdate:modelValue":e=>a.filter.value=e,onClick:t[6]||(t[6]=r.withModifiers((()=>{}),["stop","prevent"])),onChange:t[7]||(t[7]=(...t)=>e.filterChanged&&e.filterChanged(...t))},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.getDistinctValues(a),(e=>(r.openBlock(),r.createElementBlock("option",{key:e},r.toDisplayString(e),1)))),128))],40,Ve),[[r.vModelSelect,a.filter.value]])])):r.createCommentVNode("v-if",!0)])):r.createCommentVNode("v-if",!0)],10,ye)))),128))])]),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.filteredGroups,(t=>(r.openBlock(),r.createElementBlock("tbody",{key:t},[""!==t?(r.openBlock(),r.createElementBlock("tr",Se,[r.createElementVNode("td",{colspan:e.internalColumns.length},[r.createElementVNode("a",{id:t},null,8,Ne),r.createTextVNode(r.toDisplayString(t),1)],8,xe)])):r.createCommentVNode("v-if",!0),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.getEntriesInGroup(t),((t,a)=>(r.openBlock(),r.createElementBlock("tr",{key:a,onClick:r=>e.rowClicked(t)},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(t.columns,(e=>(r.openBlock(),r.createElementBlock("td",{key:e,class:r.normalizeClass(t.style)},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.data,(e=>(r.openBlock(),r.createElementBlock("div",{key:e},[e.url?r.createCommentVNode("v-if",!0):(r.openBlock(),r.createElementBlock("div",{key:0,innerHTML:e.value},null,8,we)),e.url?(r.openBlock(),r.createElementBlock("a",{key:1,innerHTML:e.value,href:e.url},null,8,Te)):r.createCommentVNode("v-if",!0)])))),128))],2)))),128))],8,Be)))),128)),e.anySum?(r.openBlock(),r.createElementBlock("tr",De,[r.createElementVNode("td",{colspan:e.internalColumns.length},"Totals:",8,Me)])):r.createCommentVNode("v-if",!0),e.anySum?(r.openBlock(),r.createElementBlock("tr",Fe,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.internalColumns,(a=>(r.openBlock(),r.createElementBlock("td",{innerHTML:e.sumColumn(t,a),key:a},null,8,Ie)))),128))])):r.createCommentVNode("v-if",!0)])))),128)),e.pageable?(r.openBlock(),r.createElementBlock("tfoot",Pe,[r.createElementVNode("tr",null,[r.createElementVNode("td",{colspan:e.internalColumns.length},[r.createElementVNode("div",Ae,"Page "+r.toDisplayString(e.page)+" of "+r.toDisplayString(e.finalPage),1),r.createElementVNode("ul",Oe,[r.createElementVNode("li",{class:r.normalizeClass(["cursor-pointer fas fa-fast-backward text-center",{disabled:1==e.page}]),onClick:t[8]||(t[8]=t=>e.setPage(1))},null,2),r.createElementVNode("li",{class:r.normalizeClass(["cursor-pointer fas fa-step-backward text-center",{disabled:1==e.page}]),onClick:t[9]||(t[9]=t=>e.setPage(e.page-1))},null,2),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.endPage-e.startPage,(t=>(r.openBlock(),r.createElementBlock("li",{class:r.normalizeClass(["cursor-pointer text-center",{active:e.page==e.startPage+t}]),onClick:r=>e.setPage(e.startPage+t),key:t},r.toDisplayString(e.startPage+t),11,qe)))),128)),r.createElementVNode("li",{class:r.normalizeClass(["cursor-pointer fas fa-step-forward text-center",{disabled:e.page==e.finalPage}]),onClick:t[10]||(t[10]=t=>e.setPage(e.page+1))},null,2),r.createElementVNode("li",{class:r.normalizeClass(["cursor-pointer fas fa-fast-forward text-center",{disabled:e.page==e.finalPage}]),onClick:t[11]||(t[11]=t=>e.setPage(e.finalPage))},null,2)])],8,Le)])])):r.createCommentVNode("v-if",!0)]),e.showCount?(r.openBlock(),r.createElementBlock("div",Ge," Filtered count: "+r.toDisplayString(e.filteredData.length),1)):r.createCommentVNode("v-if",!0)])},Z.__file="src/ts/Component/Grid/ClarityGrid.vue";var He=s.default.defineComponent({data:()=>({errorMessages:[],formValidator:new b}),mounted(){this.$nextTick((function(){this.revalidate()}))},methods:{revalidate:function(){if(null==this.$el)return!0;let e=this.getParentForm(this.$el);if(null==e&&!this.formValidator.validate())return this.errorMessages=this.formValidator.errors,!1;let t=this.formValidator.validateForm(e);return t.length>0?(this.errorMessages=t,!1):(this.errorMessages=[],!0)},getParentForm:function(e){let t=e.parentNode;return"FORM"===t.nodeName||null===t?t:this.getParentForm(t)}}});const $e={class:"panel error clarity-validator"},Ue=r.createElementVNode("a",{name:"errorSection"},null,-1),je=r.createTextVNode("Some Errors Were Discovered");He.render=function(e,t,a,i,n,l){return r.withDirectives((r.openBlock(),r.createElementBlock("div",$e,[Ue,r.createElementVNode("header",null,[r.renderSlot(e.$slots,"default",{},(()=>[je]))]),r.createElementVNode("ul",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.errorMessages,(e=>(r.openBlock(),r.createElementBlock("li",{key:e},r.toDisplayString(e),1)))),128))])],512)),[[r.vShow,e.errorMessages.length>0]])},He.__file="src/ts/Component/FormValidation/ClarityFormValidator.vue";var Ke=s.default.defineComponent({data:function(){let e;if("date"===this.schema.inputType||"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType||"month"===this.schema.inputType){let t=c.default(this.model);this.schema.isUTC&&(t=c.default.utc(this.model).local()),"date"===this.schema.inputType?e=t.format("YYYY-MM-DD"):"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType?e=t.format("YYYY-MM-DDTHH:mm"):"month"===this.schema.inputType&&(e=t.format("YYYY-MM"))}else e=this.model;return{count:0,timer:0,internalmodel:e}},props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.schema.datalistUrl&&(0!==t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){D.post(t.schema.datalistUrl,{value:e,queryCount:++t.count}).onSuccess((function(e){e&&(e.queryCount&&e.queryCount==t.count?t.schema.datalist=e.value:e.queryCount||(t.schema.datalist=e))})).onError((function(e){t.$emit("error",e)})).send()}),100)),this.$emit("changed",e,this.schema)},getList:function(){return void 0!==this.schema.datalist?this.getFieldID()+"-list":null},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const ze=["for"],Re={key:0,class:"error clear-background"},_e={key:1,class:"clear-background active no-border small"},We=r.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Ye=["for"],Je={key:0,class:"error clear-background"},Qe={key:1,class:"clear-background active no-border small"},Xe=r.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Ze=["id","type","disabled","accept","alt","autocomplete","checked","dirname","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","title","readonly","required","size","src","step","width","files","data-error-message-value-missing","data-error-message-pattern-mismatch","data-error-message-range-overflow","data-error-message-range-underflow","data-error-message-step-mismatch","data-error-message-too-long","data-error-message-too-short","data-error-message-bad-input","data-error-message-type-mismatch"],et={key:2,class:"text-center"},tt=["id"],rt=["value"];Ke.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[!e.schema.label&&e.label?(r.openBlock(),r.createElementBlock("label",{key:0,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",Re,"*")):r.createCommentVNode("v-if",!0),e.schema.hint?(r.openBlock(),r.createElementBlock("i",_e,[We,r.createTextVNode(r.toDisplayString(e.schema.hint),1)])):r.createCommentVNode("v-if",!0)],10,ze)):r.createCommentVNode("v-if",!0),e.schema.label&&e.label?(r.openBlock(),r.createElementBlock("label",{key:1,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.schema.label)+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",Je,"*")):r.createCommentVNode("v-if",!0),e.schema.hint?(r.openBlock(),r.createElementBlock("i",Qe,[Xe,r.createTextVNode(r.toDisplayString(e.schema.hint),1)])):r.createCommentVNode("v-if",!0)],10,Ye)):r.createCommentVNode("v-if",!0),r.withDirectives(r.createElementVNode("input",{id:e.getFieldID(),type:e.schema.inputType,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalmodel=t),onInput:t[1]||(t[1]=t=>e.changed(t.target.value)),disabled:e.schema.disabled,accept:e.schema.accept,alt:e.schema.alt,autocomplete:e.schema.autocomplete,checked:e.schema.checked,dirname:e.schema.dirname,formaction:e.schema.formaction,formenctype:e.schema.formenctype,formmethod:e.schema.formmethod,formnovalidate:e.schema.formnovalidate,formtarget:e.schema.formtarget,height:e.schema.height,list:e.getList(),max:e.schema.max,maxlength:e.schema.maxlength,min:e.schema.min,minlength:e.schema.minlength,multiple:e.schema.multiple,name:e.schema.inputName||e.getFieldID(),pattern:e.schema.pattern,placeholder:e.schema.placeholder,title:e.schema.placeholder,readonly:e.schema.readonly,required:e.schema.required,size:e.schema.size,src:e.schema.src,step:e.schema.step,width:e.schema.width,files:e.schema.files,class:r.normalizeClass(e.schema.inputClasses),"data-error-message-value-missing":e.schema.errorMessageValueMissing,"data-error-message-pattern-mismatch":e.schema.errorMessagePatternMismatch,"data-error-message-range-overflow":e.schema.errorMessageRangeOverflow,"data-error-message-range-underflow":e.schema.errorMessageRangeUnderflow,"data-error-message-step-mismatch":e.schema.errorMessageStepMismatch,"data-error-message-too-long":e.schema.errorMessageTooLong,"data-error-message-too-short":e.schema.errorMessageTooShort,"data-error-message-bad-input":e.schema.errorMessageBadInput,"data-error-message-type-mismatch":e.schema.errorMessageTypeMismatch},null,42,Ze),[[r.vModelDynamic,e.internalmodel]]),"color"===e.schema.inputType||"range"===e.schema.inputType?(r.openBlock(),r.createElementBlock("div",et,r.toDisplayString(e.internalmodel),1)):r.createCommentVNode("v-if",!0),e.schema.datalist?(r.openBlock(),r.createElementBlock("datalist",{key:3,id:e.getList()},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.datalist,(e=>(r.openBlock(),r.createElementBlock("option",{value:e,key:e},null,8,rt)))),128))],8,tt)):r.createCommentVNode("v-if",!0)])},Ke.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldInput.vue";var at=s.default.defineComponent({props:{model:Object,schema:Object,label:{default:!0,type:Boolean},idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)},isSelected:function(e){return this.model===e.key},getValues:function(e){if(!e)return null;let t=e;Array.isArray(e)&&(t=e[0]);let r=Object.getOwnPropertyNames(t);for(let a=0;a<r.length;++a){if("key"===r[a])return e;let i=this.getValues(t[r[a]]);if(i)return i}return null}},beforeMount:function(){if(!this.schema.valuesUrl)return;let e=this;D.post(e.schema.valuesUrl,e.schema.valuesUrlData).onSuccess((function(t){if(!t)return;let r=e.getValues(t);r&&(e.schema.values=r)})).onError((function(t){e.$emit("error",t)})).send()}});const it=["for"],nt={key:0,class:"error clear-background"},lt=["for"],ot={key:0,class:"error clear-background"},st=["disabled","name","height","id","readonly","required","multiple","width","data-error-message-value-missing"],ct=["value","selected"];at.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[!e.schema.label&&e.label?(r.openBlock(),r.createElementBlock("label",{key:0,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",nt,"*")):r.createCommentVNode("v-if",!0)],10,it)):r.createCommentVNode("v-if",!0),e.schema.label&&e.label?(r.openBlock(),r.createElementBlock("label",{key:1,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.schema.label)+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",ot,"*")):r.createCommentVNode("v-if",!0)],10,lt)):r.createCommentVNode("v-if",!0),r.withDirectives(r.createElementVNode("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),disabled:e.schema.disabled,name:e.schema.inputName||e.getFieldID(),height:e.schema.height,id:e.getFieldID(),onChange:t[1]||(t[1]=t=>e.changed(e.model)),readonly:e.schema.readonly,required:e.schema.required,multiple:e.schema.multiple,class:r.normalizeClass(e.schema.inputClasses),width:e.schema.width,"data-error-message-value-missing":e.schema.errorMessageValueMissing},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.values,(t=>(r.openBlock(),r.createElementBlock("option",{value:t.key,selected:e.isSelected(t),key:t.key},r.toDisplayString(t.value),9,ct)))),128))],42,st),[[r.vModelSelect,e.model]])])},at.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldSelect.vue";var dt=s.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const ht=["id","checked","disabled","dirname","name","readonly","required","data-error-message-value-missing"],mt=["for"],ut={key:0,class:"error clear-background"},pt=["for"],ft={key:0,class:"error clear-background"};dt.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[r.createElementVNode("input",{id:e.getFieldID(),type:"checkbox",checked:e.model,onClick:t[0]||(t[0]=t=>e.changed(t.target.checked)),disabled:e.schema.disabled,dirname:e.schema.dirname,name:e.schema.inputName||e.getFieldID(),readonly:e.schema.readonly,required:e.schema.required,"data-error-message-value-missing":e.schema.errorMessageValueMissing,class:r.normalizeClass(e.schema.inputClasses)},null,10,ht),e.schema.label?r.createCommentVNode("v-if",!0):(r.openBlock(),r.createElementBlock("label",{key:0,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",ut,"*")):r.createCommentVNode("v-if",!0)],10,mt)),e.schema.label?(r.openBlock(),r.createElementBlock("label",{key:1,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.schema.label)+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",ft,"*")):r.createCommentVNode("v-if",!0)],10,pt)):r.createCommentVNode("v-if",!0)])},dt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldCheckbox.vue";var gt=s.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(e){let t="";return t=this.schema.id?this.schema.id:this.schema.model.slugify(),t+="-"+e,void 0!==this.idSuffix&&(t+=this.idSuffix),t},getFieldName:function(){return this.schema.id?this.schema.id:this.schema.model.slugify()},changed:function(e){this.model=e,this.$emit("changed",e,this.schema)},isItemChecked:function(e){return this.getItemValue(e)===this.model},getItemValue:function(e){return e},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const yt={class:"flex row text-center"},kt=["id","checked","onClick","disabled","name","readonly"],vt=["for"];gt.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",yt,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.values,(t=>(r.openBlock(),r.createElementBlock("div",{key:t},[r.createElementVNode("input",{id:e.getFieldID(t),type:"radio",checked:e.isItemChecked(t),onClick:r=>e.changed(t),disabled:e.schema.disabled,name:e.schema.inputName||e.getFieldName(),readonly:e.schema.readonly,class:r.normalizeClass(e.schema.inputClasses)},null,10,kt),r.createElementVNode("label",{for:e.getFieldID(t)},r.toDisplayString(e.$filters.capitalize(t)),9,vt)])))),128))])},gt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldRadio.vue";var Ct=s.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const Et=["for"],bt={key:0,class:"error clear-background"},Vt={key:1,class:"clear-background active no-border small"},St=r.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),xt=["for"],Nt={key:0,class:"error clear-background"},Bt={key:1,class:"clear-background active no-border small"},wt=r.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Tt=["id","disabled","height","maxlength","minlength","name","placeholder","title","readonly","required","width","rows","data-error-message-value-missing","data-error-message-too-long","data-error-message-too-short"],Dt={key:2,class:"clear-background active right small"},Mt=r.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Ft=r.createElementVNode("br",{class:"clear"},null,-1);Ct.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[!e.schema.label&&e.label?(r.openBlock(),r.createElementBlock("label",{key:0,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",bt,"*")):r.createCommentVNode("v-if",!0),e.schema.hint?(r.openBlock(),r.createElementBlock("i",Vt,[St,r.createTextVNode(r.toDisplayString(e.schema.hint),1)])):r.createCommentVNode("v-if",!0)],10,Et)):r.createCommentVNode("v-if",!0),e.schema.label&&e.label?(r.openBlock(),r.createElementBlock("label",{key:1,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.schema.label)+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",Nt,"*")):r.createCommentVNode("v-if",!0),e.schema.hint?(r.openBlock(),r.createElementBlock("i",Bt,[wt,r.createTextVNode(r.toDisplayString(e.schema.hint),1)])):r.createCommentVNode("v-if",!0)],10,xt)):r.createCommentVNode("v-if",!0),r.withDirectives(r.createElementVNode("textarea",{id:e.getFieldID(),"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),onInput:t[1]||(t[1]=t=>e.changed(t.target.value)),disabled:e.schema.disabled,height:e.schema.height,maxlength:e.schema.maxlength,minlength:e.schema.minlength,name:e.schema.inputName||e.getFieldID(),placeholder:e.schema.placeholder,title:e.schema.placeholder,readonly:e.schema.readonly,class:r.normalizeClass(e.schema.inputClasses),required:e.schema.required,width:e.schema.width,rows:e.schema.rows||3,"data-error-message-value-missing":e.schema.errorMessageValueMissing,"data-error-message-too-long":e.schema.errorMessageTooLong,"data-error-message-too-short":e.schema.errorMessageTooShort},"\r\n        ",42,Tt),[[r.vModelText,e.model]]),e.schema.maxlength?(r.openBlock(),r.createElementBlock("div",Dt,[Mt,r.createTextVNode(" "+r.toDisplayString(e.schema.maxlength-e.model.length)+" characters remaining ("+r.toDisplayString(e.schema.maxlength)+" max) ",1)])):r.createCommentVNode("v-if",!0),Ft])},Ct.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldTextarea.vue";var It=s.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{}});const Pt=["innerHTML"];It.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(e.schema.classes),innerHTML:e.model||e.schema.model},null,10,Pt)},It.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldText.vue";var Lt=s.default.defineComponent({data:()=>({files:[],ready:!1,filesAdded:0}),props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.filesAdded=t.filesAdded+e.target.files.length,t.ready=!1;for(let r=0;r<e.target.files.length;++r){let a=new FileReader;a.onload=function(e){return function(r){t.files=t.files.concat({filename:e,data:t.base64ArrayBuffer(a.result)}),t.files.length===t.filesAdded&&(t.ready=!0)}}(e.target.files[r].name),a.readAsArrayBuffer(e.target.files[r])}this.check()},base64ArrayBuffer:function(e){let t="",r=new Uint8Array(e),a=r.byteLength;for(let e=0;e<a;++e)t+=String.fromCharCode(r[e]);return window.btoa(t)},check:function(){!0!==this.ready?setTimeout(this.check,100):this.$emit("changed",this.files,this.schema)},removeFile:function(e){let t=this.files.indexOf(e);this.files.splice(t,1),this.filesAdded--},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const At=["for"],Ot={key:0,class:"error clear-background"},qt={key:1,class:"clear-background active no-border small"},Gt=r.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Ht=["for"],$t={key:0,class:"error clear-background"},Ut={key:1,class:"clear-background active no-border small"},jt=r.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Kt=["accept","id","multiple","name","required","data-error-message-value-missing"],zt={class:"flex"},Rt=["onClick"],_t=r.createTextVNode(" "),Wt={class:"body"};Lt.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[e.schema.label?r.createCommentVNode("v-if",!0):(r.openBlock(),r.createElementBlock("label",{key:0,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",Ot,"*")):r.createCommentVNode("v-if",!0),e.schema.hint?(r.openBlock(),r.createElementBlock("i",qt,[Gt,r.createTextVNode(r.toDisplayString(e.schema.hint),1)])):r.createCommentVNode("v-if",!0)],10,At)),e.schema.label?(r.openBlock(),r.createElementBlock("label",{key:1,for:e.getFieldID(),class:r.normalizeClass(e.schema.labelClasses)},[r.createTextVNode(r.toDisplayString(e.schema.label)+" ",1),e.schema.required?(r.openBlock(),r.createElementBlock("span",$t,"*")):r.createCommentVNode("v-if",!0),e.schema.hint?(r.openBlock(),r.createElementBlock("i",Ut,[jt,r.createTextVNode(r.toDisplayString(e.schema.hint),1)])):r.createCommentVNode("v-if",!0)],10,Ht)):r.createCommentVNode("v-if",!0),r.createElementVNode("div",{class:r.normalizeClass(["file-upload",e.schema.inputClasses])},[r.createTextVNode(r.toDisplayString(e.schema.placeholder)+" ",1),r.createElementVNode("input",{accept:e.schema.accept,id:e.getFieldID(),onChange:t[0]||(t[0]=t=>e.changed(t)),multiple:e.schema.multiple,name:e.schema.inputName||e.getFieldID(),required:e.schema.required,type:"file","data-error-message-value-missing":e.schema.errorMessageValueMissing},null,40,Kt)],2),r.createElementVNode("div",zt,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.files,(t=>(r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass(["upload-preview panel",e.schema.previewClasses]),key:e.generateGuid(t)},[r.createElementVNode("header",null,[r.createElementVNode("div",{class:"header",onClick:r=>e.removeFile(t)},"×",8,Rt),_t]),r.createElementVNode("div",Wt,r.toDisplayString(t.filename),1)],2)))),128))])])},Lt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldUpload.vue";var Yt=s.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{click:function(e,t){return this.$emit("click",e,t),!1},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Jt={class:"controls"},Qt={class:"input-group"},Xt=["type","value","onClick"];Yt.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",Jt,[r.createElementVNode("div",Qt,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.buttons,(t=>(r.openBlock(),r.createElementBlock("input",{key:e.generateGuid(t),type:t.type,value:t.value,class:r.normalizeClass(t.classes),onClick:r=>e.click(r,t)},null,10,Xt)))),128))])])},Yt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldButtons.vue";var Zt=s.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{show:function(e){return"function"==typeof e?e():e},getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const er={key:0};Zt.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[e.show(e.model.display||e.schema.display)?(r.openBlock(),r.createElementBlock("div",er,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.fields,(t=>(r.openBlock(),r.createElementBlock("div",{key:e.generateGuid(t)},[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.getFieldType(t)),{schema:e.getSchema(t),model:e.getModelValue(t),"id-suffix":e.getIDSuffix(t),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])):r.createCommentVNode("v-if",!0)])},Zt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexConditional.vue";var tr=s.default.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,r){t[e.model]=r,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const rr={key:0},ar={key:1},ir=["data-tooltip"],nr=[r.createElementVNode("span",{class:"fas fa-info-circle no-border small"},null,-1)],lr=r.createElementVNode("th",null,null,-1),or=["onClick"],sr=["colspan"];tr.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[r.createElementVNode("table",{class:r.normalizeClass(["form-table",e.schema.tableClasses])},[r.createElementVNode("thead",null,[r.createElementVNode("tr",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.fields,(t=>(r.openBlock(),r.createElementBlock("th",{key:e.generateGuid(t)},[t.label?(r.openBlock(),r.createElementBlock("span",rr,r.toDisplayString(e.$filters.capitalize(t.label)),1)):(r.openBlock(),r.createElementBlock("span",ar,r.toDisplayString(e.$filters.capitalize(t.model)),1)),e.getSchema(t).hint?(r.openBlock(),r.createElementBlock("span",{key:2,"data-tooltip":e.getSchema(t).hint,"data-tooltip-size":"extra-large"},nr,8,ir)):r.createCommentVNode("v-if",!0)])))),128)),lr])]),r.createElementVNode("tbody",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.model,((t,a)=>(r.openBlock(),r.createElementBlock("tr",{key:e.generateGuid(t)},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.fields,(i=>(r.openBlock(),r.createElementBlock("td",{key:e.generateGuid(i)},[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.getFieldType(i)),{schema:e.getSchema(i),model:e.getModelValue(i,t),label:!1,"id-suffix":e.getIDSuffix(i,a),onChanged:r=>e.setModelValue(i,t,r),onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128)),r.createElementVNode("td",null,[r.createElementVNode("a",{class:"fas fa-minus-circle",onClick:r.withModifiers((r=>e.removeItem(t)),["stop","prevent"])},null,8,or)])])))),128))]),r.createElementVNode("tfoot",null,[r.createElementVNode("tr",null,[r.createElementVNode("td",{colspan:e.schema.fields.length+1},[r.createElementVNode("a",{class:"fas fa-plus-circle",onClick:t[0]||(t[0]=r.withModifiers(((...t)=>e.addItem&&e.addItem(...t)),["stop","prevent"]))},"Add More")],8,sr)])])],2)])},tr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexList.vue";var cr=s.default.defineComponent({data(){return{tabPicked:this.schema.tabs[0]}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},tabChanged:function(e){this.tabPicked=e},getFields:function(){return this.tabPicked.fields},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});cr.render=function(e,t,a,i,n,l){const o=r.resolveComponent("clarity-tabs");return r.openBlock(),r.createElementBlock("div",null,[r.createVNode(o,{sections:e.schema.tabs,onSectionChanged:e.tabChanged,class:r.normalizeClass(e.schema.tabClasses)},{default:r.withCtx((()=>[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.getFields(),(t=>(r.openBlock(),r.createElementBlock("div",{key:e.generateGuid(t)},[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.getFieldType(t)),{schema:e.getSchema(t),model:e.getModelValue(t),"id-suffix":e.getIDSuffix(t),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])),_:1},8,["sections","onSectionChanged","class"])])},cr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexTabs.vue";var dr=s.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});dr.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.fields,(t=>(r.openBlock(),r.createElementBlock("div",{key:e.generateGuid(t)},[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.getFieldType(t)),{schema:e.getSchema(t),model:e.getModelValue(t),"id-suffix":e.getIDSuffix(t),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])},dr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplex.vue";var hr=s.default.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,r){t[e.model]=r,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const mr=["onClick"];hr.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",null,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.model,((t,a)=>(r.openBlock(),r.createElementBlock("div",{key:e.generateGuid(t),class:"border-bottom"},[r.createElementVNode("a",{class:"fas fa-minus-circle right",onClick:r.withModifiers((r=>e.removeItem(t)),["stop","prevent"])},null,8,mr),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.schema.fields,(i=>(r.openBlock(),r.createElementBlock("div",{key:e.generateGuid(i)},[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.getFieldType(i)),{schema:e.getSchema(i),model:e.getModelValue(i,t),label:!0,"id-suffix":e.getIDSuffix(i,a),onChanged:r=>e.setModelValue(i,t,r),onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])))),128)),r.createElementVNode("a",{class:"fas fa-plus-circle",onClick:t[0]||(t[0]=r.withModifiers(((...t)=>e.addItem&&e.addItem(...t)),["stop","prevent"]))},"Add More")])},hr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexRepeater.vue";var ur=s.default.defineComponent({components:{"clarity-form-field-complex":dr,"clarity-form-field-complex-conditional":Zt,"clarity-form-field-complex-list":tr,"clarity-form-field-complex-tabs":cr,"clarity-form-field-input":Ke,"clarity-form-field-select":at,"clarity-form-field-checkbox":dt,"clarity-form-field-radio":gt,"clarity-form-field-textarea":Ct,"clarity-form-field-text":It,"clarity-form-field-upload":Lt,"clarity-form-field-buttons":Yt,"clarity-form-field-complex-repeater":hr,"clarity-form-validator":He},data:function(){return{submitting:!1}},props:{schema:Object,model:Object,action:{default:"",type:String},ajaxAction:{default:"",type:String}},methods:{revalidate:function(){return this.$refs.validation.revalidate()},setModelValue:function(e,t){this.model=e,this.revalidate(),this.$emit("changed",this.model)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.revalidate(),this.$emit("click",e,t)},reset:function(){let e=this;setTimeout((function(){e.revalidate()}),100)},submit:function(e){let t=this;return!t.revalidate()||t.submitting?(e.preventDefault(),!1):(t.submitting=!0,!t.ajaxAction||(D.post(t.ajaxAction,t.model).onSuccess((function(e){t.submitting=!1,t.$emit("success",e)})).onError((function(e){t.submitting=!1,t.$emit("error",e)})).send(),e.preventDefault(),!1))},getIDSuffix:function(){return""}},watch:{model:function(e,t){t!==e&&null!==e&&this.$nextTick((()=>{this.revalidate()}))}}});const pr=["action"],fr=r.createTextVNode("The following errors were found");ur.render=function(e,t,a,i,n,l){const o=r.resolveComponent("clarity-form-validator"),s=r.resolveComponent("clarity-form-field-complex");return r.openBlock(),r.createElementBlock("form",{action:e.action,class:"stacked clarity-form",onReset:t[0]||(t[0]=(...t)=>e.reset&&e.reset(...t)),onSubmit:t[1]||(t[1]=(...t)=>e.submit&&e.submit(...t)),method:"post"},[r.createVNode(o,{ref:"validation"},{default:r.withCtx((()=>[r.renderSlot(e.$slots,"validationHeader",{},(()=>[fr]))])),_:3},512),r.createVNode(s,{schema:e.schema,model:e.model,idSuffix:e.getIDSuffix(),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","idSuffix","onChanged","onClick","onError","onException"])],40,pr)},ur.__file="src/ts/Component/FormGenerator/ClarityFormGenerator.vue";var gr=s.default.defineComponent({props:{show:{type:Boolean,default:!1}}});const yr={class:"clarity-alert alert"};gr.render=function(e,t,a,i,n,l){return r.openBlock(),r.createBlock(r.Transition,{name:"fade"},{default:r.withCtx((()=>[r.withDirectives(r.createElementVNode("div",yr,[r.renderSlot(e.$slots,"default")],512),[[r.vShow,e.show]])])),_:3})},gr.__file="src/ts/Component/Alert/ClarityAlert.vue";var kr=s.default.defineComponent({data:function(){return{content:"",loaded:!1}},props:{url:{type:String,default:""}},beforeMount:function(){if(!this.url)return;let e=this,t=this.url,r="",a=t.match(/[\s#]/),i=null!=a?a.index:-1;-1!=i&&(r=t.substring(i+(" "==a[0]?1:0)),t=t.substring(0,i)),t&&D.get(t).type("text/html").setParser((e=>e.text())).setMode(exports.StorageMode.StorageAndUpdate).onSuccess((t=>{if(r.length){let a=document.createElement("div");a.innerHTML=t;let i=a.querySelectorAll(r);if(i.length>0)return void(e.content=i[0].outerHTML)}e.content=t,e.loaded=!0})).send()}});const vr=["innerHTML","data-loaded"];var Cr;kr.render=function(e,t,a,i,n,l){return r.openBlock(),r.createElementBlock("div",{class:"clarity-content-loader",innerHTML:e.content,"data-loaded":e.loaded},null,8,vr)},kr.__file="src/ts/Component/ContentLoader/ClarityContentLoader.vue",function(e){e[e.Image=0]="Image",e[e.File=1]="File"}(Cr||(Cr={}));var Er=s.default.defineComponent({components:{"clarity-modal":I},props:{title:{type:String,default:""},content:{type:String,default:""},iframeImageSrc:{type:String,default:""},iframeFileSrc:{type:String,default:""},preview:{type:Boolean,default:!0},mentionsFormat:{type:String,default:""}},data:function(){return{currentTitle:this.title,currentContent:this.content,displayFrame:!1,iframeSrc:"",displayPreview:this.preview,converter:new d.default.Converter({tables:!0,strikethrough:!0,emoji:!0,underline:!0,ghMentions:!!this.mentionsFormat,ghMentionsLink:this.mentionsFormat}),insertType:Cr.Image,insertLink:""}},mounted:function(){let e=this;window.addEventListener("message",(function(t){if("string"!=typeof t.data)return;let r=JSON.parse(t.data);e.insertLink=r.href,e.insert()}))},computed:{compiledMarkdown:function(){return this.markdown(this.currentContent)},IsImageInsert:function(){return this.insertType==Cr.Image},IsFileInsert:function(){return this.insertType==Cr.File}},methods:{insert:function(){this.displayFrame=!1,this.insertLink&&(this.insertType==Cr.Image?this.imageTag(this.insertLink):this.linkTag(this.insertLink))},showImageFrame:function(){this.showFrame(Cr.Image)},showFileFrame:function(){this.showFrame(Cr.File)},showFrame:function(e){this.displayFrame=!0,this.insertType=e,e===Cr.Image?this.iframeSrc=this.iframeImageSrc:this.iframeSrc=this.iframeFileSrc},markdown:function(e){return e?this.converter.makeHtml(e):e},keyup:function(){this.$emit("keyup",{content:this.currentContent})},cancel:function(){this.$emit("cancel")},tag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i=e+this.currentContent.substring(r,a);this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},symmetricTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i=e+this.currentContent.substring(r,a)+e;this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},linkTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i="["+this.currentContent.substring(r,a)+"]("+e+")";this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},imageTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i="!["+this.currentContent.substring(r,a)+"]("+e+")";this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()}}});const br={class:"flex row clarity-simple-editor"},Vr={class:"flex-item flex justify-space-between column wrap",id:"editorRawInput"},Sr={class:"menu pill flex-item"},xr={class:"item has-children"},Nr=r.createElementVNode("a",{href:"#!"},"Header",-1),Br={class:"item has-children"},wr=r.createElementVNode("a",{href:"#!"},"Format",-1),Tr={class:"item has-children"},Dr=r.createElementVNode("a",{href:"#!"},"List",-1),Mr={class:"item has-children"},Fr=r.createElementVNode("a",{href:"#!"},"File",-1),Ir={key:0,class:"flex-item panel",id:"editorCompiledInput"},Pr={class:"body"},Lr=["innerHTML"],Ar={key:0},Or={key:1},qr=["src"],Gr={key:1},Hr=r.createTextVNode(" URL: "),$r=r.createElementVNode("br",null,null,-1),Ur=r.createElementVNode("br",{class:"clear"},null,-1);Er.render=function(e,t,a,i,n,l){const o=r.resolveComponent("clarity-modal");return r.openBlock(),r.createElementBlock("div",br,[r.createElementVNode("div",Vr,[r.createElementVNode("nav",Sr,[r.createElementVNode("ul",null,[r.createElementVNode("li",xr,[Nr,r.createElementVNode("ul",null,[r.createElementVNode("li",null,[r.createElementVNode("h1",null,[r.createElementVNode("a",{href:"#!",onClick:t[0]||(t[0]=r.withModifiers((t=>e.tag("#")),["stop","prevent"]))},"Header 1")])]),r.createElementVNode("li",null,[r.createElementVNode("h2",null,[r.createElementVNode("a",{href:"#!",onClick:t[1]||(t[1]=r.withModifiers((t=>e.tag("##")),["stop","prevent"]))},"Header 2")])]),r.createElementVNode("li",null,[r.createElementVNode("h3",null,[r.createElementVNode("a",{href:"#!",onClick:t[2]||(t[2]=r.withModifiers((t=>e.tag("###")),["stop","prevent"]))},"Header 3")])]),r.createElementVNode("li",null,[r.createElementVNode("h4",null,[r.createElementVNode("a",{href:"#!",onClick:t[3]||(t[3]=r.withModifiers((t=>e.tag("####")),["stop","prevent"]))},"Header 4")])]),r.createElementVNode("li",null,[r.createElementVNode("h5",null,[r.createElementVNode("a",{href:"#!",onClick:t[4]||(t[4]=r.withModifiers((t=>e.tag("#####")),["stop","prevent"]))},"Header 5")])]),r.createElementVNode("li",null,[r.createElementVNode("h6",null,[r.createElementVNode("a",{href:"#!",onClick:t[5]||(t[5]=r.withModifiers((t=>e.tag("######")),["stop","prevent"]))},"Header 6")])])])]),r.createElementVNode("li",Br,[wr,r.createElementVNode("ul",null,[r.createElementVNode("li",null,[r.createElementVNode("strong",null,[r.createElementVNode("a",{href:"#!",onClick:t[6]||(t[6]=r.withModifiers((t=>e.symmetricTag("**")),["stop","prevent"]))},"Bold")])]),r.createElementVNode("li",null,[r.createElementVNode("em",null,[r.createElementVNode("a",{href:"#!",onClick:t[7]||(t[7]=r.withModifiers((t=>e.symmetricTag("*")),["stop","prevent"]))},"Italics")])]),r.createElementVNode("li",null,[r.createElementVNode("del",null,[r.createElementVNode("a",{href:"#!",onClick:t[8]||(t[8]=r.withModifiers((t=>e.symmetricTag("~~")),["stop","prevent"]))},"Strikethrough")])]),r.createElementVNode("li",null,[r.createElementVNode("u",null,[r.createElementVNode("a",{href:"#!",onClick:t[9]||(t[9]=r.withModifiers((t=>e.symmetricTag("__")),["stop","prevent"]))},"Underline")])]),r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#!",onClick:t[10]||(t[10]=r.withModifiers((t=>e.tag(">")),["stop","prevent"]))},"Quote")])])]),r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#!",onClick:t[11]||(t[11]=r.withModifiers((t=>e.tag("\n\n-------\n\n")),["stop","prevent"]))},"HR")]),r.createElementVNode("li",Tr,[Dr,r.createElementVNode("ul",null,[r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#!",onClick:t[12]||(t[12]=r.withModifiers((t=>e.tag("1. ")),["stop","prevent"])),class:"fas fa-list-ol"},"Ordered")]),r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#!",onClick:t[13]||(t[13]=r.withModifiers((t=>e.tag("* ")),["stop","prevent"])),class:"fas fa-list-ul"},"Unordered")])])]),r.createElementVNode("li",Mr,[Fr,r.createElementVNode("ul",null,[r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#!",onClick:t[14]||(t[14]=r.withModifiers((t=>e.showImageFrame()),["stop","prevent"])),class:"fas fa-image"},"Image")]),r.createElementVNode("li",null,[r.createElementVNode("a",{href:"#!",onClick:t[15]||(t[15]=r.withModifiers((t=>e.showFileFrame()),["stop","prevent"])),class:"fas fa-link"},"File")])])])])]),r.withDirectives(r.createElementVNode("textarea",{"onUpdate:modelValue":t[16]||(t[16]=t=>e.currentContent=t),id:"editorInput",name:"editorInput",class:"flex-item",style:{"min-height":"500px"},onKeyup:t[17]||(t[17]=(...t)=>e.keyup&&e.keyup(...t))},null,544),[[r.vModelText,e.currentContent]])]),e.displayPreview?(r.openBlock(),r.createElementBlock("div",Ir,[r.createElementVNode("div",Pr,[r.createElementVNode("h1",null,r.toDisplayString(e.currentTitle),1),r.createElementVNode("div",{innerHTML:e.compiledMarkdown},null,8,Lr)])])):r.createCommentVNode("v-if",!0),r.createVNode(o,{"show-modal":e.displayFrame,"css-classes":"primary"},{header:r.withCtx((()=>[e.IsImageInsert?(r.openBlock(),r.createElementBlock("div",Ar,"Image Insert")):r.createCommentVNode("v-if",!0),e.IsFileInsert?(r.openBlock(),r.createElementBlock("div",Or,"File Insert")):r.createCommentVNode("v-if",!0)])),body:r.withCtx((()=>[e.iframeSrc?(r.openBlock(),r.createElementBlock("iframe",{key:0,src:e.iframeSrc},null,8,qr)):r.createCommentVNode("v-if",!0),e.iframeSrc?r.createCommentVNode("v-if",!0):(r.openBlock(),r.createElementBlock("div",Gr,[r.createElementVNode("label",null,[Hr,r.withDirectives(r.createElementVNode("input",{type:"url","onUpdate:modelValue":t[18]||(t[18]=t=>e.insertLink=t)},null,512),[[r.vModelText,e.insertLink]])]),$r,r.createElementVNode("input",{type:"button",value:"Insert",onClick:t[19]||(t[19]=(...t)=>e.insert&&e.insert(...t))})]))])),footer:r.withCtx((()=>[r.createElementVNode("input",{type:"button",class:"close right",value:"Close",onClick:t[20]||(t[20]=t=>e.displayFrame=!1)}),Ur])),_:1},8,["show-modal"])])},Er.__file="src/ts/Component/Editor/SimpleEditor.vue";let jr={bind:function(e){jr.onEventBound=jr.onEvent.bind({el:e}),document.addEventListener("click",jr.onEventBound)},cb:function(e){},onEvent:function(e){(e.target===this.el||this.el.contains(e.target)||jr.cb)&&jr.cb(e)},onEventBound:function(){},unbind:function(){document.removeEventListener("click",jr.onEventBound)},update:function(e,t){if("function"!=typeof t.value)throw new Error("Argument must be a function");jr.cb=t.value}};class Kr{constructor(){this.hotkeys=new f,this.router=new E,this.validation=new b,this.validation.initialize(),this.errorLogger=new S,this.history=new x,this.localStorage=new N,this.sessionStorage=new B,this.request=new D("",""),window.addEventListener("keydown",(e=>this.hotkeys.press(e))),window.addEventListener("load",(e=>this.validation.initialize()),!1),window.onerror=(e,t,r,a,i)=>{this.errorLogger.onError(e.toString(),t,r,a,i)},this.errorLogger.setLoggingFunction(((e,t)=>{console.log(e)})),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var r=t>0?0|t:0;return this.substring(r,r+e.length)===e}}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{value:function(e,t){return this.replace(new RegExp(e,"g"),t)}}),Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),r=t.length>>>0,a=arguments[1],i=0;i<r;i++){var n=t[i];if(e.call(a,n,i,t))return n}},String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}SetupComponents(e){return e.component("clarity-modal",I),e.component("clarity-tabs",q),e.component("clarity-grid",Z),e.component("clarity-form-validator",He),e.component("clarity-form-generator",ur),e.component("clarity-form-field-complex",dr),e.component("clarity-form-field-complex-conditional",Zt),e.component("clarity-form-field-complex-list",tr),e.component("clarity-form-field-complex-tabs",cr),e.component("clarity-form-field-input",Ke),e.component("clarity-form-field-select",at),e.component("clarity-form-field-checkbox",dt),e.component("clarity-form-field-radio",gt),e.component("clarity-form-field-textarea",Ct),e.component("clarity-form-field-text",It),e.component("clarity-form-field-upload",Lt),e.component("clarity-form-field-buttons",Yt),e.component("clarity-form-field-complex-repeater",hr),e.component("clarity-form-validator",He),e.component("clarity-alert",gr),e.component("clarity-content-loader",kr),e.component("clarity-simple-editor",Er),function(e){e.config.globalProperties.$filters={moment:function(e,t){return e?(t=t||"MM/D/YYYY h:mm:ss A",c.default(e,"YYYY-MM-DDThh:mm:ss").format(t)):"N/A"},capitalize:function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},maxsize:function(e,t){return e?e.substr(0,t)+"...":""},currency:function(e,t,r){return e?(t=t||"en-US",r=r||{style:"currency",currency:"USD"},Intl.NumberFormat(t,r).format(e)):""}}}(e),function(e){return e.directive("click-outside",jr),e}(e)}get instance(){return this}set instance(e){}}exports.Clarity=Kr,exports.DatabaseConnection=T,exports.Downloader=F,exports.Hotkeys=f,exports.Request=D,exports.init=function(){window.clarity.instance=window.clarity.instance||new Kr};
