/**
 * Bundle of clarity
 * Generated: 2021-11-24
 * Version: 2.0.0
 * License: Apache-2.0
 * Author: James Craig
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue"),t=require("moment"),r=require("showdown");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i,n,l=a(e),o=a(t),s=a(r);HTMLElement.prototype.getParentByClass=function(e){let t=this.parentElement;for(;t&&!t.hasClass(e);)t=t.parentElement;return t},HTMLElement.prototype.hasClass=function(e){return(" "+this.className+" ").indexOf(" "+e+" ")>-1},HTMLElement.prototype.replaceClass=function(e,t){let r=" "+this.className+" ";this.className=""===t?r.replace(new RegExp(" "+e+" ","gi")," ").trim():r.replace(new RegExp(" "+e+" ","gi")," "+t+" ").trim()},HTMLElement.prototype.toggleClass=function(e,t){this.hasClass(e)?this.replaceClass(e,t):this.replaceClass(t,e)},HTMLElement.prototype.removeClass=function(e){this.replaceClass(e,"")},HTMLElement.prototype.addClass=function(e){this.hasClass(e)||(this.className+=" "+e)},HTMLElement.prototype.show=function(){this.replaceClass("hidden","show"),this.addClass("show")},HTMLElement.prototype.hide=function(){this.replaceClass("show","hidden"),this.addClass("hidden")},HTMLElement.prototype.attribute=function(e,t=null){return null!=t?(this.setAttribute(e,t),t):this.getAttribute(e)},NodeList.prototype.map=function(e){let t=[];for(let r=0;r<this.length;++r)t=t.concat(e(this[r]));return t},NodeList.prototype.filter=function(e){let t=[];for(let r=0;r<this.length;++r)e(this[r])&&(t=t.concat(this[r]));return t},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");let r=Object(e);for(let e=1;e<arguments.length;e++){let t=arguments[e];if(null!=t)for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},writable:!0,configurable:!0}),String.prototype.slugify=function(){return this.trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")},String.prototype.stripHTML=function(){let e=document.createElement("div");return e.innerHTML=this,(e.textContent||e.innerText||"").replace(/^\s+|\s+$/g,"")},String.prototype.toNumber=function(){return null==this?0:parseFloat(this.stripHTML().replace(/[^0-9.-]/g,""))};class c{}c.keyMappings={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,META:91,"*":106,"+":107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145,";":186,"=":187,"":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};class d{constructor(e){this.keys=this.getKeys(e)}getKeys(e){return e.toUpperCase().split(/-(?!$)/).map((e=>c.keyMappings[e]||e.charCodeAt(0)))}isPressed(e){let t=e;if(t.length!==this.keys.length)return!1;for(let e=0;e<t.length;++e)if(-1===this.keys.indexOf(t[e]))return!1;return!0}}class h{constructor(e,t){this.keyCodeSequence=e.toUpperCase(),this.keyCodes=e.toUpperCase().split(" ").map((e=>new d(e))),this.callback=t,this.length=this.keyCodes.length,this.isDefault="<*>"===e}call(e,t,r){return this.callback(t,{scope:r,keysPressed:e}),!0}press(e,t,r){let a=e;if(a.length!==this.length)return!1;for(let e=0;e<this.keyCodes.length;++e)if(!this.keyCodes[e].isPressed(a[e]))return!1;return this.call(e,t,r)}isPartial(e){let t=e;if(t.length>this.length)return!1;for(let e=0;e<t.length;++e)if(!this.keyCodes[e].isPressed(t[e]))return!1;return!0}}class m{constructor(e){this.name=e,this.sequences=[]}press(e,t){this.sequences=this.sequences.sort(((e,t)=>e.length>t.length?1:-1));for(let r=0;r<this.sequences.length;++r)if(this.sequences[r].press(e,t,this))return!0;return!1}callDefault(e,t){let r=this.sequences.filter((e=>e.isDefault));return 0!==r.length&&r[0].call(e,t,this)}isPartial(e){for(let t=0;t<this.sequences.length;++t)if(this.sequences[t].isPartial(e))return!0;return!1}addSequence(e,t){return this.removeSequence(e),this.sequences.push(new h(e,t)),this}removeSequence(e){return this.sequences=this.sequences.filter((t=>t.keyCodeSequence!==e.toUpperCase())),this}clear(){return this.sequences=[],this}}class u{constructor(){this.scopes={},this.scopes.Default=new m("Default"),this.currentScope=this.scopes.Default,this.filter=e=>{let t=(e.target||e.srcElement).tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},this.latestKeys=[]}setScope(e){let t=this.addScope(e);return this.currentScope=t,t}addScope(e){let t=this.scopes[e];return void 0!==t||(t=new m(e),this.scopes[e]=t),t}removeScope(e){return this.scopes[e]=void 0,"Default"===e&&(this.scopes.Default=new m("Default")),this.currentScope.name===e&&(this.currentScope=this.scopes.Default),this}clear(){return this.scopes={},this.scopes.Default=new m("Default"),this.currentScope=this.scopes.Default,this.latestKeys=[],this}bind(e,t){return this.currentScope.addSequence(e,t),this}unbind(e){return this.currentScope.removeSequence(e),this}press(e){if(!this.filter(e))return;let t=this.getKeys(e);this.latestKeys.push(t);let r=this.latestKeys.slice();if(this.currentScope.press(this.latestKeys,e))this.latestKeys=[];else{for(;this.latestKeys.length>0;){if(this.currentScope.isPartial(this.latestKeys))return;this.latestKeys.shift()}0===this.latestKeys.length&&this.currentScope.callDefault(r,e)}}getKeys(e){let t=[];return e.altKey&&t.push(c.keyMappings.ALT),e.ctrlKey&&t.push(c.keyMappings.CTRL),e.metaKey&&t.push(c.keyMappings.META),e.shiftKey&&t.push(c.keyMappings.SHIFT),-1===t.indexOf(e.keyCode)&&t.push(e.keyCode),t}}class p{}class f{constructor(e,t){this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e,this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){this.getValue(e),t[this.part]=this.getValue(e)}}class g{constructor(e,t){let r=e.split("=",2);this.key=r[0],e=r[1],this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){if(null==e)return!1;let t=e.split("=",2);return 2===t.length&&(this.key.toUpperCase()===t[0].toUpperCase()&&(void 0===(e=t[1])?this.optional:this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase()))}getValue(e){if(null==e)return this.defaultValue;let t=e.split("=",2);return 2!==t.length?this.defaultValue:(e=t[1],this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue)}setValue(e,t){this.getValue(e),t[this.key]=this.getValue(e)}}class y{constructor(e,t){e=e.replace(/[#!]/g,""),this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e.replace(/[#!]/g,""),this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){e=(e=e||"").replace(/[#!]/g,""),t[this.part]=this.getValue(e)}}class k{constructor(e,t,r){void 0===r&&(r=new p),this.url=this.fixUrl(e),this.pathParts=this.getPathParts(this.url).map((e=>new f(e,r))),this.pathParts=this.pathParts?this.pathParts:[],this.queryParts=this.getQueryParts(this.url).map((e=>new g(e,r))),this.queryParts=this.queryParts?this.queryParts:[],this.hashParts=this.getHashParts(this.url).map((e=>new y(e,r))),this.hashParts=this.hashParts?this.hashParts:[],this.callbacks=[t],this.defaultValues=r}isRoute(e){return this.url===this.fixUrl(e)}addCallback(e){this.callbacks.push(e)}removeCallback(e){this.callbacks=this.callbacks.filter((t=>t!==e))}fixUrl(e){return e.length?e.replace(/^\//,"").replace(/\/+/g,"/").replace(/^\/|\/($|\?)/,"").replace(/\/\#/g,"#"):e}getPathParts(e){return e.split("?",2)[0].split("#",2)[0].split("/")}getHashParts(e){let t=e.split("?",2)[0].split("#",2);return t.length<2?[]:[t[1].replace("!","")]}getQueryParts(e){let t=e.split("?",2);return t.length<2?[]:(e=t[1])?e.split("&"):[]}getParametersFromUrl(e,t,r){let a=new p;for(let t=0;t<e.length;++t)this.pathParts[t].setValue(e[t],a);for(let e=0;e<t.length;++e)this.queryParts[e].setValue(t[e],a);for(let e=0;e<r.length;++e)this.hashParts[e].setValue(r[e],a);if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)this.pathParts[t].setValue("",a);if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)this.queryParts[e].setValue("",a);if(this.hashParts.length>r.length)for(let e=r.length;e<this.hashParts.length;++e)this.hashParts[e].setValue("",a);return a}isMatch(e,t,r){if(this.pathParts.length<e.length)return!1;for(let t=0;t<e.length;++t)if(!this.pathParts[t].isMatch(e[t]))return!1;if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)if(!this.pathParts[t].isMatch(""))return!1;if(this.queryParts.length<t.length)return!1;for(let e=0;e<t.length;++e)if(!this.queryParts[e].isMatch(t[e]))return!1;if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)if(!this.queryParts[e].isMatch(""))return!1;if(this.hashParts.length<r.length)return!1;for(let e=0;e<r.length;++e)if(!this.hashParts[e].isMatch(r[e]))return!1;if(this.hashParts.length>r.length)for(let e=r.length;e<this.hashParts.length;++e)if(!this.hashParts[e].isMatch(""))return!1;return!0}run(e){e=this.fixUrl(e);let t=this.getPathParts(e),r=this.getQueryParts(e),a=this.getHashParts(e);if(!this.isMatch(t,r,a))return!1;let i=this.getParametersFromUrl(t,r,a);return i.url=e,this.callbacks.forEach((e=>e(i))),!0}}class v{constructor(){this.routes=[]}map(e){for(let t=0;t<e.length;++t)this.addRoute(e[t].url,e[t].action,e[t].defaultValues)}addRoute(e,t,r){let a=this.routes.filter((t=>t.isRoute(e)));return 0===a.length?this.routes.push(new k(e,t,r)):a[0].addCallback(t),this}run(e){for(let t=0;t<this.routes.length;++t)if(this.routes[t].run(e))return!0;return!1}}class C{constructor(){this.errors=[],this.messageAttributes={},this.messageAttributes.patternMismatch="data-error-message-pattern-mismatch",this.messageAttributes.rangeOverflow="data-error-message-range-overflow",this.messageAttributes.rangeUnderflow="data-error-message-range-underflow",this.messageAttributes.stepMismatch="data-error-message-step-mismatch",this.messageAttributes.tooLong="data-error-message-too-long",this.messageAttributes.tooShort="data-error-message-too-short",this.messageAttributes.badInput="data-error-message-bad-input",this.messageAttributes.typeMismatch="data-error-message-type-mismatch",this.messageAttributes.valueMissing="data-error-message-value-missing"}initialize(){let e=this.map(document.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let t=0;t<e.length;++t)"RADIO"===e[t].type.toUpperCase()||"CHECKBOX"===e[t].type.toUpperCase()?e[t].addEventListener("change",(e=>this.inputHandler(e.target))):e[t].addEventListener("input",(e=>this.inputHandler(e.target))),e[t].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let t=this.map(document.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)t[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let r=this.map(document.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<r.length;++e)r[e].addEventListener("change",(e=>this.selectHandler(e.target))),r[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}map(e,t){let r=[];for(let a=0;a<e.length;++a)r=r.concat(t(e[a]));return r}filter(e,t){let r=[];for(let a=0;a<e.length;++a)t(e[a])&&(r=r.concat(e[a]));return r}initializeForm(e){if(null==e)return;let t=this.map(e.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)"RADIO"===t[e].type.toUpperCase()||"CHECKBOX"===t[e].type.toUpperCase()?t[e].addEventListener("change",(e=>this.inputHandler(e.target))):t[e].addEventListener("input",(e=>this.inputHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let r=this.map(e.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<r.length;++e)r[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),r[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let a=this.map(e.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<a.length;++e)a[e].addEventListener("change",(e=>this.selectHandler(e.target))),a[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}invalidInputHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidTextAreaHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidSelectHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}inputHandler(e){if("RADIO"===e.type.toUpperCase()){let t=document.getElementsByName(e.name).map((e=>e));for(let e=0;e<t.length;++e)t[e].setCustomValidity("")}else e.setCustomValidity("");e.checkValidity()}textAreaHandler(e){e.setCustomValidity(""),e.checkValidity()}selectHandler(e){e.setCustomValidity(""),e.checkValidity()}validate(){let e=!0;this.errors=[];let t=this.filter(document.getElementsByTagName("input"),(e=>!this.validateInput(e)));e=e&&0===t.length;let r=this.filter(document.getElementsByTagName("select"),(e=>!this.validateSelect(e)));e=e&&0===r.length;let a=this.filter(document.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e)));return e=e&&0===a.length,e}validateForm(e){if(null==e)return[];let t=[];this.errors=[];let r=this.filter(e.getElementsByTagName("input"),(e=>!this.validateInput(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e]);let a=this.filter(e.getElementsByTagName("select"),(e=>!this.validateSelect(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<a.length;++e)t=t.concat(a[e]);let i=this.filter(e.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<i.length;++e)t=t.concat(i[e]);return t}validateElement(e){if(null==e)return[];let t=[];if("INPUT"!==e.tagName||this.validateInput(e))if("SELECT"!==e.tagName||this.validateSelect(e)){if("TEXTAREA"===e.tagName&&!this.validateTextArea(e)){let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}}else{let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}else{let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}return t}validateSelect(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}validateTextArea(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}getErrorMessages(e,t){let r=[];for(let a in this.messageAttributes)if(t[a]){let t=e.attribute(this.messageAttributes[a]);null!==t&&(r=r.concat(t))}if(0===r.length){let t=e.attribute("data-error-message");r=null!==t?r.concat(t):r.concat(e.validationMessage)}return r}validateInput(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}}class E{constructor(){this.params=[]}toString(){let e=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+e+")"}}Function.prototype.trace=function(){for(var e=[],t=this;t;)e.push(t.signature()),t=t.caller;return e},Function.prototype.signature=function(){var e=new E;if(e.name=this.getName(),this.arguments)for(var t=0;t<this.arguments.length;t++)e.params.push(this.arguments[t]);return e},Function.prototype.getName=function(){if(this.name)return this.name;var e=this.toString().split("\n")[0],t=/^function ([^\s(]+).+/;return t.test(e)&&e.split("\n")[0].replace(t,"$1")||"anonymous"};class b{constructor(){this.logError=(e,t)=>{}}setLoggingFunction(e){this.logError=e}onError(e,t,r,a,i){var n;this.logError(e,null!==(n=null==i?void 0:i.stack)&&void 0!==n?n:"")}}class V{back(e){void 0===e&&(e=1),window.history.go(-1*e)}forward(e){void 0===e&&(e=1),window.history.go(e)}push(e,t,r){window.history.pushState(e,r,t)}replace(e,t,r){window.history.replaceState(e,r,t)}get state(){return window.history.state}get length(){return window.history.length}}class S{set(e,t){localStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return localStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}get length(){return localStorage.length}key(e){return localStorage.key(e)}getObject(e,t=null){let r=this.get(e);return r&&JSON.parse(r)||t}}class x{set(e,t){sessionStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return sessionStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}get length(){return sessionStorage.length}key(e){return sessionStorage.key(e)}getObject(e,t=null){let r=this.get(e);return r&&JSON.parse(r)||t}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function N(e,t,r,a){return new(r||(r=Promise))((function(i,n){function l(e){try{s(a.next(e))}catch(e){n(e)}}function o(e){try{s(a.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))}class B{constructor(e,t,r){this.DBName=e,this.Version=r;let a=indexedDB.open(e,r);a.onupgradeneeded=e=>{this.database=e.target.result;for(let e=0;e<t.length;++e){let r=t[e];this.database.objectStoreNames.contains(r)&&this.database.deleteObjectStore(r),this.database.createObjectStore(r)}},a.onsuccess=e=>{this.database=e.target.result}}openDatabase(e){indexedDB.open(this.DBName,this.Version).onsuccess=t=>(this.database=t.target.result,e(this))}add(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).put(t,r)}remove(e,t){this.database.transaction(e,"readwrite").objectStore(e).delete(t)}getByKey(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=r}getKeys(e,t){this.database.transaction(e,"readwrite").objectStore(e).getAllKeys().onsuccess=t}get(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=r}getAll(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).getAll(r).onsuccess=t}}class w{constructor(e,t,r){this.url=t,this.method=e.toUpperCase(),this.data=r,this.headers=new Headers,"GET"!==this.method&&"HEAD"!==this.method&&"DELETE"!==this.method&&"TRACE"!==this.method&&this.type("application/json"),this.accept("application/json"),this.parser=e=>e.json(),this.serializer=e=>JSON.stringify(e),this.storageMode=exports.StorageMode.NetworkOnly,this.databaseName="ClarityStorage",this.cacheKey=this.url+this.serializer(this.data),this.credentials="same-origin"}static get(e,t){return w.makeRequest("GET",e,t)}static makeRequest(e,t,r){return new w(e,t,r)}static post(e,t){return w.makeRequest("POST",e,t)}static put(e,t){return w.makeRequest("PUT",e,t)}static delete(e,t){return w.makeRequest("DELETE",e,t)}onSuccess(e){return this.success=e,this}onError(e){return this.error=e,this}setHeader(e,t){return this.headers.set(e,t),this}setCacheKey(e){return this.cacheKey=e,this}setCredentials(e){return this.credentials=e,this}type(e){return this.setHeader("Content-Type",e)}accept(e){return this.setHeader("Accept",e)}setParser(e){return this.parser=e,this}setMode(e,t="ClarityStorage"){return this.databaseName=t,this.storageMode=e,this}setSerializer(e){return this.serializer=e,this}send(){return N(this,void 0,void 0,(function*(){null==this.error&&(this.error=e=>{}),null==this.success&&(this.success=e=>{});let e=this.serializer(this.data);if(this.storageMode===exports.StorageMode.StorageFirst&&(w.returnValueFromDB(this.cacheKey,this.databaseName,this.success),this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),(e=>{w.saveValueToDB(e,this.cacheKey,this.databaseName)})),yield Promise.resolve("A")),this.storageMode===exports.StorageMode.StorageAndUpdate)return w.returnValueFromDB(this.cacheKey,this.databaseName,this.success),void this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),(e=>{w.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}));this.storageMode!==exports.StorageMode.NetworkFirst?this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),this.success):this.queryNetwork(e,this.cacheKey,this.databaseName,this.success,(e=>{w.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}))}))}static saveValueToDB(e,t,r){new B(r,["cache","cacheExpirations"],1).openDatabase((r=>{void 0!==e&&(r.add("cache",e,t),r.add("cacheExpirations",Date.now(),t))}))}queryNetwork(e,t,r,a,i){navigator.onLine?fetch(this.url,{credentials:this.credentials,method:this.method,body:e,headers:this.headers}).then(this.parser).then(i).catch(this.error):this.storageMode===exports.StorageMode.NetworkFirst&&w.returnValueFromDB(t,r,a)}static returnValueFromDB(e,t,r){new B(t,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&r(t)}))}))}}exports.StorageMode=void 0,(i=exports.StorageMode||(exports.StorageMode={}))[i.NetworkFirst=0]="NetworkFirst",i[i.StorageFirst=1]="StorageFirst",i[i.NetworkOnly=2]="NetworkOnly",i[i.StorageAndUpdate=3]="StorageAndUpdate";class T{static get domain(){return window.location.protocol+"//"+window.location.host+"/"}static get isLocal(){return/^https?:\/\/localhost:\d{1,5}\/$/.test(T.domain)}static GetQueryString(e){let t=window.location.href;var r=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return r?r[1]:null}static get HashBang(){return window.location.hash.replace("#!","")}static get Id(){return window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1)}}class D{static exportData(e,t,r=T.Id,a=n.CSV){if(0==e.length)return;r=r||T.Id;let i="";i=a===n.CSV?this.exportCSV(e,t,r):e.join(","),this.download(i,r)}static capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}static exportCSV(e,t,r){var a,i;let n="",l=Object.keys(e[0]),o="";for(let e=0;e<l.length;++e){let r=l[e],s=t.filter((function(e){return e.property===r}));0===s.length&&(s=[{display:r,property:r}]);let c=(null===(a=s[0])||void 0===a?void 0:a.display)||(null===(i=s[0])||void 0===i?void 0:i.property)||r;n+=o+'"'+this.capitalize(c)+'"',o=","}n+="\n";for(let t=0;t<e.length;++t){let r=e[t],a=Object.keys(r);o="";for(let e=0;e<a.length;++e)n+=o+'"'+r[a[e]].replaceAll('"',"'")+'"',o=",";n+="\n"}return n}static download(e,t){if(null!=e)if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([e]),t);else{var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}!function(e){e[e.CSV=0]="CSV"}(n||(n={}));var M=l.default.defineComponent({data:()=>({}),methods:{closeModal:function(){this.$emit("close")}},props:{cssClasses:String,showModal:{default:!1,type:Boolean}}});const F=e.createTextVNode("Header"),I={class:"body"},P=e.createTextVNode("Body"),L=e.createElementVNode("br",{class:"clear"},null,-1);M.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({"clarity-modal":!0,show:t.showModal})},[e.createElementVNode("div",{class:e.normalizeClass(["panel",t.cssClasses])},[e.createElementVNode("header",null,[e.renderSlot(t.$slots,"header",{},(()=>[F]))]),e.createElementVNode("div",I,[e.renderSlot(t.$slots,"body",{},(()=>[P]))]),e.createElementVNode("footer",null,[e.renderSlot(t.$slots,"footer",{},(()=>[e.createElementVNode("input",{type:"button",class:"close right",value:"Close",onClick:r[0]||(r[0]=(...e)=>t.closeModal&&t.closeModal(...e))}),L]))])],2)],2)},M.__file="src/ts/Component/Modal/ClarityModal.vue";var A=l.default.defineComponent({methods:{findTab:function(e){return this.sections&&0!==this.sections.length?(e||(e=this.sections[0].name),this.sections.filter((t=>t.name===e))[0]):null},switchSelected:function(e){this.sectionPicked=this.findTab(e),this.switchTabs(),this.$emit("section-changed",this.sectionPicked)},switchTabs:function(){if(this.sections&&0!==this.sections.length&&(this.sections.some((e=>e===this.sectionPicked))||(this.sectionPicked=this.sections[0]),this.sectionPicked)){for(let e=0;e<this.sections.length;++e)this.sections[e].selected=!1;this.sectionPicked.selected=!0}}},props:{initialSectionPicked:{type:Object,default:{}},sections:{type:Array,default:[]}},watch:{sections:function(e){this.switchSelected(this.sectionPicked)},initialSectionPicked:function(e){this.switchSelected(this.initialSectionPicked)}},data(){return{sectionPicked:this.findTab(this.initialSectionPicked)}},beforeMount:function(){this.switchSelected(this.initialSectionPicked)}});const O={class:"clarity-tabs"},q={class:"row flex align-items-stretch"},G=["onClick"];var H,$,U,j;A.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",O,[e.createElementVNode("header",null,[e.createElementVNode("ul",q,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.sections,((r,a)=>(e.openBlock(),e.createElementBlock("li",{key:a},[e.createElementVNode("a",{href:"#!",onClick:e.withModifiers((e=>t.switchSelected(r.name)),["stop","prevent"]),class:e.normalizeClass(["tab",{selected:r.selected}])},[e.createElementVNode("span",{class:e.normalizeClass([r.icon])},null,2),e.createTextVNode(" "+e.toDisplayString(r.name),1)],10,G)])))),128))])]),e.createElementVNode("section",null,[e.renderSlot(t.$slots,"default")])])},A.__file="src/ts/Component/Tabs/ClarityTabs.vue",exports.Grid=void 0,H=exports.Grid||(exports.Grid={}),($=H.ColumnDataType||(H.ColumnDataType={}))[$.String=0]="String",$[$.Image=1]="Image",$[$.Link=2]="Link",$[$.Number=3]="Number",$[$.Date=4]="Date",(U=H.FilterType||(H.FilterType={}))[U.Dropdown=0]="Dropdown",U[U.Textbox=1]="Textbox",(j=H.ComparisonType||(H.ComparisonType={}))[j.StartsWith=0]="StartsWith",j[j.Contains=1]="Contains",j[j.EndsWith=2]="EndsWith",j[j.Equals=3]="Equals",j[j.After=4]="After",j[j.AfterOrEqual=5]="AfterOrEqual",j[j.Before=6]="Before",j[j.BeforeOrEqual=7]="BeforeOrEqual";class K{constructor(){this.value="",this.comparison=exports.Grid.ComparisonType.Contains,this.type=exports.Grid.FilterType.Textbox,this.filtered=!1}}class z{constructor(e=!0,t="filteredTable"){this.saveFilters=!0,this.sourceName="filteredTable",this.saveFilters=e,this.sourceName=t}}class R{constructor(e,t,r){if(this.display="",this.dataType=exports.Grid.ColumnDataType.String,this.sum=!1,this.locales="en-US",this.url="",this.filter=new K,this.sort=!1,this.sortDirection=1,this.default="",this.show=!0,null==e||null==t)return;if(null==r&&(r=new z),"string"==typeof e){let r=new R;r.property=e.replace(R.MultipleSpacesRegex,"").trim(),r.display=R.fixHeader(e),r.dataType=R.guessDataType(e,t),e=r}"property"in e&&(this.property=e.property.replace(R.MultipleSpacesRegex,"").trim());let a=[{name:"display",default:e=>R.fixHeader(e.property)},{name:"property",default:e=>e.display.replace(R.MultipleSpacesRegex,"").trim()},{name:"dataType",default:e=>R.guessDataType(e.property,t)},{name:"sum",default:e=>!1},{name:"locales",default:e=>"en-US"},{name:"format",default:e=>({})},{name:"url",default:e=>""},{name:"filter",default:e=>new K},{name:"sort",default:e=>!1},{name:"sortDirection",default:e=>1},{name:"default",default:e=>""},{name:"show",default:e=>!1}];for(let t=0;t<a.length;++t){let r=a[t];e.hasOwnProperty(r.name)?this[r.name]=e[r.name]:this[r.name]=r.default(this)}if("filter"in e){let t=[{name:"value",default:e=>""},{name:"comparison",default:e=>exports.Grid.ComparisonType.Contains},{name:"type",default:e=>exports.Grid.FilterType.Textbox},{name:"filtered",default:e=>!1}];for(let r=0;r<t.length;++r){let a=t[r];e.filter.hasOwnProperty(a.name)?this.filter[a.name]=e.filter[a.name]:this.filter[a.name]=a.default(this.filter)}R.returnValueFromDB(this.property,r,(e=>this.filter.value=e))}}saveFilter(e){R.saveValueToDB(this.filter.value,this.property,e)}formatValue(e){if(null!=e&&""!==e||(e=this.default),""===e)return e;if(this.dataType===exports.Grid.ColumnDataType.String)return(null==e?void 0:e.toString().replace(/\n/gi,"<br />"))||"";let t=typeof e;if(this.dataType===exports.Grid.ColumnDataType.Number){if("number"===t)return new Intl.NumberFormat(this.locales,this.format).format(e);if("string"===t)return new Intl.NumberFormat(this.locales,this.format).format(R.getNumber(e.stripHTML()))}else if(this.dataType===exports.Grid.ColumnDataType.Date){if("number"===t)return new Intl.DateTimeFormat(this.locales,this.format).format(e);if("string"===t)return e=e.stripHTML(),1900===o.default(e).year()?"":new Intl.DateTimeFormat(this.locales,this.format).format(Date.parse(e))}else{if(this.dataType===exports.Grid.ColumnDataType.Link)return"<a href='"+(e=e.stripHTML())+"'>"+e+"</a>";if(this.dataType===exports.Grid.ColumnDataType.Image)return"<img src='"+(e=e.stripHTML())+"' alt='"+e+"'"+(this.default?" onerror='this.src=\""+this.default+"\"'":"")+" />"}return e}passesFilter(e){var t=(this.filter.value||"").toLowerCase();if(""===t)return!0;if(""===e)return!1;if(e=e.toLowerCase(),this.dataType===exports.Grid.ColumnDataType.Date){let r=o.default(e),a=o.default(t);return this.filter.comparison===exports.Grid.ComparisonType.After?r.isAfter(a):this.filter.comparison===exports.Grid.ComparisonType.AfterOrEqual?r.isSameOrAfter(a):this.filter.comparison===exports.Grid.ComparisonType.BeforeOrEqual?r.isSameOrBefore(a):this.filter.comparison===exports.Grid.ComparisonType.Before?r.isBefore(a):r.isSame(a)}return this.filter.comparison===exports.Grid.ComparisonType.After?e>t:this.filter.comparison===exports.Grid.ComparisonType.AfterOrEqual?e>=t:this.filter.comparison===exports.Grid.ComparisonType.BeforeOrEqual?e<=t:this.filter.comparison===exports.Grid.ComparisonType.Before?e<t:this.filter.comparison===exports.Grid.ComparisonType.Contains?e.indexOf(t)>-1:this.filter.comparison===exports.Grid.ComparisonType.EndsWith?e.endsWith(t):this.filter.comparison===exports.Grid.ComparisonType.StartsWith?e.startsWith(t):this.filter.comparison!==exports.Grid.ComparisonType.Equals||e===t}static fixHeader(e){return e.replace("_"," ").replace("-"," ").replace(/([a-z])([A-Z])/g,"$1 $2")}static getNumber(e){return e?parseFloat(e.toString().replace(/[^0-9.-]/g,"")):0}static guessDataType(e,t){let r=document.createElement("div");for(let a=0;a<t.length;++a){if(!(e in t[a]))continue;let i=t[a][e].toString();if(r.innerHTML=i,i=(r.textContent||r.innerText||"").replace(this.isWhiteSpaceRegex,""),""!==i){if(i.match(this.imageRegex))return exports.Grid.ColumnDataType.Image;if(i.match(this.urlRegex))return exports.Grid.ColumnDataType.Link;if(i.match(this.numberRegex)&&!i.match(this.phoneRegex))return exports.Grid.ColumnDataType.Number;if(i.match(this.dateRegex))return exports.Grid.ColumnDataType.Date}}return exports.Grid.ColumnDataType.String}static returnValueFromDB(e,t,r){t.saveFilters&&new B(t.sourceName,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&r(t)}))}))}static saveValueToDB(e,t,r){r.saveFilters&&new B(r.sourceName,["cache","cacheExpirations"],1).openDatabase((r=>{void 0!==e&&(r.add("cache",e,t),r.add("cacheExpirations",Date.now(),t))}))}}R.dateRegex=/^((\d\d)?\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)(T\d\d:\d\d:\d\dZ?)?$/gi,R.numberRegex=/^-?[£$¤]?[\d,.]+%?$/,R.phoneRegex=/^\d\d\d.\d\d\d.\d\d\d\d$/,R.urlRegex=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,R.imageRegex=/^(http)?s?:?(\/\/[^"']*\.(?:png|jpg|jpeg|gif|png|svg))$/,R.isWhiteSpaceRegex=/^\s+|\s+$/g,R.MultipleSpacesRegex=/\s+/g;class _{constructor(e,t){let r=e[t.property.split(".").pop()];this.value=t.formatValue(this.replaceProperties(r,e)),this.url=this.getUrl(t.url,e)}getUrl(e,t){if(""===e||null==t)return"";let r=this.replaceProperties(e,t);for(;r.indexOf("{")>-1&&r.indexOf("}")>-1;)r=this.replaceProperties(r,t);return r}replaceProperties(e,t){if("string"!=typeof e||-1===e.indexOf("{")||-1===e.indexOf("}"))return e;let r=e.match(/{([^}]*)}/g);for(let a=0;a<r.length;++a){let i=r[a].replace("{","").replace("}",""),n=this.stripHTML(t[i])||"";e=e.replaceAll("{"+i+"}",n)}return e}stripHTML(e){let t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").replace(/^\s+|\s+$/g,"")}}class W{constructor(e,t){this.column=e,this.data=this.getItems(t,e)}getItems(e,t){let r=this.getParentProperties(e,t.property),a=[];for(let e=0;e<r.length;++e){let i=r[e];a.push(new _(i,t))}return a}getParentProperties(e,t){if(!t)return[];let r=t.split("."),a=e[r[0]];if(1===r.length)return Array.isArray(e)?e:[e];let i=r.slice(1,r.length).join(".");if(Array.isArray(a)){let e=[];for(let t=0;t<a.length;++t)e=e.concat(this.getParentProperties(a[t],i));return e}return this.getParentProperties(a,i)}}class Y{constructor(e,t){this.columns=[],this.originalData=[],this.originalData=e;for(let r=0;r<t.length;++r)this.columns.push(new W(t[r],e))}}class J{static sortDate(e,t){let r=o.default(e),a=o.default(t);return r.isValid()||(r=o.default(new Date(0))),a.isValid()||(a=o.default(new Date(0))),r.isBefore(a)?-1:r.isAfter(a)?1:0}static sortNumber(e,t){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e-t}static sortString(e,t){return e===t?0:e<t?-1:1}}var Q=l.default.defineComponent({watch:{columns:function(e,t){this.internalColumns.length=0,this.internalColumns=this.getColumnInfos(e,this.data,this.databaseSettings),this.internalData=this.getData(this.internalData.map((e=>e.originalData)),this.internalColumns),this.filterChanged()},data:function(e,t){this.internalData.length=0,this.internalData=this.getData(e,this.internalColumns),this.filterChanged()}},computed:{anySum:function(){return this.internalColumns.some((e=>e.sum))},endPage:function(){let e=10*Math.floor((this.page-1)/10)+10;return e>this.finalPage?this.finalPage:e},filteredGroups:function(){var e;if(!this.groupBy)return[""];let t=this.filteredData,r=[];for(let e=0;e<t.length;++e){let a=t[e].originalData[this.groupBy];if(!a)continue;if(Array.isArray(a)){for(let e=0;e<a.length;++e){let t=a[e].toString();-1===r.indexOf(t)&&r.push(t)}continue}let i=a.toString();-1===r.indexOf(i)&&r.push(i)}let a=null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase();return r.filter((e=>-1!==e.toLowerCase().indexOf(a))).sort((function(e,t){return e===t?0:e<t?-1:1}))},filteredData:function(){var e;let t=this.filter(this.internalData,null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase());return this.sort(t,this.internalColumns,this.sortKey)},finalPage:function(){return-1===this.pageSize?1:Math.ceil(this.total/this.pageSize)},pageable:function(){return this.paged&&this.pageSize>0&&this.filteredData.length>this.pageSize},startPage:function(){return 10*Math.floor((this.page-1)/10)}},data:function(){let e=this,t=new z(this.saveFilters),r=e.getColumnInfos(this.columns,this.data,t),a=[];return a[exports.Grid.ColumnDataType.String]=this.sortString,a[exports.Grid.ColumnDataType.Number]=this.sortNumber,a[exports.Grid.ColumnDataType.Date]=this.sortDate,{sortKey:-1,draggedColumn:null,internalColumns:r,databaseSettings:t,filterKey:e.filterValue,internalData:e.getData(this.data,r),sortMethods:a}},methods:{exportData:function(e){let t=[];if(""===this.groupBy){let e=this.filteredData;for(let r=0;r<e.length;++r){let a=e[r],i={};for(let e=0;e<a.columns.length;++e){i[a.columns[e].column.property]=a.columns[e].data.map((e=>e.value)).join(", ")}t.push(i)}}else{let e=this.filteredGroups;for(let r=0;r<e.length;++r){let a=e[r],i=this.getEntriesInGroup(a),n={};n[i[0].columns[0].column.property]=a;for(let e=1;e<i[0].columns.length;++e){n[i[0].columns[e].column.property]=""}t.push(n);for(let e=0;e<i.length;++e){let r=i[e],a={};for(let e=0;e<r.columns.length;++e){a[r.columns[e].column.property]=r.columns[e].data.map((e=>e.value)).join(", ")}t.push(a)}}}D.exportData(t,this.columns,this.exportInfo.fileName+"."+e,n.CSV)},filter:function(e,t){return t&&""===this.groupBy&&(e=e.filter((e=>e.columns.some((e=>e.data.some((e=>e.value.toLowerCase().indexOf(t)>-1))))))),e.filter((e=>e.columns.every((e=>e.data.map((e=>e.value)).some((t=>e.column.passesFilter(t)))))))},filterChanged:function(){this.$emit("data-updated",{data:this.filteredData})},getColumnInfos:function(e,t,r){return e.map((e=>new R(e,t,r)))},getData:function(e,t){return e.map((e=>new Y(e,t)))},getDistinctValues:function(e){var t;let r=[""],a=this.filteredData;for(let i=0;i<a.length;++i){let n=(null===(t=a[i].columns.find((t=>t.column.property===e.property)))||void 0===t?void 0:t.data.map((e=>e.value)))||[];for(let e=0;e<n.length;++e)-1===r.indexOf(n[e])&&r.push(n[e])}return r.sort(J.sortString)},getEntriesInGroup:function(e){let t=this.filteredData,r=this;return""===r.groupBy?t:t.filter((t=>r.isInGroup(t.originalData[r.groupBy],e)))},isInGroup:function(e,t){let r=this;return Array.isArray(e)?e.some((e=>r.isInGroup(e,t))):(null==e?void 0:e.toString())===t},rowClicked:function(e){for(let e=0;e<this.internalColumns.length;++e){let t=this.internalColumns[e];t.filter&&void 0!==t.filter.value&&t.saveFilter(this.databaseSettings)}this.$emit("row-clicked",{entry:e})},setPage:function(e){e>this.finalPage?e=this.finalPage:e<1&&(e=1);let t=this.internalColumns[this.sortKey],r=(null==t?void 0:t.sortDirection)||0;this.$emit("pagechange",{page:e,filter:this.filterKey,sort:this.sortKey,direction:r})},sort:function(e,t,r){if(!this.sortable)return e;let a=this.sortKey;for(let r=0;r<t.length;++r){let a=t[r];a.sort&&(this.sortKey=r,e=e.sort(this.sortMethods[a.dataType]))}if(this.sortKey=a,-1===r)return e;let i=t[r];return e=e.sort(this.sortMethods[i.dataType]),1===i.sortDirection?e.reverse():e},sortBy:function(e,t){this.sortKey=t,e.sortDirection=-1*e.sortDirection,this.$emit("pagechange",{page:this.page,filter:this.filterKey,sort:this.sortKey,direction:e.sortDirection})},sortDate:function(e,t){var r,a;let i=(null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"",n=(null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"";return J.sortDate(new Date(i),new Date(n))},sortNumber:function(e,t){var r,a;let i=((null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"").toString().toNumber(),n=((null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"").toString().toNumber();return J.sortNumber(i,n)},sortString:function(e,t){var r,a;let i=(null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"",n=(null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"";return J.sortString(i,n)},sumColumn:function(e,t){if(!t.sum)return"";let r=this.getEntriesInGroup(e);return t.formatValue(r.map((e=>{var r;return null===(r=e.originalData[t.property])||void 0===r?void 0:r.toString().toNumber()})).reduce(((e,t)=>e+t)))}},props:{columns:{default:[],type:Array},data:{default:[],type:Array},groupBy:{default:"",type:String},page:{default:1,type:Number},paged:{default:!1,type:Boolean},pageSize:{default:-1,type:Number},total:{default:0,type:Number},saveFilters:{default:!0,type:Boolean},searchable:{default:!0,type:Boolean},showCount:{default:!0,type:Boolean},sortable:{default:!0,type:Boolean},quickNav:{default:!1,type:Boolean},filterValue:{default:"",type:String},exportInfo:{default:{exportable:!0,fileName:T.Id},type:Object}}});const X={class:"clarity-grid"},Z={class:"panel"},ee={class:"body"},te={key:0,class:"right do-not-print flex column"},re={class:"no-border"},ae=e.createElementVNode("td",null," Search: ",-1),ie=e.createElementVNode("td",null," Export: ",-1),ne={key:1,class:"do-not-print"},le=e.createTextVNode(" Show "),oe=[e.createStaticVNode('<option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="-1">All</option>',6)],se=e.createTextVNode(" entries "),ce={key:2,class:"quick-nav do-not-print"},de={class:"inline"},he=e.createElementVNode("li",null,"Quick nav:",-1),me=["href"],ue=e.createElementVNode("br",{class:"clear"},null,-1),pe={class:"sortable",id:"filteredTable"},fe=["onClick","columnName"],ge={key:0},ye={key:0,class:"do-not-print"},ke=["type","placeholder","onUpdate:modelValue","list"],ve=["id"],Ce={key:1,class:"do-not-print"},Ee=["onUpdate:modelValue"],be={key:0,class:"grid-group-header"},Ve=["colspan"],Se=["id"],xe=["onClick"],Ne=["innerHTML"],Be=["innerHTML","href"],we={key:1,class:"grid-group-footer"},Te=["colspan"],De={key:2,class:"grid-group-footer"},Me=["innerHTML"],Fe={key:0,class:"do-not-print"},Ie=["colspan"],Pe={class:"right"},Le={class:"paged"},Ae=["onClick"],Oe={key:0,class:"do-not-print"};Q.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",X,[e.createElementVNode("div",Z,[e.createElementVNode("div",ee,[t.searchable?(e.openBlock(),e.createElementBlock("div",te,[e.createElementVNode("table",re,[e.createElementVNode("tbody",null,[e.createElementVNode("tr",null,[ae,e.createElementVNode("td",null,[e.withDirectives(e.createElementVNode("input",{type:"text",placeholder:"Filter Entries","onUpdate:modelValue":r[0]||(r[0]=e=>t.filterKey=e),onKeyup:r[1]||(r[1]=(...e)=>t.filterChanged&&t.filterChanged(...e))},null,544),[[e.vModelText,t.filterKey]])])]),e.createElementVNode("tr",null,[ie,e.createElementVNode("td",null,[t.exportInfo.exportable?(e.openBlock(),e.createElementBlock("a",{key:0,href:"#!",class:"fas fa-file-csv",onClick:r[2]||(r[2]=e=>t.exportData("CSV"))})):e.createCommentVNode("v-if",!0)])])])])])):e.createCommentVNode("v-if",!0),t.paged?(e.openBlock(),e.createElementBlock("span",ne,[le,e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":r[3]||(r[3]=e=>t.pageSize=e)},oe,512),[[e.vModelSelect,t.pageSize]]),se])):e.createCommentVNode("v-if",!0),t.quickNav&&t.filteredGroups?(e.openBlock(),e.createElementBlock("div",ce,[e.createElementVNode("ul",de,[he,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.filteredGroups,(t=>(e.openBlock(),e.createElementBlock("li",{key:t},[e.createElementVNode("a",{href:"#"+t},e.toDisplayString(t),9,me)])))),128))])])):e.createCommentVNode("v-if",!0),ue])]),e.createElementVNode("table",pe,[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.internalColumns,((a,i)=>(e.openBlock(),e.createElementBlock("th",{key:a,onClick:e=>t.sortBy(a,i),class:e.normalizeClass({active:t.sortKey==i,headerSortUp:t.sortKey==i&&a.sortDirection>0,headerSortDown:t.sortKey==i&&a.sortDirection<0}),columnName:a.property},[e.createTextVNode(e.toDisplayString(t.$filters.capitalize(a.display))+" ",1),a.filter.filtered?(e.openBlock(),e.createElementBlock("div",ge,[1==a.filter.type?(e.openBlock(),e.createElementBlock("div",ye,[e.withDirectives(e.createElementVNode("input",{type:a.filter.type,placeholder:a.filter.placeholder,"onUpdate:modelValue":e=>a.filter.value=e,list:a.property,onClick:r[4]||(r[4]=e.withModifiers((()=>{}),["stop","prevent"])),onKeyup:r[5]||(r[5]=(...e)=>t.filterChanged&&t.filterChanged(...e))},null,40,ke),[[e.vModelDynamic,a.filter.value]]),e.createElementVNode("datalist",{id:a.property},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getDistinctValues(a),(t=>(e.openBlock(),e.createElementBlock("option",{key:t},e.toDisplayString(t),1)))),128))],8,ve)])):e.createCommentVNode("v-if",!0),0==a.filter.type?(e.openBlock(),e.createElementBlock("div",Ce,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":e=>a.filter.value=e,onClick:r[6]||(r[6]=e.withModifiers((()=>{}),["stop","prevent"])),onChange:r[7]||(r[7]=(...e)=>t.filterChanged&&t.filterChanged(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getDistinctValues(a),(t=>(e.openBlock(),e.createElementBlock("option",{key:t},e.toDisplayString(t),1)))),128))],40,Ee),[[e.vModelSelect,a.filter.value]])])):e.createCommentVNode("v-if",!0)])):e.createCommentVNode("v-if",!0)],10,fe)))),128))])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.filteredGroups,(r=>(e.openBlock(),e.createElementBlock("tbody",{key:r},[""!==r?(e.openBlock(),e.createElementBlock("tr",be,[e.createElementVNode("td",{colspan:t.internalColumns.length},[e.createElementVNode("a",{id:r},null,8,Se),e.createTextVNode(e.toDisplayString(r),1)],8,Ve)])):e.createCommentVNode("v-if",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getEntriesInGroup(r),((r,a)=>(e.openBlock(),e.createElementBlock("tr",{key:a,onClick:e=>t.rowClicked(r)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.columns,(t=>(e.openBlock(),e.createElementBlock("td",{key:t,class:e.normalizeClass(r.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data,(t=>(e.openBlock(),e.createElementBlock("div",{key:t},[t.url?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock("div",{key:0,innerHTML:t.value},null,8,Ne)),t.url?(e.openBlock(),e.createElementBlock("a",{key:1,innerHTML:t.value,href:t.url},null,8,Be)):e.createCommentVNode("v-if",!0)])))),128))],2)))),128))],8,xe)))),128)),t.anySum?(e.openBlock(),e.createElementBlock("tr",we,[e.createElementVNode("td",{colspan:t.internalColumns.length},"Totals:",8,Te)])):e.createCommentVNode("v-if",!0),t.anySum?(e.openBlock(),e.createElementBlock("tr",De,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.internalColumns,(a=>(e.openBlock(),e.createElementBlock("td",{innerHTML:t.sumColumn(r,a),key:a},null,8,Me)))),128))])):e.createCommentVNode("v-if",!0)])))),128)),t.pageable?(e.openBlock(),e.createElementBlock("tfoot",Fe,[e.createElementVNode("tr",null,[e.createElementVNode("td",{colspan:t.internalColumns.length},[e.createElementVNode("div",Pe,"Page "+e.toDisplayString(t.page)+" of "+e.toDisplayString(t.finalPage),1),e.createElementVNode("ul",Le,[e.createElementVNode("li",{class:e.normalizeClass(["cursor-pointer fas fa-fast-backward text-center",{disabled:1==t.page}]),onClick:r[8]||(r[8]=e=>t.setPage(1))},null,2),e.createElementVNode("li",{class:e.normalizeClass(["cursor-pointer fas fa-step-backward text-center",{disabled:1==t.page}]),onClick:r[9]||(r[9]=e=>t.setPage(t.page-1))},null,2),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.endPage-t.startPage,(r=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["cursor-pointer text-center",{active:t.page==t.startPage+r}]),onClick:e=>t.setPage(t.startPage+r),key:r},e.toDisplayString(t.startPage+r),11,Ae)))),128)),e.createElementVNode("li",{class:e.normalizeClass(["cursor-pointer fas fa-step-forward text-center",{disabled:t.page==t.finalPage}]),onClick:r[10]||(r[10]=e=>t.setPage(t.page+1))},null,2),e.createElementVNode("li",{class:e.normalizeClass(["cursor-pointer fas fa-fast-forward text-center",{disabled:t.page==t.finalPage}]),onClick:r[11]||(r[11]=e=>t.setPage(t.finalPage))},null,2)])],8,Ie)])])):e.createCommentVNode("v-if",!0)]),t.showCount?(e.openBlock(),e.createElementBlock("div",Oe," Filtered count: "+e.toDisplayString(t.filteredData.length),1)):e.createCommentVNode("v-if",!0)])},Q.__file="src/ts/Component/Grid/ClarityGrid.vue";var qe=l.default.defineComponent({data:()=>({errorMessages:[],formValidator:new C}),mounted(){this.$nextTick((function(){this.revalidate()}))},methods:{revalidate:function(){if(null==this.$el)return!0;let e=this.getParentForm(this.$el);if(null==e&&!this.formValidator.validate())return this.errorMessages=this.formValidator.errors,!1;let t=this.formValidator.validateForm(e);return t.length>0?(this.errorMessages=t,!1):(this.errorMessages=[],!0)},getParentForm:function(e){let t=e.parentNode;return"FORM"===t.nodeName||null===t?t:this.getParentForm(t)}}});const Ge={class:"panel error clarity-validator"},He=e.createElementVNode("a",{name:"errorSection"},null,-1),$e=e.createTextVNode("Some Errors Were Discovered");qe.render=function(t,r,a,i,n,l){return e.withDirectives((e.openBlock(),e.createElementBlock("div",Ge,[He,e.createElementVNode("header",null,[e.renderSlot(t.$slots,"default",{},(()=>[$e]))]),e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.errorMessages,(t=>(e.openBlock(),e.createElementBlock("li",{key:t},e.toDisplayString(t),1)))),128))])],512)),[[e.vShow,t.errorMessages.length>0]])},qe.__file="src/ts/Component/FormValidation/ClarityFormValidator.vue";var Ue=l.default.defineComponent({data:function(){let e;if("date"===this.schema.inputType||"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType||"month"===this.schema.inputType){let t=o.default(this.model);this.schema.isUTC&&(t=o.default.utc(this.model).local()),"date"===this.schema.inputType?e=t.format("YYYY-MM-DD"):"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType?e=t.format("YYYY-MM-DDTHH:mm"):"month"===this.schema.inputType&&(e=t.format("YYYY-MM"))}else e=this.model;return{count:0,timer:0,internalmodel:e}},props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.schema.datalistUrl&&(0!==t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){w.post(t.schema.datalistUrl,{value:e,queryCount:++t.count}).onSuccess((function(e){e&&(e.queryCount&&e.queryCount==t.count?t.schema.datalist=e.value:e.queryCount||(t.schema.datalist=e))})).onError((function(e){t.$emit("error",e)})).send()}),100)),this.$emit("changed",e,this.schema)},getList:function(){return void 0!==this.schema.datalist?this.getFieldID()+"-list":null},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const je=["for"],Ke={key:0,class:"error clear-background"},ze={key:1,class:"clear-background active no-border small"},Re=e.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),_e=["for"],We={key:0,class:"error clear-background"},Ye={key:1,class:"clear-background active no-border small"},Je=e.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Qe=["id","type","disabled","accept","alt","autocomplete","checked","dirname","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","title","readonly","required","size","src","step","width","files","data-error-message-value-missing","data-error-message-pattern-mismatch","data-error-message-range-overflow","data-error-message-range-underflow","data-error-message-step-mismatch","data-error-message-too-long","data-error-message-too-short","data-error-message-bad-input","data-error-message-type-mismatch"],Xe={key:2,class:"text-center"},Ze=["id"],et=["value"];Ue.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[!t.schema.label&&t.label?(e.openBlock(),e.createElementBlock("label",{key:0,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.$filters.capitalize(t.schema.model))+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",Ke,"*")):e.createCommentVNode("v-if",!0),t.schema.hint?(e.openBlock(),e.createElementBlock("i",ze,[Re,e.createTextVNode(e.toDisplayString(t.schema.hint),1)])):e.createCommentVNode("v-if",!0)],10,je)):e.createCommentVNode("v-if",!0),t.schema.label&&t.label?(e.openBlock(),e.createElementBlock("label",{key:1,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.schema.label)+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",We,"*")):e.createCommentVNode("v-if",!0),t.schema.hint?(e.openBlock(),e.createElementBlock("i",Ye,[Je,e.createTextVNode(e.toDisplayString(t.schema.hint),1)])):e.createCommentVNode("v-if",!0)],10,_e)):e.createCommentVNode("v-if",!0),e.withDirectives(e.createElementVNode("input",{id:t.getFieldID(),type:t.schema.inputType,"onUpdate:modelValue":r[0]||(r[0]=e=>t.internalmodel=e),onInput:r[1]||(r[1]=e=>t.changed(e.target.value)),disabled:t.schema.disabled,accept:t.schema.accept,alt:t.schema.alt,autocomplete:t.schema.autocomplete,checked:t.schema.checked,dirname:t.schema.dirname,formaction:t.schema.formaction,formenctype:t.schema.formenctype,formmethod:t.schema.formmethod,formnovalidate:t.schema.formnovalidate,formtarget:t.schema.formtarget,height:t.schema.height,list:t.getList(),max:t.schema.max,maxlength:t.schema.maxlength,min:t.schema.min,minlength:t.schema.minlength,multiple:t.schema.multiple,name:t.schema.inputName||t.getFieldID(),pattern:t.schema.pattern,placeholder:t.schema.placeholder,title:t.schema.placeholder,readonly:t.schema.readonly,required:t.schema.required,size:t.schema.size,src:t.schema.src,step:t.schema.step,width:t.schema.width,files:t.schema.files,class:e.normalizeClass(t.schema.inputClasses),"data-error-message-value-missing":t.schema.errorMessageValueMissing,"data-error-message-pattern-mismatch":t.schema.errorMessagePatternMismatch,"data-error-message-range-overflow":t.schema.errorMessageRangeOverflow,"data-error-message-range-underflow":t.schema.errorMessageRangeUnderflow,"data-error-message-step-mismatch":t.schema.errorMessageStepMismatch,"data-error-message-too-long":t.schema.errorMessageTooLong,"data-error-message-too-short":t.schema.errorMessageTooShort,"data-error-message-bad-input":t.schema.errorMessageBadInput,"data-error-message-type-mismatch":t.schema.errorMessageTypeMismatch},null,42,Qe),[[e.vModelDynamic,t.internalmodel]]),"color"===t.schema.inputType||"range"===t.schema.inputType?(e.openBlock(),e.createElementBlock("div",Xe,e.toDisplayString(t.internalmodel),1)):e.createCommentVNode("v-if",!0),t.schema.datalist?(e.openBlock(),e.createElementBlock("datalist",{key:3,id:t.getList()},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.datalist,(t=>(e.openBlock(),e.createElementBlock("option",{value:t,key:t},null,8,et)))),128))],8,Ze)):e.createCommentVNode("v-if",!0)])},Ue.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldInput.vue";var tt=l.default.defineComponent({props:{model:Object,schema:Object,label:{default:!0,type:Boolean},idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)},isSelected:function(e){return this.model===e.key},getValues:function(e){if(!e)return null;let t=e;Array.isArray(e)&&(t=e[0]);let r=Object.getOwnPropertyNames(t);for(let a=0;a<r.length;++a){if("key"===r[a])return e;let i=this.getValues(t[r[a]]);if(i)return i}return null}},beforeMount:function(){if(!this.schema.valuesUrl)return;let e=this;w.post(e.schema.valuesUrl,e.schema.valuesUrlData).onSuccess((function(t){if(!t)return;let r=e.getValues(t);r&&(e.schema.values=r)})).onError((function(t){e.$emit("error",t)})).send()}});const rt=["for"],at={key:0,class:"error clear-background"},it=["for"],nt={key:0,class:"error clear-background"},lt=["disabled","name","height","id","readonly","required","multiple","width","data-error-message-value-missing"],ot=["value","selected"];tt.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[!t.schema.label&&t.label?(e.openBlock(),e.createElementBlock("label",{key:0,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.$filters.capitalize(t.schema.model))+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",at,"*")):e.createCommentVNode("v-if",!0)],10,rt)):e.createCommentVNode("v-if",!0),t.schema.label&&t.label?(e.openBlock(),e.createElementBlock("label",{key:1,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.schema.label)+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",nt,"*")):e.createCommentVNode("v-if",!0)],10,it)):e.createCommentVNode("v-if",!0),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>t.model=e),disabled:t.schema.disabled,name:t.schema.inputName||t.getFieldID(),height:t.schema.height,id:t.getFieldID(),onChange:r[1]||(r[1]=e=>t.changed(t.model)),readonly:t.schema.readonly,required:t.schema.required,multiple:t.schema.multiple,class:e.normalizeClass(t.schema.inputClasses),width:t.schema.width,"data-error-message-value-missing":t.schema.errorMessageValueMissing},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.values,(r=>(e.openBlock(),e.createElementBlock("option",{value:r.key,selected:t.isSelected(r),key:r.key},e.toDisplayString(r.value),9,ot)))),128))],42,lt),[[e.vModelSelect,t.model]])])},tt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldSelect.vue";var st=l.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const ct=["id","checked","disabled","dirname","name","readonly","required","data-error-message-value-missing"],dt=["for"],ht={key:0,class:"error clear-background"},mt=["for"],ut={key:0,class:"error clear-background"};st.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("input",{id:t.getFieldID(),type:"checkbox",checked:t.model,onClick:r[0]||(r[0]=e=>t.changed(e.target.checked)),disabled:t.schema.disabled,dirname:t.schema.dirname,name:t.schema.inputName||t.getFieldID(),readonly:t.schema.readonly,required:t.schema.required,"data-error-message-value-missing":t.schema.errorMessageValueMissing,class:e.normalizeClass(t.schema.inputClasses)},null,10,ct),t.schema.label?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock("label",{key:0,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.$filters.capitalize(t.schema.model))+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",ht,"*")):e.createCommentVNode("v-if",!0)],10,dt)),t.schema.label?(e.openBlock(),e.createElementBlock("label",{key:1,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.schema.label)+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",ut,"*")):e.createCommentVNode("v-if",!0)],10,mt)):e.createCommentVNode("v-if",!0)])},st.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldCheckbox.vue";var pt=l.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(e){let t="";return t=this.schema.id?this.schema.id:this.schema.model.slugify(),t+="-"+e,void 0!==this.idSuffix&&(t+=this.idSuffix),t},getFieldName:function(){return this.schema.id?this.schema.id:this.schema.model.slugify()},changed:function(e){this.model=e,this.$emit("changed",e,this.schema)},isItemChecked:function(e){return this.getItemValue(e)===this.model},getItemValue:function(e){return e},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const ft={class:"flex row text-center"},gt=["id","checked","onClick","disabled","name","readonly"],yt=["for"];pt.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",ft,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.values,(r=>(e.openBlock(),e.createElementBlock("div",{key:r},[e.createElementVNode("input",{id:t.getFieldID(r),type:"radio",checked:t.isItemChecked(r),onClick:e=>t.changed(r),disabled:t.schema.disabled,name:t.schema.inputName||t.getFieldName(),readonly:t.schema.readonly,class:e.normalizeClass(t.schema.inputClasses)},null,10,gt),e.createElementVNode("label",{for:t.getFieldID(r)},e.toDisplayString(t.$filters.capitalize(r)),9,yt)])))),128))])},pt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldRadio.vue";var kt=l.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const vt=["for"],Ct={key:0,class:"error clear-background"},Et={key:1,class:"clear-background active no-border small"},bt=e.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Vt=["for"],St={key:0,class:"error clear-background"},xt={key:1,class:"clear-background active no-border small"},Nt=e.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Bt=["id","disabled","height","maxlength","minlength","name","placeholder","title","readonly","required","width","rows","data-error-message-value-missing","data-error-message-too-long","data-error-message-too-short"],wt={key:2,class:"clear-background active right small"},Tt=e.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Dt=e.createElementVNode("br",{class:"clear"},null,-1);kt.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[!t.schema.label&&t.label?(e.openBlock(),e.createElementBlock("label",{key:0,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.$filters.capitalize(t.schema.model))+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",Ct,"*")):e.createCommentVNode("v-if",!0),t.schema.hint?(e.openBlock(),e.createElementBlock("i",Et,[bt,e.createTextVNode(e.toDisplayString(t.schema.hint),1)])):e.createCommentVNode("v-if",!0)],10,vt)):e.createCommentVNode("v-if",!0),t.schema.label&&t.label?(e.openBlock(),e.createElementBlock("label",{key:1,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.schema.label)+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",St,"*")):e.createCommentVNode("v-if",!0),t.schema.hint?(e.openBlock(),e.createElementBlock("i",xt,[Nt,e.createTextVNode(e.toDisplayString(t.schema.hint),1)])):e.createCommentVNode("v-if",!0)],10,Vt)):e.createCommentVNode("v-if",!0),e.withDirectives(e.createElementVNode("textarea",{id:t.getFieldID(),"onUpdate:modelValue":r[0]||(r[0]=e=>t.model=e),onInput:r[1]||(r[1]=e=>t.changed(e.target.value)),disabled:t.schema.disabled,height:t.schema.height,maxlength:t.schema.maxlength,minlength:t.schema.minlength,name:t.schema.inputName||t.getFieldID(),placeholder:t.schema.placeholder,title:t.schema.placeholder,readonly:t.schema.readonly,class:e.normalizeClass(t.schema.inputClasses),required:t.schema.required,width:t.schema.width,rows:t.schema.rows||3,"data-error-message-value-missing":t.schema.errorMessageValueMissing,"data-error-message-too-long":t.schema.errorMessageTooLong,"data-error-message-too-short":t.schema.errorMessageTooShort},"\r\n        ",42,Bt),[[e.vModelText,t.model]]),t.schema.maxlength?(e.openBlock(),e.createElementBlock("div",wt,[Tt,e.createTextVNode(" "+e.toDisplayString(t.schema.maxlength-t.model.length)+" characters remaining ("+e.toDisplayString(t.schema.maxlength)+" max) ",1)])):e.createCommentVNode("v-if",!0),Dt])},kt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldTextarea.vue";var Mt=l.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{}});const Ft=["innerHTML"];Mt.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.schema.classes),innerHTML:t.model||t.schema.model},null,10,Ft)},Mt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldText.vue";var It=l.default.defineComponent({data:()=>({files:[],ready:!1,filesAdded:0}),props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.filesAdded=t.filesAdded+e.target.files.length,t.ready=!1;for(let r=0;r<e.target.files.length;++r){let a=new FileReader;a.onload=function(e){return function(r){t.files=t.files.concat({filename:e,data:t.base64ArrayBuffer(a.result)}),t.files.length===t.filesAdded&&(t.ready=!0)}}(e.target.files[r].name),a.readAsArrayBuffer(e.target.files[r])}this.check()},base64ArrayBuffer:function(e){let t="",r=new Uint8Array(e),a=r.byteLength;for(let e=0;e<a;++e)t+=String.fromCharCode(r[e]);return window.btoa(t)},check:function(){!0!==this.ready?setTimeout(this.check,100):this.$emit("changed",this.files,this.schema)},removeFile:function(e){let t=this.files.indexOf(e);this.files.splice(t,1),this.filesAdded--},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Pt=["for"],Lt={key:0,class:"error clear-background"},At={key:1,class:"clear-background active no-border small"},Ot=e.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),qt=["for"],Gt={key:0,class:"error clear-background"},Ht={key:1,class:"clear-background active no-border small"},$t=e.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Ut=["accept","id","multiple","name","required","data-error-message-value-missing"],jt={class:"flex"},Kt=["onClick"],zt=e.createTextVNode(" "),Rt={class:"body"};It.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[t.schema.label?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock("label",{key:0,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.$filters.capitalize(t.schema.model))+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",Lt,"*")):e.createCommentVNode("v-if",!0),t.schema.hint?(e.openBlock(),e.createElementBlock("i",At,[Ot,e.createTextVNode(e.toDisplayString(t.schema.hint),1)])):e.createCommentVNode("v-if",!0)],10,Pt)),t.schema.label?(e.openBlock(),e.createElementBlock("label",{key:1,for:t.getFieldID(),class:e.normalizeClass(t.schema.labelClasses)},[e.createTextVNode(e.toDisplayString(t.schema.label)+" ",1),t.schema.required?(e.openBlock(),e.createElementBlock("span",Gt,"*")):e.createCommentVNode("v-if",!0),t.schema.hint?(e.openBlock(),e.createElementBlock("i",Ht,[$t,e.createTextVNode(e.toDisplayString(t.schema.hint),1)])):e.createCommentVNode("v-if",!0)],10,qt)):e.createCommentVNode("v-if",!0),e.createElementVNode("div",{class:e.normalizeClass(["file-upload",t.schema.inputClasses])},[e.createTextVNode(e.toDisplayString(t.schema.placeholder)+" ",1),e.createElementVNode("input",{accept:t.schema.accept,id:t.getFieldID(),onChange:r[0]||(r[0]=e=>t.changed(e)),multiple:t.schema.multiple,name:t.schema.inputName||t.getFieldID(),required:t.schema.required,type:"file","data-error-message-value-missing":t.schema.errorMessageValueMissing},null,40,Ut)],2),e.createElementVNode("div",jt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.files,(r=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["upload-preview panel",t.schema.previewClasses]),key:t.generateGuid(r)},[e.createElementVNode("header",null,[e.createElementVNode("div",{class:"header",onClick:e=>t.removeFile(r)},"×",8,Kt),zt]),e.createElementVNode("div",Rt,e.toDisplayString(r.filename),1)],2)))),128))])])},It.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldUpload.vue";var _t=l.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{click:function(e,t){return this.$emit("click",e,t),!1},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Wt={class:"controls"},Yt={class:"input-group"},Jt=["type","value","onClick"];_t.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",Wt,[e.createElementVNode("div",Yt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.buttons,(r=>(e.openBlock(),e.createElementBlock("input",{key:t.generateGuid(r),type:r.type,value:r.value,class:e.normalizeClass(r.classes),onClick:e=>t.click(e,r)},null,10,Jt)))),128))])])},_t.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldButtons.vue";var Qt=l.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{show:function(e){return"function"==typeof e?e():e},getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Xt={key:0};Qt.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[t.show(t.model.display||t.schema.display)?(e.openBlock(),e.createElementBlock("div",Xt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.fields,(r=>(e.openBlock(),e.createElementBlock("div",{key:t.generateGuid(r)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.getFieldType(r)),{schema:t.getSchema(r),model:t.getModelValue(r),"id-suffix":t.getIDSuffix(r),onChanged:t.setModelValue,onClick:t.buttonClicked,onError:t.error,onException:t.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])):e.createCommentVNode("v-if",!0)])},Qt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexConditional.vue";var Zt=l.default.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,r){t[e.model]=r,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const er={key:0},tr={key:1},rr=["data-tooltip"],ar=[e.createElementVNode("span",{class:"fas fa-info-circle no-border small"},null,-1)],ir=e.createElementVNode("th",null,null,-1),nr=["onClick"],lr=["colspan"];Zt.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("table",{class:e.normalizeClass(["form-table",t.schema.tableClasses])},[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.fields,(r=>(e.openBlock(),e.createElementBlock("th",{key:t.generateGuid(r)},[r.label?(e.openBlock(),e.createElementBlock("span",er,e.toDisplayString(t.$filters.capitalize(r.label)),1)):(e.openBlock(),e.createElementBlock("span",tr,e.toDisplayString(t.$filters.capitalize(r.model)),1)),t.getSchema(r).hint?(e.openBlock(),e.createElementBlock("span",{key:2,"data-tooltip":t.getSchema(r).hint,"data-tooltip-size":"extra-large"},ar,8,rr)):e.createCommentVNode("v-if",!0)])))),128)),ir])]),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model,((r,a)=>(e.openBlock(),e.createElementBlock("tr",{key:t.generateGuid(r)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.fields,(i=>(e.openBlock(),e.createElementBlock("td",{key:t.generateGuid(i)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.getFieldType(i)),{schema:t.getSchema(i),model:t.getModelValue(i,r),label:!1,"id-suffix":t.getIDSuffix(i,a),onChanged:e=>t.setModelValue(i,r,e),onClick:t.buttonClicked,onError:t.error,onException:t.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128)),e.createElementVNode("td",null,[e.createElementVNode("a",{class:"fas fa-minus-circle",onClick:e.withModifiers((e=>t.removeItem(r)),["stop","prevent"])},null,8,nr)])])))),128))]),e.createElementVNode("tfoot",null,[e.createElementVNode("tr",null,[e.createElementVNode("td",{colspan:t.schema.fields.length+1},[e.createElementVNode("a",{class:"fas fa-plus-circle",onClick:r[0]||(r[0]=e.withModifiers(((...e)=>t.addItem&&t.addItem(...e)),["stop","prevent"]))},"Add More")],8,lr)])])],2)])},Zt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexList.vue";var or=l.default.defineComponent({data(){return{tabPicked:this.schema.tabs[0]}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},tabChanged:function(e){this.tabPicked=e},getFields:function(){return this.tabPicked.fields},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});or.render=function(t,r,a,i,n,l){const o=e.resolveComponent("clarity-tabs");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(o,{sections:t.schema.tabs,onSectionChanged:t.tabChanged,class:e.normalizeClass(t.schema.tabClasses)},{default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.getFields(),(r=>(e.openBlock(),e.createElementBlock("div",{key:t.generateGuid(r)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.getFieldType(r)),{schema:t.getSchema(r),model:t.getModelValue(r),"id-suffix":t.getIDSuffix(r),onChanged:t.setModelValue,onClick:t.buttonClicked,onError:t.error,onException:t.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])),_:1},8,["sections","onSectionChanged","class"])])},or.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexTabs.vue";var sr=l.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});sr.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.fields,(r=>(e.openBlock(),e.createElementBlock("div",{key:t.generateGuid(r)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.getFieldType(r)),{schema:t.getSchema(r),model:t.getModelValue(r),"id-suffix":t.getIDSuffix(r),onChanged:t.setModelValue,onClick:t.buttonClicked,onError:t.error,onException:t.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])},sr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplex.vue";var cr=l.default.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,r){t[e.model]=r,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const dr=["onClick"];cr.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model,((r,a)=>(e.openBlock(),e.createElementBlock("div",{key:t.generateGuid(r),class:"border-bottom"},[e.createElementVNode("a",{class:"fas fa-minus-circle right",onClick:e.withModifiers((e=>t.removeItem(r)),["stop","prevent"])},null,8,dr),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.schema.fields,(i=>(e.openBlock(),e.createElementBlock("div",{key:t.generateGuid(i)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.getFieldType(i)),{schema:t.getSchema(i),model:t.getModelValue(i,r),label:!0,"id-suffix":t.getIDSuffix(i,a),onChanged:e=>t.setModelValue(i,r,e),onClick:t.buttonClicked,onError:t.error,onException:t.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])))),128)),e.createElementVNode("a",{class:"fas fa-plus-circle",onClick:r[0]||(r[0]=e.withModifiers(((...e)=>t.addItem&&t.addItem(...e)),["stop","prevent"]))},"Add More")])},cr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexRepeater.vue";var hr=l.default.defineComponent({components:{"clarity-form-field-complex":sr,"clarity-form-field-complex-conditional":Qt,"clarity-form-field-complex-list":Zt,"clarity-form-field-complex-tabs":or,"clarity-form-field-input":Ue,"clarity-form-field-select":tt,"clarity-form-field-checkbox":st,"clarity-form-field-radio":pt,"clarity-form-field-textarea":kt,"clarity-form-field-text":Mt,"clarity-form-field-upload":It,"clarity-form-field-buttons":_t,"clarity-form-field-complex-repeater":cr,"clarity-form-validator":qe},data:function(){return{submitting:!1}},props:{schema:Object,model:Object,action:{default:"",type:String},ajaxAction:{default:"",type:String}},methods:{revalidate:function(){return this.$refs.validation.revalidate()},setModelValue:function(e,t){this.model=e,this.revalidate(),this.$emit("changed",this.model)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.revalidate(),this.$emit("click",e,t)},reset:function(){let e=this;setTimeout((function(){e.revalidate()}),100)},submit:function(e){let t=this;return!t.revalidate()||t.submitting?(e.preventDefault(),!1):(t.submitting=!0,!t.ajaxAction||(w.post(t.ajaxAction,t.model).onSuccess((function(e){t.submitting=!1,t.$emit("success",e)})).onError((function(e){t.submitting=!1,t.$emit("error",e)})).send(),e.preventDefault(),!1))},getIDSuffix:function(){return""}},watch:{model:function(e,t){t!==e&&null!==e&&this.$nextTick((()=>{this.revalidate()}))}}});const mr=["action"],ur=e.createTextVNode("The following errors were found");hr.render=function(t,r,a,i,n,l){const o=e.resolveComponent("clarity-form-validator"),s=e.resolveComponent("clarity-form-field-complex");return e.openBlock(),e.createElementBlock("form",{action:t.action,class:"stacked clarity-form",onReset:r[0]||(r[0]=(...e)=>t.reset&&t.reset(...e)),onSubmit:r[1]||(r[1]=(...e)=>t.submit&&t.submit(...e)),method:"post"},[e.createVNode(o,{ref:"validation"},{default:e.withCtx((()=>[e.renderSlot(t.$slots,"validationHeader",{},(()=>[ur]))])),_:3},512),e.createVNode(s,{schema:t.schema,model:t.model,idSuffix:t.getIDSuffix(),onChanged:t.setModelValue,onClick:t.buttonClicked,onError:t.error,onException:t.exception},null,8,["schema","model","idSuffix","onChanged","onClick","onError","onException"])],40,mr)},hr.__file="src/ts/Component/FormGenerator/ClarityFormGenerator.vue";var pr=l.default.defineComponent({props:{show:{type:Boolean,default:!1}}});const fr={class:"clarity-alert alert"};pr.render=function(t,r,a,i,n,l){return e.openBlock(),e.createBlock(e.Transition,{name:"fade"},{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("div",fr,[e.renderSlot(t.$slots,"default")],512),[[e.vShow,t.show]])])),_:3})},pr.__file="src/ts/Component/Alert/ClarityAlert.vue";var gr=l.default.defineComponent({data:function(){return{content:"",loaded:!1}},props:{url:{type:String,default:""}},beforeMount:function(){if(!this.url)return;let e=this,t=this.url,r="",a=t.match(/[\s#]/),i=null!=a?a.index:-1;-1!=i&&(r=t.substring(i+(" "==a[0]?1:0)),t=t.substring(0,i)),t&&w.get(t).type("text/html").setParser((e=>e.text())).setMode(exports.StorageMode.StorageAndUpdate).onSuccess((t=>{if(r.length){let a=document.createElement("div");a.innerHTML=t;let i=a.querySelectorAll(r);if(i.length>0)return void(e.content=i[0].outerHTML)}e.content=t,e.loaded=!0})).send()}});const yr=["innerHTML","data-loaded"];var kr;gr.render=function(t,r,a,i,n,l){return e.openBlock(),e.createElementBlock("div",{class:"clarity-content-loader",innerHTML:t.content,"data-loaded":t.loaded},null,8,yr)},gr.__file="src/ts/Component/ContentLoader/ClarityContentLoader.vue",function(e){e[e.Image=0]="Image",e[e.File=1]="File"}(kr||(kr={}));var vr=l.default.defineComponent({components:{"clarity-modal":M},props:{title:{type:String,default:""},content:{type:String,default:""},iframeImageSrc:{type:String,default:""},iframeFileSrc:{type:String,default:""},preview:{type:Boolean,default:!0},mentionsFormat:{type:String,default:""}},data:function(){return{currentTitle:this.title,currentContent:this.content,displayFrame:!1,iframeSrc:"",displayPreview:this.preview,converter:new s.default.Converter({tables:!0,strikethrough:!0,emoji:!0,underline:!0,ghMentions:!!this.mentionsFormat,ghMentionsLink:this.mentionsFormat}),insertType:kr.Image,insertLink:""}},mounted:function(){let e=this;window.addEventListener("message",(function(t){if("string"!=typeof t.data)return;let r=JSON.parse(t.data);e.insertLink=r.href,e.insert()}))},computed:{compiledMarkdown:function(){return this.markdown(this.currentContent)},IsImageInsert:function(){return this.insertType==kr.Image},IsFileInsert:function(){return this.insertType==kr.File}},methods:{insert:function(){this.displayFrame=!1,this.insertLink&&(this.insertType==kr.Image?this.imageTag(this.insertLink):this.linkTag(this.insertLink))},showImageFrame:function(){this.showFrame(kr.Image)},showFileFrame:function(){this.showFrame(kr.File)},showFrame:function(e){this.displayFrame=!0,this.insertType=e,e===kr.Image?this.iframeSrc=this.iframeImageSrc:this.iframeSrc=this.iframeFileSrc},markdown:function(e){return e?this.converter.makeHtml(e):e},keyup:function(){this.$emit("keyup",{content:this.currentContent})},cancel:function(){this.$emit("cancel")},tag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i=e+this.currentContent.substring(r,a);this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},symmetricTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i=e+this.currentContent.substring(r,a)+e;this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},linkTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i="["+this.currentContent.substring(r,a)+"]("+e+")";this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},imageTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i="!["+this.currentContent.substring(r,a)+"]("+e+")";this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()}}});const Cr={class:"flex row clarity-simple-editor"},Er={class:"flex-item flex justify-space-between column wrap",id:"editorRawInput"},br={class:"menu pill flex-item"},Vr={class:"item has-children"},Sr=e.createElementVNode("a",{href:"#!"},"Header",-1),xr={class:"item has-children"},Nr=e.createElementVNode("a",{href:"#!"},"Format",-1),Br={class:"item has-children"},wr=e.createElementVNode("a",{href:"#!"},"List",-1),Tr={class:"item has-children"},Dr=e.createElementVNode("a",{href:"#!"},"File",-1),Mr={key:0,class:"flex-item panel",id:"editorCompiledInput"},Fr={class:"body"},Ir=["innerHTML"],Pr={key:0},Lr={key:1},Ar=["src"],Or={key:1},qr=e.createTextVNode(" URL: "),Gr=e.createElementVNode("br",null,null,-1),Hr=e.createElementVNode("br",{class:"clear"},null,-1);vr.render=function(t,r,a,i,n,l){const o=e.resolveComponent("clarity-modal");return e.openBlock(),e.createElementBlock("div",Cr,[e.createElementVNode("div",Er,[e.createElementVNode("nav",br,[e.createElementVNode("ul",null,[e.createElementVNode("li",Vr,[Sr,e.createElementVNode("ul",null,[e.createElementVNode("li",null,[e.createElementVNode("h1",null,[e.createElementVNode("a",{href:"#!",onClick:r[0]||(r[0]=e.withModifiers((e=>t.tag("#")),["stop","prevent"]))},"Header 1")])]),e.createElementVNode("li",null,[e.createElementVNode("h2",null,[e.createElementVNode("a",{href:"#!",onClick:r[1]||(r[1]=e.withModifiers((e=>t.tag("##")),["stop","prevent"]))},"Header 2")])]),e.createElementVNode("li",null,[e.createElementVNode("h3",null,[e.createElementVNode("a",{href:"#!",onClick:r[2]||(r[2]=e.withModifiers((e=>t.tag("###")),["stop","prevent"]))},"Header 3")])]),e.createElementVNode("li",null,[e.createElementVNode("h4",null,[e.createElementVNode("a",{href:"#!",onClick:r[3]||(r[3]=e.withModifiers((e=>t.tag("####")),["stop","prevent"]))},"Header 4")])]),e.createElementVNode("li",null,[e.createElementVNode("h5",null,[e.createElementVNode("a",{href:"#!",onClick:r[4]||(r[4]=e.withModifiers((e=>t.tag("#####")),["stop","prevent"]))},"Header 5")])]),e.createElementVNode("li",null,[e.createElementVNode("h6",null,[e.createElementVNode("a",{href:"#!",onClick:r[5]||(r[5]=e.withModifiers((e=>t.tag("######")),["stop","prevent"]))},"Header 6")])])])]),e.createElementVNode("li",xr,[Nr,e.createElementVNode("ul",null,[e.createElementVNode("li",null,[e.createElementVNode("strong",null,[e.createElementVNode("a",{href:"#!",onClick:r[6]||(r[6]=e.withModifiers((e=>t.symmetricTag("**")),["stop","prevent"]))},"Bold")])]),e.createElementVNode("li",null,[e.createElementVNode("em",null,[e.createElementVNode("a",{href:"#!",onClick:r[7]||(r[7]=e.withModifiers((e=>t.symmetricTag("*")),["stop","prevent"]))},"Italics")])]),e.createElementVNode("li",null,[e.createElementVNode("del",null,[e.createElementVNode("a",{href:"#!",onClick:r[8]||(r[8]=e.withModifiers((e=>t.symmetricTag("~~")),["stop","prevent"]))},"Strikethrough")])]),e.createElementVNode("li",null,[e.createElementVNode("u",null,[e.createElementVNode("a",{href:"#!",onClick:r[9]||(r[9]=e.withModifiers((e=>t.symmetricTag("__")),["stop","prevent"]))},"Underline")])]),e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#!",onClick:r[10]||(r[10]=e.withModifiers((e=>t.tag(">")),["stop","prevent"]))},"Quote")])])]),e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#!",onClick:r[11]||(r[11]=e.withModifiers((e=>t.tag("\n\n-------\n\n")),["stop","prevent"]))},"HR")]),e.createElementVNode("li",Br,[wr,e.createElementVNode("ul",null,[e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#!",onClick:r[12]||(r[12]=e.withModifiers((e=>t.tag("1. ")),["stop","prevent"])),class:"fas fa-list-ol"},"Ordered")]),e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#!",onClick:r[13]||(r[13]=e.withModifiers((e=>t.tag("* ")),["stop","prevent"])),class:"fas fa-list-ul"},"Unordered")])])]),e.createElementVNode("li",Tr,[Dr,e.createElementVNode("ul",null,[e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#!",onClick:r[14]||(r[14]=e.withModifiers((e=>t.showImageFrame()),["stop","prevent"])),class:"fas fa-image"},"Image")]),e.createElementVNode("li",null,[e.createElementVNode("a",{href:"#!",onClick:r[15]||(r[15]=e.withModifiers((e=>t.showFileFrame()),["stop","prevent"])),class:"fas fa-link"},"File")])])])])]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":r[16]||(r[16]=e=>t.currentContent=e),id:"editorInput",name:"editorInput",class:"flex-item",style:{"min-height":"500px"},onKeyup:r[17]||(r[17]=(...e)=>t.keyup&&t.keyup(...e))},null,544),[[e.vModelText,t.currentContent]])]),t.displayPreview?(e.openBlock(),e.createElementBlock("div",Mr,[e.createElementVNode("div",Fr,[e.createElementVNode("h1",null,e.toDisplayString(t.currentTitle),1),e.createElementVNode("div",{innerHTML:t.compiledMarkdown},null,8,Ir)])])):e.createCommentVNode("v-if",!0),e.createVNode(o,{"show-modal":t.displayFrame,"css-classes":"primary"},{header:e.withCtx((()=>[t.IsImageInsert?(e.openBlock(),e.createElementBlock("div",Pr,"Image Insert")):e.createCommentVNode("v-if",!0),t.IsFileInsert?(e.openBlock(),e.createElementBlock("div",Lr,"File Insert")):e.createCommentVNode("v-if",!0)])),body:e.withCtx((()=>[t.iframeSrc?(e.openBlock(),e.createElementBlock("iframe",{key:0,src:t.iframeSrc},null,8,Ar)):e.createCommentVNode("v-if",!0),t.iframeSrc?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock("div",Or,[e.createElementVNode("label",null,[qr,e.withDirectives(e.createElementVNode("input",{type:"url","onUpdate:modelValue":r[18]||(r[18]=e=>t.insertLink=e)},null,512),[[e.vModelText,t.insertLink]])]),Gr,e.createElementVNode("input",{type:"button",value:"Insert",onClick:r[19]||(r[19]=(...e)=>t.insert&&t.insert(...e))})]))])),footer:e.withCtx((()=>[e.createElementVNode("input",{type:"button",class:"close right",value:"Close",onClick:r[20]||(r[20]=e=>t.displayFrame=!1)}),Hr])),_:1},8,["show-modal"])])},vr.__file="src/ts/Component/Editor/SimpleEditor.vue";let $r={bind:function(e){$r.onEventBound=$r.onEvent.bind({el:e}),document.addEventListener("click",$r.onEventBound)},cb:function(e){},onEvent:function(e){(e.target===this.el||this.el.contains(e.target)||$r.cb)&&$r.cb(e)},onEventBound:function(){},unbind:function(){document.removeEventListener("click",$r.onEventBound)},update:function(e,t){if("function"!=typeof t.value)throw new Error("Argument must be a function");$r.cb=t.value}};class Ur{constructor(){this.hotkeys=new u,this.router=new v,this.validation=new C,this.validation.initialize(),this.errorLogger=new b,this.history=new V,this.localStorage=new S,this.sessionStorage=new x,this.request=new w("",""),window.addEventListener("keydown",(e=>this.hotkeys.press(e))),window.addEventListener("load",(e=>this.validation.initialize()),!1),window.onerror=(e,t,r,a,i)=>{this.errorLogger.onError(e.toString(),t,r,a,i)},this.errorLogger.setLoggingFunction(((e,t)=>{console.log(e)})),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var r=t>0?0|t:0;return this.substring(r,r+e.length)===e}}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{value:function(e,t){return this.replace(new RegExp(e,"g"),t)}}),Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),r=t.length>>>0,a=arguments[1],i=0;i<r;i++){var n=t[i];if(e.call(a,n,i,t))return n}},String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}SetupComponents(e){return e.component("clarity-modal",M),e.component("clarity-tabs",A),e.component("clarity-grid",Q),e.component("clarity-form-validator",qe),e.component("clarity-form-generator",hr),e.component("clarity-form-field-complex",sr),e.component("clarity-form-field-complex-conditional",Qt),e.component("clarity-form-field-complex-list",Zt),e.component("clarity-form-field-complex-tabs",or),e.component("clarity-form-field-input",Ue),e.component("clarity-form-field-select",tt),e.component("clarity-form-field-checkbox",st),e.component("clarity-form-field-radio",pt),e.component("clarity-form-field-textarea",kt),e.component("clarity-form-field-text",Mt),e.component("clarity-form-field-upload",It),e.component("clarity-form-field-buttons",_t),e.component("clarity-form-field-complex-repeater",cr),e.component("clarity-form-validator",qe),e.component("clarity-alert",pr),e.component("clarity-content-loader",gr),e.component("clarity-simple-editor",vr),function(e){e.config.globalProperties.$filters={moment:function(e,t){return e?(t=t||"MM/D/YYYY h:mm:ss A",o.default(e,"YYYY-MM-DDThh:mm:ss").format(t)):"N/A"},capitalize:function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},maxsize:function(e,t){return e?e.substr(0,t)+"...":""},currency:function(e,t,r){return e?(t=t||"en-US",r=r||{style:"currency",currency:"USD"},Intl.NumberFormat(t,r).format(e)):""}}}(e),function(e){return e.directive("click-outside",$r),e}(e)}get instance(){return this}set instance(e){}}exports.Clarity=Ur,exports.DatabaseConnection=B,exports.Downloader=D,exports.Hotkeys=u,exports.Request=w,exports.init=function(){window.clarity.instance=window.clarity.instance||new Ur};
