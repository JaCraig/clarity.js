/**
 * Bundle of clarity
 * Generated: 2021-11-24
 * Version: 2.0.0
 * License: Apache-2.0
 * Author: James Craig
 */

import e,{openBlock as t,createElementBlock as i,normalizeClass as r,createElementVNode as s,renderSlot as a,createTextVNode as n,Fragment as l,renderList as o,withModifiers as c,toDisplayString as h,withDirectives as u,vModelText as d,createCommentVNode as m,vModelSelect as f,vModelDynamic as p,createStaticVNode as g,vShow as y,createBlock as v,resolveDynamicComponent as C,resolveComponent as b,createVNode as k,withCtx as S,Transition as x}from"vue";import w from"moment";import T from"showdown";HTMLElement.prototype.getParentByClass=function(e){let t=this.parentElement;for(;t&&!t.hasClass(e);)t=t.parentElement;return t},HTMLElement.prototype.hasClass=function(e){return(" "+this.className+" ").indexOf(" "+e+" ")>-1},HTMLElement.prototype.replaceClass=function(e,t){let i=" "+this.className+" ";this.className=""===t?i.replace(new RegExp(" "+e+" ","gi")," ").trim():i.replace(new RegExp(" "+e+" ","gi")," "+t+" ").trim()},HTMLElement.prototype.toggleClass=function(e,t){this.hasClass(e)?this.replaceClass(e,t):this.replaceClass(t,e)},HTMLElement.prototype.removeClass=function(e){this.replaceClass(e,"")},HTMLElement.prototype.addClass=function(e){this.hasClass(e)||(this.className+=" "+e)},HTMLElement.prototype.show=function(){this.replaceClass("hidden","show"),this.addClass("show")},HTMLElement.prototype.hide=function(){this.replaceClass("show","hidden"),this.addClass("hidden")},HTMLElement.prototype.attribute=function(e,t=null){return null!=t?(this.setAttribute(e,t),t):this.getAttribute(e)},NodeList.prototype.map=function(e){let t=[];for(let i=0;i<this.length;++i)t=t.concat(e(this[i]));return t},NodeList.prototype.filter=function(e){let t=[];for(let i=0;i<this.length;++i)e(this[i])&&(t=t.concat(this[i]));return t},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");let i=Object(e);for(let e=1;e<arguments.length;e++){let t=arguments[e];if(null!=t)for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}return i},writable:!0,configurable:!0}),String.prototype.slugify=function(){return this.trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")},String.prototype.stripHTML=function(){let e=document.createElement("div");return e.innerHTML=this,(e.textContent||e.innerText||"").replace(/^\s+|\s+$/g,"")},String.prototype.toNumber=function(){return null==this?0:parseFloat(this.stripHTML().replace(/[^0-9.-]/g,""))};class F{}F.keyMappings={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,META:91,"*":106,"+":107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145,";":186,"=":187,"":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};class M{constructor(e){this.keys=this.getKeys(e)}getKeys(e){return e.toUpperCase().split(/-(?!$)/).map((e=>F.keyMappings[e]||e.charCodeAt(0)))}isPressed(e){let t=e;if(t.length!==this.keys.length)return!1;for(let e=0;e<t.length;++e)if(-1===this.keys.indexOf(t[e]))return!1;return!0}}class E{constructor(e,t){this.keyCodeSequence=e.toUpperCase(),this.keyCodes=e.toUpperCase().split(" ").map((e=>new M(e))),this.callback=t,this.length=this.keyCodes.length,this.isDefault="<*>"===e}call(e,t,i){return this.callback(t,{scope:i,keysPressed:e}),!0}press(e,t,i){let r=e;if(r.length!==this.length)return!1;for(let e=0;e<this.keyCodes.length;++e)if(!this.keyCodes[e].isPressed(r[e]))return!1;return this.call(e,t,i)}isPartial(e){let t=e;if(t.length>this.length)return!1;for(let e=0;e<t.length;++e)if(!this.keyCodes[e].isPressed(t[e]))return!1;return!0}}class D{constructor(e){this.name=e,this.sequences=[]}press(e,t){this.sequences=this.sequences.sort(((e,t)=>e.length>t.length?1:-1));for(let i=0;i<this.sequences.length;++i)if(this.sequences[i].press(e,t,this))return!0;return!1}callDefault(e,t){let i=this.sequences.filter((e=>e.isDefault));return 0!==i.length&&i[0].call(e,t,this)}isPartial(e){for(let t=0;t<this.sequences.length;++t)if(this.sequences[t].isPartial(e))return!0;return!1}addSequence(e,t){return this.removeSequence(e),this.sequences.push(new E(e,t)),this}removeSequence(e){return this.sequences=this.sequences.filter((t=>t.keyCodeSequence!==e.toUpperCase())),this}clear(){return this.sequences=[],this}}class I{constructor(){this.scopes={},this.scopes.Default=new D("Default"),this.currentScope=this.scopes.Default,this.filter=e=>{let t=(e.target||e.srcElement).tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},this.latestKeys=[]}setScope(e){let t=this.addScope(e);return this.currentScope=t,t}addScope(e){let t=this.scopes[e];return void 0!==t||(t=new D(e),this.scopes[e]=t),t}removeScope(e){return this.scopes[e]=void 0,"Default"===e&&(this.scopes.Default=new D("Default")),this.currentScope.name===e&&(this.currentScope=this.scopes.Default),this}clear(){return this.scopes={},this.scopes.Default=new D("Default"),this.currentScope=this.scopes.Default,this.latestKeys=[],this}bind(e,t){return this.currentScope.addSequence(e,t),this}unbind(e){return this.currentScope.removeSequence(e),this}press(e){if(!this.filter(e))return;let t=this.getKeys(e);this.latestKeys.push(t);let i=this.latestKeys.slice();if(this.currentScope.press(this.latestKeys,e))this.latestKeys=[];else{for(;this.latestKeys.length>0;){if(this.currentScope.isPartial(this.latestKeys))return;this.latestKeys.shift()}0===this.latestKeys.length&&this.currentScope.callDefault(i,e)}}getKeys(e){let t=[];return e.altKey&&t.push(F.keyMappings.ALT),e.ctrlKey&&t.push(F.keyMappings.CTRL),e.metaKey&&t.push(F.keyMappings.META),e.shiftKey&&t.push(F.keyMappings.SHIFT),-1===t.indexOf(e.keyCode)&&t.push(e.keyCode),t}}class P{}class V{constructor(e,t){this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e,this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){this.getValue(e),t[this.part]=this.getValue(e)}}class A{constructor(e,t){let i=e.split("=",2);this.key=i[0],e=i[1],this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){if(null==e)return!1;let t=e.split("=",2);return 2===t.length&&(this.key.toUpperCase()===t[0].toUpperCase()&&(void 0===(e=t[1])?this.optional:this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase()))}getValue(e){if(null==e)return this.defaultValue;let t=e.split("=",2);return 2!==t.length?this.defaultValue:(e=t[1],this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue)}setValue(e,t){this.getValue(e),t[this.key]=this.getValue(e)}}class N{constructor(e,t){e=e.replace(/[#!]/g,""),this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e.replace(/[#!]/g,""),this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){e=(e=e||"").replace(/[#!]/g,""),t[this.part]=this.getValue(e)}}class O{constructor(e,t,i){void 0===i&&(i=new P),this.url=this.fixUrl(e),this.pathParts=this.getPathParts(this.url).map((e=>new V(e,i))),this.pathParts=this.pathParts?this.pathParts:[],this.queryParts=this.getQueryParts(this.url).map((e=>new A(e,i))),this.queryParts=this.queryParts?this.queryParts:[],this.hashParts=this.getHashParts(this.url).map((e=>new N(e,i))),this.hashParts=this.hashParts?this.hashParts:[],this.callbacks=[t],this.defaultValues=i}isRoute(e){return this.url===this.fixUrl(e)}addCallback(e){this.callbacks.push(e)}removeCallback(e){this.callbacks=this.callbacks.filter((t=>t!==e))}fixUrl(e){return e.length?e.replace(/^\//,"").replace(/\/+/g,"/").replace(/^\/|\/($|\?)/,"").replace(/\/\#/g,"#"):e}getPathParts(e){return e.split("?",2)[0].split("#",2)[0].split("/")}getHashParts(e){let t=e.split("?",2)[0].split("#",2);return t.length<2?[]:[t[1].replace("!","")]}getQueryParts(e){let t=e.split("?",2);return t.length<2?[]:(e=t[1])?e.split("&"):[]}getParametersFromUrl(e,t,i){let r=new P;for(let t=0;t<e.length;++t)this.pathParts[t].setValue(e[t],r);for(let e=0;e<t.length;++e)this.queryParts[e].setValue(t[e],r);for(let e=0;e<i.length;++e)this.hashParts[e].setValue(i[e],r);if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)this.pathParts[t].setValue("",r);if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)this.queryParts[e].setValue("",r);if(this.hashParts.length>i.length)for(let e=i.length;e<this.hashParts.length;++e)this.hashParts[e].setValue("",r);return r}isMatch(e,t,i){if(this.pathParts.length<e.length)return!1;for(let t=0;t<e.length;++t)if(!this.pathParts[t].isMatch(e[t]))return!1;if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)if(!this.pathParts[t].isMatch(""))return!1;if(this.queryParts.length<t.length)return!1;for(let e=0;e<t.length;++e)if(!this.queryParts[e].isMatch(t[e]))return!1;if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)if(!this.queryParts[e].isMatch(""))return!1;if(this.hashParts.length<i.length)return!1;for(let e=0;e<i.length;++e)if(!this.hashParts[e].isMatch(i[e]))return!1;if(this.hashParts.length>i.length)for(let e=i.length;e<this.hashParts.length;++e)if(!this.hashParts[e].isMatch(""))return!1;return!0}run(e){e=this.fixUrl(e);let t=this.getPathParts(e),i=this.getQueryParts(e),r=this.getHashParts(e);if(!this.isMatch(t,i,r))return!1;let s=this.getParametersFromUrl(t,i,r);return s.url=e,this.callbacks.forEach((e=>e(s))),!0}}class L{constructor(){this.routes=[]}map(e){for(let t=0;t<e.length;++t)this.addRoute(e[t].url,e[t].action,e[t].defaultValues)}addRoute(e,t,i){let r=this.routes.filter((t=>t.isRoute(e)));return 0===r.length?this.routes.push(new O(e,t,i)):r[0].addCallback(t),this}run(e){for(let t=0;t<this.routes.length;++t)if(this.routes[t].run(e))return!0;return!1}}class B{constructor(){this.errors=[],this.messageAttributes={},this.messageAttributes.patternMismatch="data-error-message-pattern-mismatch",this.messageAttributes.rangeOverflow="data-error-message-range-overflow",this.messageAttributes.rangeUnderflow="data-error-message-range-underflow",this.messageAttributes.stepMismatch="data-error-message-step-mismatch",this.messageAttributes.tooLong="data-error-message-too-long",this.messageAttributes.tooShort="data-error-message-too-short",this.messageAttributes.badInput="data-error-message-bad-input",this.messageAttributes.typeMismatch="data-error-message-type-mismatch",this.messageAttributes.valueMissing="data-error-message-value-missing"}initialize(){let e=this.map(document.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let t=0;t<e.length;++t)"RADIO"===e[t].type.toUpperCase()||"CHECKBOX"===e[t].type.toUpperCase()?e[t].addEventListener("change",(e=>this.inputHandler(e.target))):e[t].addEventListener("input",(e=>this.inputHandler(e.target))),e[t].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let t=this.map(document.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)t[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let i=this.map(document.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<i.length;++e)i[e].addEventListener("change",(e=>this.selectHandler(e.target))),i[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}map(e,t){let i=[];for(let r=0;r<e.length;++r)i=i.concat(t(e[r]));return i}filter(e,t){let i=[];for(let r=0;r<e.length;++r)t(e[r])&&(i=i.concat(e[r]));return i}initializeForm(e){if(null==e)return;let t=this.map(e.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)"RADIO"===t[e].type.toUpperCase()||"CHECKBOX"===t[e].type.toUpperCase()?t[e].addEventListener("change",(e=>this.inputHandler(e.target))):t[e].addEventListener("input",(e=>this.inputHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let i=this.map(e.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<i.length;++e)i[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),i[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let r=this.map(e.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<r.length;++e)r[e].addEventListener("change",(e=>this.selectHandler(e.target))),r[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}invalidInputHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidTextAreaHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidSelectHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}inputHandler(e){if("RADIO"===e.type.toUpperCase()){let t=document.getElementsByName(e.name).map((e=>e));for(let e=0;e<t.length;++e)t[e].setCustomValidity("")}else e.setCustomValidity("");e.checkValidity()}textAreaHandler(e){e.setCustomValidity(""),e.checkValidity()}selectHandler(e){e.setCustomValidity(""),e.checkValidity()}validate(){let e=!0;this.errors=[];let t=this.filter(document.getElementsByTagName("input"),(e=>!this.validateInput(e)));e=e&&0===t.length;let i=this.filter(document.getElementsByTagName("select"),(e=>!this.validateSelect(e)));e=e&&0===i.length;let r=this.filter(document.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e)));return e=e&&0===r.length,e}validateForm(e){if(null==e)return[];let t=[];this.errors=[];let i=this.filter(e.getElementsByTagName("input"),(e=>!this.validateInput(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<i.length;++e)t=t.concat(i[e]);let r=this.filter(e.getElementsByTagName("select"),(e=>!this.validateSelect(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e]);let s=this.filter(e.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<s.length;++e)t=t.concat(s[e]);return t}validateElement(e){if(null==e)return[];let t=[];if("INPUT"!==e.tagName||this.validateInput(e))if("SELECT"!==e.tagName||this.validateSelect(e)){if("TEXTAREA"===e.tagName&&!this.validateTextArea(e)){let i=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<i.length;++e)t=t.concat(i[e])}}else{let i=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<i.length;++e)t=t.concat(i[e])}else{let i=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<i.length;++e)t=t.concat(i[e])}return t}validateSelect(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}validateTextArea(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}getErrorMessages(e,t){let i=[];for(let r in this.messageAttributes)if(t[r]){let t=e.attribute(this.messageAttributes[r]);null!==t&&(i=i.concat(t))}if(0===i.length){let t=e.attribute("data-error-message");i=null!==t?i.concat(t):i.concat(e.validationMessage)}return i}validateInput(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}}class q{constructor(){this.params=[]}toString(){let e=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+e+")"}}Function.prototype.trace=function(){for(var e=[],t=this;t;)e.push(t.signature()),t=t.caller;return e},Function.prototype.signature=function(){var e=new q;if(e.name=this.getName(),this.arguments)for(var t=0;t<this.arguments.length;t++)e.params.push(this.arguments[t]);return e},Function.prototype.getName=function(){if(this.name)return this.name;var e=this.toString().split("\n")[0],t=/^function ([^\s(]+).+/;return t.test(e)&&e.split("\n")[0].replace(t,"$1")||"anonymous"};class ${constructor(){this.logError=(e,t)=>{}}setLoggingFunction(e){this.logError=e}onError(e,t,i,r,s){var a;this.logError(e,null!==(a=null==s?void 0:s.stack)&&void 0!==a?a:"")}}class H{back(e){void 0===e&&(e=1),window.history.go(-1*e)}forward(e){void 0===e&&(e=1),window.history.go(e)}push(e,t,i){window.history.pushState(e,i,t)}replace(e,t,i){window.history.replaceState(e,i,t)}get state(){return window.history.state}get length(){return window.history.length}}class U{set(e,t){localStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return localStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}get length(){return localStorage.length}key(e){return localStorage.key(e)}getObject(e,t=null){let i=this.get(e);return i&&JSON.parse(i)||t}}class j{set(e,t){sessionStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return sessionStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}get length(){return sessionStorage.length}key(e){return sessionStorage.key(e)}getObject(e,t=null){let i=this.get(e);return i&&JSON.parse(i)||t}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function K(e,t,i,r){return new(i||(i=Promise))((function(s,a){function n(e){try{o(r.next(e))}catch(e){a(e)}}function l(e){try{o(r.throw(e))}catch(e){a(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}o((r=r.apply(e,t||[])).next())}))}class G{constructor(e,t,i){this.DBName=e,this.Version=i;let r=indexedDB.open(e,i);r.onupgradeneeded=e=>{this.database=e.target.result;for(let e=0;e<t.length;++e){let i=t[e];this.database.objectStoreNames.contains(i)&&this.database.deleteObjectStore(i),this.database.createObjectStore(i)}},r.onsuccess=e=>{this.database=e.target.result}}openDatabase(e){indexedDB.open(this.DBName,this.Version).onsuccess=t=>(this.database=t.target.result,e(this))}add(e,t,i){this.database.transaction(e,"readwrite").objectStore(e).put(t,i)}remove(e,t){this.database.transaction(e,"readwrite").objectStore(e).delete(t)}getByKey(e,t,i){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=i}getKeys(e,t){this.database.transaction(e,"readwrite").objectStore(e).getAllKeys().onsuccess=t}get(e,t,i){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=i}getAll(e,t,i){this.database.transaction(e,"readwrite").objectStore(e).getAll(i).onsuccess=t}}class R{constructor(e,t,i){this.url=t,this.method=e.toUpperCase(),this.data=i,this.headers=new Headers,"GET"!==this.method&&"HEAD"!==this.method&&"DELETE"!==this.method&&"TRACE"!==this.method&&this.type("application/json"),this.accept("application/json"),this.parser=e=>e.json(),this.serializer=e=>JSON.stringify(e),this.storageMode=_.NetworkOnly,this.databaseName="ClarityStorage",this.cacheKey=this.url+this.serializer(this.data),this.credentials="same-origin"}static get(e,t){return R.makeRequest("GET",e,t)}static makeRequest(e,t,i){return new R(e,t,i)}static post(e,t){return R.makeRequest("POST",e,t)}static put(e,t){return R.makeRequest("PUT",e,t)}static delete(e,t){return R.makeRequest("DELETE",e,t)}onSuccess(e){return this.success=e,this}onError(e){return this.error=e,this}setHeader(e,t){return this.headers.set(e,t),this}setCacheKey(e){return this.cacheKey=e,this}setCredentials(e){return this.credentials=e,this}type(e){return this.setHeader("Content-Type",e)}accept(e){return this.setHeader("Accept",e)}setParser(e){return this.parser=e,this}setMode(e,t="ClarityStorage"){return this.databaseName=t,this.storageMode=e,this}setSerializer(e){return this.serializer=e,this}send(){return K(this,void 0,void 0,(function*(){null==this.error&&(this.error=e=>{}),null==this.success&&(this.success=e=>{});let e=this.serializer(this.data);if(this.storageMode===_.StorageFirst&&(R.returnValueFromDB(this.cacheKey,this.databaseName,this.success),this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),(e=>{R.saveValueToDB(e,this.cacheKey,this.databaseName)})),yield Promise.resolve("A")),this.storageMode===_.StorageAndUpdate)return R.returnValueFromDB(this.cacheKey,this.databaseName,this.success),void this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),(e=>{R.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}));this.storageMode!==_.NetworkFirst?this.queryNetwork(e,this.cacheKey,this.databaseName,(e=>{}),this.success):this.queryNetwork(e,this.cacheKey,this.databaseName,this.success,(e=>{R.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}))}))}static saveValueToDB(e,t,i){new G(i,["cache","cacheExpirations"],1).openDatabase((i=>{void 0!==e&&(i.add("cache",e,t),i.add("cacheExpirations",Date.now(),t))}))}queryNetwork(e,t,i,r,s){navigator.onLine?fetch(this.url,{credentials:this.credentials,method:this.method,body:e,headers:this.headers}).then(this.parser).then(s).catch(this.error):this.storageMode===_.NetworkFirst&&R.returnValueFromDB(t,i,r)}static returnValueFromDB(e,t,i){new G(t,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&i(t)}))}))}}var _,z;!function(e){e[e.NetworkFirst=0]="NetworkFirst",e[e.StorageFirst=1]="StorageFirst",e[e.NetworkOnly=2]="NetworkOnly",e[e.StorageAndUpdate=3]="StorageAndUpdate"}(_||(_={}));class W{static get domain(){return window.location.protocol+"//"+window.location.host+"/"}static get isLocal(){return/^https?:\/\/localhost:\d{1,5}\/$/.test(W.domain)}static GetQueryString(e){let t=window.location.href;var i=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return i?i[1]:null}static get HashBang(){return window.location.hash.replace("#!","")}static get Id(){return window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1)}}class Y{static exportData(e,t,i=W.Id,r=z.CSV){if(0==e.length)return;i=i||W.Id;let s="";s=r===z.CSV?this.exportCSV(e,t,i):e.join(","),this.download(s,i)}static capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}static exportCSV(e,t,i){var r,s;let a="",n=Object.keys(e[0]),l="";for(let e=0;e<n.length;++e){let i=n[e],o=t.filter((function(e){return e.property===i}));0===o.length&&(o=[{display:i,property:i}]);let c=(null===(r=o[0])||void 0===r?void 0:r.display)||(null===(s=o[0])||void 0===s?void 0:s.property)||i;a+=l+'"'+this.capitalize(c)+'"',l=","}a+="\n";for(let t=0;t<e.length;++t){let i=e[t],r=Object.keys(i);l="";for(let e=0;e<r.length;++e)a+=l+'"'+i[r[e]].replaceAll('"',"'")+'"',l=",";a+="\n"}return a}static download(e,t){if(null!=e)if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([e]),t);else{var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}!function(e){e[e.CSV=0]="CSV"}(z||(z={}));var J=e.defineComponent({data:()=>({}),methods:{closeModal:function(){this.$emit("close")}},props:{cssClasses:String,showModal:{default:!1,type:Boolean}}});const Q=n("Header"),X={class:"body"},Z=n("Body"),ee=s("br",{class:"clear"},null,-1);J.render=function(e,n,l,o,c,h){return t(),i("div",{class:r({"clarity-modal":!0,show:e.showModal})},[s("div",{class:r(["panel",e.cssClasses])},[s("header",null,[a(e.$slots,"header",{},(()=>[Q]))]),s("div",X,[a(e.$slots,"body",{},(()=>[Z]))]),s("footer",null,[a(e.$slots,"footer",{},(()=>[s("input",{type:"button",class:"close right",value:"Close",onClick:n[0]||(n[0]=(...t)=>e.closeModal&&e.closeModal(...t))}),ee]))])],2)],2)},J.__file="src/ts/Component/Modal/ClarityModal.vue";var te=e.defineComponent({methods:{findTab:function(e){return this.sections&&0!==this.sections.length?(e||(e=this.sections[0].name),this.sections.filter((t=>t.name===e))[0]):null},switchSelected:function(e){this.sectionPicked=this.findTab(e),this.switchTabs(),this.$emit("section-changed",this.sectionPicked)},switchTabs:function(){if(this.sections&&0!==this.sections.length&&(this.sections.some((e=>e===this.sectionPicked))||(this.sectionPicked=this.sections[0]),this.sectionPicked)){for(let e=0;e<this.sections.length;++e)this.sections[e].selected=!1;this.sectionPicked.selected=!0}}},props:{initialSectionPicked:{type:Object,default:{}},sections:{type:Array,default:[]}},watch:{sections:function(e){this.switchSelected(this.sectionPicked)},initialSectionPicked:function(e){this.switchSelected(this.initialSectionPicked)}},data(){return{sectionPicked:this.findTab(this.initialSectionPicked)}},beforeMount:function(){this.switchSelected(this.initialSectionPicked)}});const ie={class:"clarity-tabs"},re={class:"row flex align-items-stretch"},se=["onClick"];var ae;te.render=function(e,u,d,m,f,p){return t(),i("div",ie,[s("header",null,[s("ul",re,[(t(!0),i(l,null,o(e.sections,((a,l)=>(t(),i("li",{key:l},[s("a",{href:"#!",onClick:c((t=>e.switchSelected(a.name)),["stop","prevent"]),class:r(["tab",{selected:a.selected}])},[s("span",{class:r([a.icon])},null,2),n(" "+h(a.name),1)],10,se)])))),128))])]),s("section",null,[a(e.$slots,"default")])])},te.__file="src/ts/Component/Tabs/ClarityTabs.vue",function(e){var t,i,r;(t=e.ColumnDataType||(e.ColumnDataType={}))[t.String=0]="String",t[t.Image=1]="Image",t[t.Link=2]="Link",t[t.Number=3]="Number",t[t.Date=4]="Date",(i=e.FilterType||(e.FilterType={}))[i.Dropdown=0]="Dropdown",i[i.Textbox=1]="Textbox",(r=e.ComparisonType||(e.ComparisonType={}))[r.StartsWith=0]="StartsWith",r[r.Contains=1]="Contains",r[r.EndsWith=2]="EndsWith",r[r.Equals=3]="Equals",r[r.After=4]="After",r[r.AfterOrEqual=5]="AfterOrEqual",r[r.Before=6]="Before",r[r.BeforeOrEqual=7]="BeforeOrEqual"}(ae||(ae={}));class ne{constructor(){this.value="",this.comparison=ae.ComparisonType.Contains,this.type=ae.FilterType.Textbox,this.filtered=!1}}class le{constructor(e=!0,t="filteredTable"){this.saveFilters=!0,this.sourceName="filteredTable",this.saveFilters=e,this.sourceName=t}}class oe{constructor(e,t,i){if(this.display="",this.dataType=ae.ColumnDataType.String,this.sum=!1,this.locales="en-US",this.url="",this.filter=new ne,this.sort=!1,this.sortDirection=1,this.default="",this.show=!0,null==e||null==t)return;if(null==i&&(i=new le),"string"==typeof e){let i=new oe;i.property=e.replace(oe.MultipleSpacesRegex,"").trim(),i.display=oe.fixHeader(e),i.dataType=oe.guessDataType(e,t),e=i}"property"in e&&(this.property=e.property.replace(oe.MultipleSpacesRegex,"").trim());let r=[{name:"display",default:e=>oe.fixHeader(e.property)},{name:"property",default:e=>e.display.replace(oe.MultipleSpacesRegex,"").trim()},{name:"dataType",default:e=>oe.guessDataType(e.property,t)},{name:"sum",default:e=>!1},{name:"locales",default:e=>"en-US"},{name:"format",default:e=>({})},{name:"url",default:e=>""},{name:"filter",default:e=>new ne},{name:"sort",default:e=>!1},{name:"sortDirection",default:e=>1},{name:"default",default:e=>""},{name:"show",default:e=>!1}];for(let t=0;t<r.length;++t){let i=r[t];e.hasOwnProperty(i.name)?this[i.name]=e[i.name]:this[i.name]=i.default(this)}if("filter"in e){let t=[{name:"value",default:e=>""},{name:"comparison",default:e=>ae.ComparisonType.Contains},{name:"type",default:e=>ae.FilterType.Textbox},{name:"filtered",default:e=>!1}];for(let i=0;i<t.length;++i){let r=t[i];e.filter.hasOwnProperty(r.name)?this.filter[r.name]=e.filter[r.name]:this.filter[r.name]=r.default(this.filter)}oe.returnValueFromDB(this.property,i,(e=>this.filter.value=e))}}saveFilter(e){oe.saveValueToDB(this.filter.value,this.property,e)}formatValue(e){if(null!=e&&""!==e||(e=this.default),""===e)return e;if(this.dataType===ae.ColumnDataType.String)return(null==e?void 0:e.toString().replace(/\n/gi,"<br />"))||"";let t=typeof e;if(this.dataType===ae.ColumnDataType.Number){if("number"===t)return new Intl.NumberFormat(this.locales,this.format).format(e);if("string"===t)return new Intl.NumberFormat(this.locales,this.format).format(oe.getNumber(e.stripHTML()))}else if(this.dataType===ae.ColumnDataType.Date){if("number"===t)return new Intl.DateTimeFormat(this.locales,this.format).format(e);if("string"===t)return e=e.stripHTML(),1900===w(e).year()?"":new Intl.DateTimeFormat(this.locales,this.format).format(Date.parse(e))}else{if(this.dataType===ae.ColumnDataType.Link)return"<a href='"+(e=e.stripHTML())+"'>"+e+"</a>";if(this.dataType===ae.ColumnDataType.Image)return"<img src='"+(e=e.stripHTML())+"' alt='"+e+"'"+(this.default?" onerror='this.src=\""+this.default+"\"'":"")+" />"}return e}passesFilter(e){var t=(this.filter.value||"").toLowerCase();if(""===t)return!0;if(""===e)return!1;if(e=e.toLowerCase(),this.dataType===ae.ColumnDataType.Date){let i=w(e),r=w(t);return this.filter.comparison===ae.ComparisonType.After?i.isAfter(r):this.filter.comparison===ae.ComparisonType.AfterOrEqual?i.isSameOrAfter(r):this.filter.comparison===ae.ComparisonType.BeforeOrEqual?i.isSameOrBefore(r):this.filter.comparison===ae.ComparisonType.Before?i.isBefore(r):i.isSame(r)}return this.filter.comparison===ae.ComparisonType.After?e>t:this.filter.comparison===ae.ComparisonType.AfterOrEqual?e>=t:this.filter.comparison===ae.ComparisonType.BeforeOrEqual?e<=t:this.filter.comparison===ae.ComparisonType.Before?e<t:this.filter.comparison===ae.ComparisonType.Contains?e.indexOf(t)>-1:this.filter.comparison===ae.ComparisonType.EndsWith?e.endsWith(t):this.filter.comparison===ae.ComparisonType.StartsWith?e.startsWith(t):this.filter.comparison!==ae.ComparisonType.Equals||e===t}static fixHeader(e){return e.replace("_"," ").replace("-"," ").replace(/([a-z])([A-Z])/g,"$1 $2")}static getNumber(e){return e?parseFloat(e.toString().replace(/[^0-9.-]/g,"")):0}static guessDataType(e,t){let i=document.createElement("div");for(let r=0;r<t.length;++r){if(!(e in t[r]))continue;let s=t[r][e].toString();if(i.innerHTML=s,s=(i.textContent||i.innerText||"").replace(this.isWhiteSpaceRegex,""),""!==s){if(s.match(this.imageRegex))return ae.ColumnDataType.Image;if(s.match(this.urlRegex))return ae.ColumnDataType.Link;if(s.match(this.numberRegex)&&!s.match(this.phoneRegex))return ae.ColumnDataType.Number;if(s.match(this.dateRegex))return ae.ColumnDataType.Date}}return ae.ColumnDataType.String}static returnValueFromDB(e,t,i){t.saveFilters&&new G(t.sourceName,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&i(t)}))}))}static saveValueToDB(e,t,i){i.saveFilters&&new G(i.sourceName,["cache","cacheExpirations"],1).openDatabase((i=>{void 0!==e&&(i.add("cache",e,t),i.add("cacheExpirations",Date.now(),t))}))}}oe.dateRegex=/^((\d\d)?\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)(T\d\d:\d\d:\d\dZ?)?$/gi,oe.numberRegex=/^-?[£$¤]?[\d,.]+%?$/,oe.phoneRegex=/^\d\d\d.\d\d\d.\d\d\d\d$/,oe.urlRegex=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,oe.imageRegex=/^(http)?s?:?(\/\/[^"']*\.(?:png|jpg|jpeg|gif|png|svg))$/,oe.isWhiteSpaceRegex=/^\s+|\s+$/g,oe.MultipleSpacesRegex=/\s+/g;class ce{constructor(e,t){let i=e[t.property.split(".").pop()];this.value=t.formatValue(this.replaceProperties(i,e)),this.url=this.getUrl(t.url,e)}getUrl(e,t){if(""===e||null==t)return"";let i=this.replaceProperties(e,t);for(;i.indexOf("{")>-1&&i.indexOf("}")>-1;)i=this.replaceProperties(i,t);return i}replaceProperties(e,t){if("string"!=typeof e||-1===e.indexOf("{")||-1===e.indexOf("}"))return e;let i=e.match(/{([^}]*)}/g);for(let r=0;r<i.length;++r){let s=i[r].replace("{","").replace("}",""),a=this.stripHTML(t[s])||"";e=e.replaceAll("{"+s+"}",a)}return e}stripHTML(e){let t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").replace(/^\s+|\s+$/g,"")}}class he{constructor(e,t){this.column=e,this.data=this.getItems(t,e)}getItems(e,t){let i=this.getParentProperties(e,t.property),r=[];for(let e=0;e<i.length;++e){let s=i[e];r.push(new ce(s,t))}return r}getParentProperties(e,t){if(!t)return[];let i=t.split("."),r=e[i[0]];if(1===i.length)return Array.isArray(e)?e:[e];let s=i.slice(1,i.length).join(".");if(Array.isArray(r)){let e=[];for(let t=0;t<r.length;++t)e=e.concat(this.getParentProperties(r[t],s));return e}return this.getParentProperties(r,s)}}class ue{constructor(e,t){this.columns=[],this.originalData=[],this.originalData=e;for(let i=0;i<t.length;++i)this.columns.push(new he(t[i],e))}}class de{static sortDate(e,t){let i=w(e),r=w(t);return i.isValid()||(i=w(new Date(0))),r.isValid()||(r=w(new Date(0))),i.isBefore(r)?-1:i.isAfter(r)?1:0}static sortNumber(e,t){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e-t}static sortString(e,t){return e===t?0:e<t?-1:1}}var me=e.defineComponent({watch:{columns:function(e,t){this.internalColumns.length=0,this.internalColumns=this.getColumnInfos(e,this.data,this.databaseSettings),this.internalData=this.getData(this.internalData.map((e=>e.originalData)),this.internalColumns),this.filterChanged()},data:function(e,t){this.internalData.length=0,this.internalData=this.getData(e,this.internalColumns),this.filterChanged()}},computed:{anySum:function(){return this.internalColumns.some((e=>e.sum))},endPage:function(){let e=10*Math.floor((this.page-1)/10)+10;return e>this.finalPage?this.finalPage:e},filteredGroups:function(){var e;if(!this.groupBy)return[""];let t=this.filteredData,i=[];for(let e=0;e<t.length;++e){let r=t[e].originalData[this.groupBy];if(!r)continue;if(Array.isArray(r)){for(let e=0;e<r.length;++e){let t=r[e].toString();-1===i.indexOf(t)&&i.push(t)}continue}let s=r.toString();-1===i.indexOf(s)&&i.push(s)}let r=null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase();return i.filter((e=>-1!==e.toLowerCase().indexOf(r))).sort((function(e,t){return e===t?0:e<t?-1:1}))},filteredData:function(){var e;let t=this.filter(this.internalData,null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase());return this.sort(t,this.internalColumns,this.sortKey)},finalPage:function(){return-1===this.pageSize?1:Math.ceil(this.total/this.pageSize)},pageable:function(){return this.paged&&this.pageSize>0&&this.filteredData.length>this.pageSize},startPage:function(){return 10*Math.floor((this.page-1)/10)}},data:function(){let e=this,t=new le(this.saveFilters),i=e.getColumnInfos(this.columns,this.data,t),r=[];return r[ae.ColumnDataType.String]=this.sortString,r[ae.ColumnDataType.Number]=this.sortNumber,r[ae.ColumnDataType.Date]=this.sortDate,{sortKey:-1,draggedColumn:null,internalColumns:i,databaseSettings:t,filterKey:e.filterValue,internalData:e.getData(this.data,i),sortMethods:r}},methods:{exportData:function(e){let t=[];if(""===this.groupBy){let e=this.filteredData;for(let i=0;i<e.length;++i){let r=e[i],s={};for(let e=0;e<r.columns.length;++e){s[r.columns[e].column.property]=r.columns[e].data.map((e=>e.value)).join(", ")}t.push(s)}}else{let e=this.filteredGroups;for(let i=0;i<e.length;++i){let r=e[i],s=this.getEntriesInGroup(r),a={};a[s[0].columns[0].column.property]=r;for(let e=1;e<s[0].columns.length;++e){a[s[0].columns[e].column.property]=""}t.push(a);for(let e=0;e<s.length;++e){let i=s[e],r={};for(let e=0;e<i.columns.length;++e){r[i.columns[e].column.property]=i.columns[e].data.map((e=>e.value)).join(", ")}t.push(r)}}}Y.exportData(t,this.columns,this.exportInfo.fileName+"."+e,z.CSV)},filter:function(e,t){return t&&""===this.groupBy&&(e=e.filter((e=>e.columns.some((e=>e.data.some((e=>e.value.toLowerCase().indexOf(t)>-1))))))),e.filter((e=>e.columns.every((e=>e.data.map((e=>e.value)).some((t=>e.column.passesFilter(t)))))))},filterChanged:function(){this.$emit("data-updated",{data:this.filteredData})},getColumnInfos:function(e,t,i){return e.map((e=>new oe(e,t,i)))},getData:function(e,t){return e.map((e=>new ue(e,t)))},getDistinctValues:function(e){var t;let i=[""],r=this.filteredData;for(let s=0;s<r.length;++s){let a=(null===(t=r[s].columns.find((t=>t.column.property===e.property)))||void 0===t?void 0:t.data.map((e=>e.value)))||[];for(let e=0;e<a.length;++e)-1===i.indexOf(a[e])&&i.push(a[e])}return i.sort(de.sortString)},getEntriesInGroup:function(e){let t=this.filteredData,i=this;return""===i.groupBy?t:t.filter((t=>i.isInGroup(t.originalData[i.groupBy],e)))},isInGroup:function(e,t){let i=this;return Array.isArray(e)?e.some((e=>i.isInGroup(e,t))):(null==e?void 0:e.toString())===t},rowClicked:function(e){for(let e=0;e<this.internalColumns.length;++e){let t=this.internalColumns[e];t.filter&&void 0!==t.filter.value&&t.saveFilter(this.databaseSettings)}this.$emit("row-clicked",{entry:e})},setPage:function(e){e>this.finalPage?e=this.finalPage:e<1&&(e=1);let t=this.internalColumns[this.sortKey],i=(null==t?void 0:t.sortDirection)||0;this.$emit("pagechange",{page:e,filter:this.filterKey,sort:this.sortKey,direction:i})},sort:function(e,t,i){if(!this.sortable)return e;let r=this.sortKey;for(let i=0;i<t.length;++i){let r=t[i];r.sort&&(this.sortKey=i,e=e.sort(this.sortMethods[r.dataType]))}if(this.sortKey=r,-1===i)return e;let s=t[i];return e=e.sort(this.sortMethods[s.dataType]),1===s.sortDirection?e.reverse():e},sortBy:function(e,t){this.sortKey=t,e.sortDirection=-1*e.sortDirection,this.$emit("pagechange",{page:this.page,filter:this.filterKey,sort:this.sortKey,direction:e.sortDirection})},sortDate:function(e,t){var i,r;let s=(null===(i=e.columns[this.sortKey].data[0])||void 0===i?void 0:i.value)||"",a=(null===(r=t.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"";return de.sortDate(new Date(s),new Date(a))},sortNumber:function(e,t){var i,r;let s=((null===(i=e.columns[this.sortKey].data[0])||void 0===i?void 0:i.value)||"").toString().toNumber(),a=((null===(r=t.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"").toString().toNumber();return de.sortNumber(s,a)},sortString:function(e,t){var i,r;let s=(null===(i=e.columns[this.sortKey].data[0])||void 0===i?void 0:i.value)||"",a=(null===(r=t.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"";return de.sortString(s,a)},sumColumn:function(e,t){if(!t.sum)return"";let i=this.getEntriesInGroup(e);return t.formatValue(i.map((e=>{var i;return null===(i=e.originalData[t.property])||void 0===i?void 0:i.toString().toNumber()})).reduce(((e,t)=>e+t)))}},props:{columns:{default:[],type:Array},data:{default:[],type:Array},groupBy:{default:"",type:String},page:{default:1,type:Number},paged:{default:!1,type:Boolean},pageSize:{default:-1,type:Number},total:{default:0,type:Number},saveFilters:{default:!0,type:Boolean},searchable:{default:!0,type:Boolean},showCount:{default:!0,type:Boolean},sortable:{default:!0,type:Boolean},quickNav:{default:!1,type:Boolean},filterValue:{default:"",type:String},exportInfo:{default:{exportable:!0,fileName:W.Id},type:Object}}});const fe={class:"clarity-grid"},pe={class:"panel"},ge={class:"body"},ye={key:0,class:"right do-not-print flex column"},ve={class:"no-border"},Ce=s("td",null," Search: ",-1),be=s("td",null," Export: ",-1),ke={key:1,class:"do-not-print"},Se=n(" Show "),xe=[g('<option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="-1">All</option>',6)],we=n(" entries "),Te={key:2,class:"quick-nav do-not-print"},Fe={class:"inline"},Me=s("li",null,"Quick nav:",-1),Ee=["href"],De=s("br",{class:"clear"},null,-1),Ie={class:"sortable",id:"filteredTable"},Pe=["onClick","columnName"],Ve={key:0},Ae={key:0,class:"do-not-print"},Ne=["type","placeholder","onUpdate:modelValue","list"],Oe=["id"],Le={key:1,class:"do-not-print"},Be=["onUpdate:modelValue"],qe={key:0,class:"grid-group-header"},$e=["colspan"],He=["id"],Ue=["onClick"],je=["innerHTML"],Ke=["innerHTML","href"],Ge={key:1,class:"grid-group-footer"},Re=["colspan"],_e={key:2,class:"grid-group-footer"},ze=["innerHTML"],We={key:0,class:"do-not-print"},Ye=["colspan"],Je={class:"right"},Qe={class:"paged"},Xe=["onClick"],Ze={key:0,class:"do-not-print"};me.render=function(e,a,g,y,v,C){return t(),i("div",fe,[s("div",pe,[s("div",ge,[e.searchable?(t(),i("div",ye,[s("table",ve,[s("tbody",null,[s("tr",null,[Ce,s("td",null,[u(s("input",{type:"text",placeholder:"Filter Entries","onUpdate:modelValue":a[0]||(a[0]=t=>e.filterKey=t),onKeyup:a[1]||(a[1]=(...t)=>e.filterChanged&&e.filterChanged(...t))},null,544),[[d,e.filterKey]])])]),s("tr",null,[be,s("td",null,[e.exportInfo.exportable?(t(),i("a",{key:0,href:"#!",class:"fas fa-file-csv",onClick:a[2]||(a[2]=t=>e.exportData("CSV"))})):m("v-if",!0)])])])])])):m("v-if",!0),e.paged?(t(),i("span",ke,[Se,u(s("select",{"onUpdate:modelValue":a[3]||(a[3]=t=>e.pageSize=t)},xe,512),[[f,e.pageSize]]),we])):m("v-if",!0),e.quickNav&&e.filteredGroups?(t(),i("div",Te,[s("ul",Fe,[Me,(t(!0),i(l,null,o(e.filteredGroups,(e=>(t(),i("li",{key:e},[s("a",{href:"#"+e},h(e),9,Ee)])))),128))])])):m("v-if",!0),De])]),s("table",Ie,[s("thead",null,[s("tr",null,[(t(!0),i(l,null,o(e.internalColumns,((d,g)=>(t(),i("th",{key:d,onClick:t=>e.sortBy(d,g),class:r({active:e.sortKey==g,headerSortUp:e.sortKey==g&&d.sortDirection>0,headerSortDown:e.sortKey==g&&d.sortDirection<0}),columnName:d.property},[n(h(e.$filters.capitalize(d.display))+" ",1),d.filter.filtered?(t(),i("div",Ve,[1==d.filter.type?(t(),i("div",Ae,[u(s("input",{type:d.filter.type,placeholder:d.filter.placeholder,"onUpdate:modelValue":e=>d.filter.value=e,list:d.property,onClick:a[4]||(a[4]=c((()=>{}),["stop","prevent"])),onKeyup:a[5]||(a[5]=(...t)=>e.filterChanged&&e.filterChanged(...t))},null,40,Ne),[[p,d.filter.value]]),s("datalist",{id:d.property},[(t(!0),i(l,null,o(e.getDistinctValues(d),(e=>(t(),i("option",{key:e},h(e),1)))),128))],8,Oe)])):m("v-if",!0),0==d.filter.type?(t(),i("div",Le,[u(s("select",{"onUpdate:modelValue":e=>d.filter.value=e,onClick:a[6]||(a[6]=c((()=>{}),["stop","prevent"])),onChange:a[7]||(a[7]=(...t)=>e.filterChanged&&e.filterChanged(...t))},[(t(!0),i(l,null,o(e.getDistinctValues(d),(e=>(t(),i("option",{key:e},h(e),1)))),128))],40,Be),[[f,d.filter.value]])])):m("v-if",!0)])):m("v-if",!0)],10,Pe)))),128))])]),(t(!0),i(l,null,o(e.filteredGroups,(a=>(t(),i("tbody",{key:a},[""!==a?(t(),i("tr",qe,[s("td",{colspan:e.internalColumns.length},[s("a",{id:a},null,8,He),n(h(a),1)],8,$e)])):m("v-if",!0),(t(!0),i(l,null,o(e.getEntriesInGroup(a),((s,a)=>(t(),i("tr",{key:a,onClick:t=>e.rowClicked(s)},[(t(!0),i(l,null,o(s.columns,(e=>(t(),i("td",{key:e,class:r(s.style)},[(t(!0),i(l,null,o(e.data,(e=>(t(),i("div",{key:e},[e.url?m("v-if",!0):(t(),i("div",{key:0,innerHTML:e.value},null,8,je)),e.url?(t(),i("a",{key:1,innerHTML:e.value,href:e.url},null,8,Ke)):m("v-if",!0)])))),128))],2)))),128))],8,Ue)))),128)),e.anySum?(t(),i("tr",Ge,[s("td",{colspan:e.internalColumns.length},"Totals:",8,Re)])):m("v-if",!0),e.anySum?(t(),i("tr",_e,[(t(!0),i(l,null,o(e.internalColumns,(r=>(t(),i("td",{innerHTML:e.sumColumn(a,r),key:r},null,8,ze)))),128))])):m("v-if",!0)])))),128)),e.pageable?(t(),i("tfoot",We,[s("tr",null,[s("td",{colspan:e.internalColumns.length},[s("div",Je,"Page "+h(e.page)+" of "+h(e.finalPage),1),s("ul",Qe,[s("li",{class:r(["cursor-pointer fas fa-fast-backward text-center",{disabled:1==e.page}]),onClick:a[8]||(a[8]=t=>e.setPage(1))},null,2),s("li",{class:r(["cursor-pointer fas fa-step-backward text-center",{disabled:1==e.page}]),onClick:a[9]||(a[9]=t=>e.setPage(e.page-1))},null,2),(t(!0),i(l,null,o(e.endPage-e.startPage,(s=>(t(),i("li",{class:r(["cursor-pointer text-center",{active:e.page==e.startPage+s}]),onClick:t=>e.setPage(e.startPage+s),key:s},h(e.startPage+s),11,Xe)))),128)),s("li",{class:r(["cursor-pointer fas fa-step-forward text-center",{disabled:e.page==e.finalPage}]),onClick:a[10]||(a[10]=t=>e.setPage(e.page+1))},null,2),s("li",{class:r(["cursor-pointer fas fa-fast-forward text-center",{disabled:e.page==e.finalPage}]),onClick:a[11]||(a[11]=t=>e.setPage(e.finalPage))},null,2)])],8,Ye)])])):m("v-if",!0)]),e.showCount?(t(),i("div",Ze," Filtered count: "+h(e.filteredData.length),1)):m("v-if",!0)])},me.__file="src/ts/Component/Grid/ClarityGrid.vue";var et=e.defineComponent({data:()=>({errorMessages:[],formValidator:new B}),mounted(){this.$nextTick((function(){this.revalidate()}))},methods:{revalidate:function(){if(null==this.$el)return!0;let e=this.getParentForm(this.$el);if(null==e&&!this.formValidator.validate())return this.errorMessages=this.formValidator.errors,!1;let t=this.formValidator.validateForm(e);return t.length>0?(this.errorMessages=t,!1):(this.errorMessages=[],!0)},getParentForm:function(e){let t=e.parentNode;return"FORM"===t.nodeName||null===t?t:this.getParentForm(t)}}});const tt={class:"panel error clarity-validator"},it=s("a",{name:"errorSection"},null,-1),rt=n("Some Errors Were Discovered");et.render=function(e,r,n,c,d,m){return u((t(),i("div",tt,[it,s("header",null,[a(e.$slots,"default",{},(()=>[rt]))]),s("ul",null,[(t(!0),i(l,null,o(e.errorMessages,(e=>(t(),i("li",{key:e},h(e),1)))),128))])],512)),[[y,e.errorMessages.length>0]])},et.__file="src/ts/Component/FormValidation/ClarityFormValidator.vue";var st=e.defineComponent({data:function(){let e;if("date"===this.schema.inputType||"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType||"month"===this.schema.inputType){let t=w(this.model);this.schema.isUTC&&(t=w.utc(this.model).local()),"date"===this.schema.inputType?e=t.format("YYYY-MM-DD"):"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType?e=t.format("YYYY-MM-DDTHH:mm"):"month"===this.schema.inputType&&(e=t.format("YYYY-MM"))}else e=this.model;return{count:0,timer:0,internalmodel:e}},props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.schema.datalistUrl&&(0!==t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){R.post(t.schema.datalistUrl,{value:e,queryCount:++t.count}).onSuccess((function(e){e&&(e.queryCount&&e.queryCount==t.count?t.schema.datalist=e.value:e.queryCount||(t.schema.datalist=e))})).onError((function(e){t.$emit("error",e)})).send()}),100)),this.$emit("changed",e,this.schema)},getList:function(){return void 0!==this.schema.datalist?this.getFieldID()+"-list":null},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});const at=["for"],nt={key:0,class:"error clear-background"},lt={key:1,class:"clear-background active no-border small"},ot=s("span",{class:"fas fa-info-circle"},null,-1),ct=["for"],ht={key:0,class:"error clear-background"},ut={key:1,class:"clear-background active no-border small"},dt=s("span",{class:"fas fa-info-circle"},null,-1),mt=["id","type","disabled","accept","alt","autocomplete","checked","dirname","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","title","readonly","required","size","src","step","width","files","data-error-message-value-missing","data-error-message-pattern-mismatch","data-error-message-range-overflow","data-error-message-range-underflow","data-error-message-step-mismatch","data-error-message-too-long","data-error-message-too-short","data-error-message-bad-input","data-error-message-type-mismatch"],ft={key:2,class:"text-center"},pt=["id"],gt=["value"];st.render=function(e,a,c,d,f,g){return t(),i("div",null,[!e.schema.label&&e.label?(t(),i("label",{key:0,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t(),i("span",nt,"*")):m("v-if",!0),e.schema.hint?(t(),i("i",lt,[ot,n(h(e.schema.hint),1)])):m("v-if",!0)],10,at)):m("v-if",!0),e.schema.label&&e.label?(t(),i("label",{key:1,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.schema.label)+" ",1),e.schema.required?(t(),i("span",ht,"*")):m("v-if",!0),e.schema.hint?(t(),i("i",ut,[dt,n(h(e.schema.hint),1)])):m("v-if",!0)],10,ct)):m("v-if",!0),u(s("input",{id:e.getFieldID(),type:e.schema.inputType,"onUpdate:modelValue":a[0]||(a[0]=t=>e.internalmodel=t),onInput:a[1]||(a[1]=t=>e.changed(t.target.value)),disabled:e.schema.disabled,accept:e.schema.accept,alt:e.schema.alt,autocomplete:e.schema.autocomplete,checked:e.schema.checked,dirname:e.schema.dirname,formaction:e.schema.formaction,formenctype:e.schema.formenctype,formmethod:e.schema.formmethod,formnovalidate:e.schema.formnovalidate,formtarget:e.schema.formtarget,height:e.schema.height,list:e.getList(),max:e.schema.max,maxlength:e.schema.maxlength,min:e.schema.min,minlength:e.schema.minlength,multiple:e.schema.multiple,name:e.schema.inputName||e.getFieldID(),pattern:e.schema.pattern,placeholder:e.schema.placeholder,title:e.schema.placeholder,readonly:e.schema.readonly,required:e.schema.required,size:e.schema.size,src:e.schema.src,step:e.schema.step,width:e.schema.width,files:e.schema.files,class:r(e.schema.inputClasses),"data-error-message-value-missing":e.schema.errorMessageValueMissing,"data-error-message-pattern-mismatch":e.schema.errorMessagePatternMismatch,"data-error-message-range-overflow":e.schema.errorMessageRangeOverflow,"data-error-message-range-underflow":e.schema.errorMessageRangeUnderflow,"data-error-message-step-mismatch":e.schema.errorMessageStepMismatch,"data-error-message-too-long":e.schema.errorMessageTooLong,"data-error-message-too-short":e.schema.errorMessageTooShort,"data-error-message-bad-input":e.schema.errorMessageBadInput,"data-error-message-type-mismatch":e.schema.errorMessageTypeMismatch},null,42,mt),[[p,e.internalmodel]]),"color"===e.schema.inputType||"range"===e.schema.inputType?(t(),i("div",ft,h(e.internalmodel),1)):m("v-if",!0),e.schema.datalist?(t(),i("datalist",{key:3,id:e.getList()},[(t(!0),i(l,null,o(e.schema.datalist,(e=>(t(),i("option",{value:e,key:e},null,8,gt)))),128))],8,pt)):m("v-if",!0)])},st.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldInput.vue";var yt=e.defineComponent({props:{model:Object,schema:Object,label:{default:!0,type:Boolean},idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)},isSelected:function(e){return this.model===e.key},getValues:function(e){if(!e)return null;let t=e;Array.isArray(e)&&(t=e[0]);let i=Object.getOwnPropertyNames(t);for(let r=0;r<i.length;++r){if("key"===i[r])return e;let s=this.getValues(t[i[r]]);if(s)return s}return null}},beforeMount:function(){if(!this.schema.valuesUrl)return;let e=this;R.post(e.schema.valuesUrl,e.schema.valuesUrlData).onSuccess((function(t){if(!t)return;let i=e.getValues(t);i&&(e.schema.values=i)})).onError((function(t){e.$emit("error",t)})).send()}});const vt=["for"],Ct={key:0,class:"error clear-background"},bt=["for"],kt={key:0,class:"error clear-background"},St=["disabled","name","height","id","readonly","required","multiple","width","data-error-message-value-missing"],xt=["value","selected"];yt.render=function(e,a,c,d,p,g){return t(),i("div",null,[!e.schema.label&&e.label?(t(),i("label",{key:0,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t(),i("span",Ct,"*")):m("v-if",!0)],10,vt)):m("v-if",!0),e.schema.label&&e.label?(t(),i("label",{key:1,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.schema.label)+" ",1),e.schema.required?(t(),i("span",kt,"*")):m("v-if",!0)],10,bt)):m("v-if",!0),u(s("select",{"onUpdate:modelValue":a[0]||(a[0]=t=>e.model=t),disabled:e.schema.disabled,name:e.schema.inputName||e.getFieldID(),height:e.schema.height,id:e.getFieldID(),onChange:a[1]||(a[1]=t=>e.changed(e.model)),readonly:e.schema.readonly,required:e.schema.required,multiple:e.schema.multiple,class:r(e.schema.inputClasses),width:e.schema.width,"data-error-message-value-missing":e.schema.errorMessageValueMissing},[(t(!0),i(l,null,o(e.schema.values,(r=>(t(),i("option",{value:r.key,selected:e.isSelected(r),key:r.key},h(r.value),9,xt)))),128))],42,St),[[f,e.model]])])},yt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldSelect.vue";var wt=e.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const Tt=["id","checked","disabled","dirname","name","readonly","required","data-error-message-value-missing"],Ft=["for"],Mt={key:0,class:"error clear-background"},Et=["for"],Dt={key:0,class:"error clear-background"};wt.render=function(e,a,l,o,c,u){return t(),i("div",null,[s("input",{id:e.getFieldID(),type:"checkbox",checked:e.model,onClick:a[0]||(a[0]=t=>e.changed(t.target.checked)),disabled:e.schema.disabled,dirname:e.schema.dirname,name:e.schema.inputName||e.getFieldID(),readonly:e.schema.readonly,required:e.schema.required,"data-error-message-value-missing":e.schema.errorMessageValueMissing,class:r(e.schema.inputClasses)},null,10,Tt),e.schema.label?m("v-if",!0):(t(),i("label",{key:0,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t(),i("span",Mt,"*")):m("v-if",!0)],10,Ft)),e.schema.label?(t(),i("label",{key:1,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.schema.label)+" ",1),e.schema.required?(t(),i("span",Dt,"*")):m("v-if",!0)],10,Et)):m("v-if",!0)])},wt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldCheckbox.vue";var It=e.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(e){let t="";return t=this.schema.id?this.schema.id:this.schema.model.slugify(),t+="-"+e,void 0!==this.idSuffix&&(t+=this.idSuffix),t},getFieldName:function(){return this.schema.id?this.schema.id:this.schema.model.slugify()},changed:function(e){this.model=e,this.$emit("changed",e,this.schema)},isItemChecked:function(e){return this.getItemValue(e)===this.model},getItemValue:function(e){return e},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});const Pt={class:"flex row text-center"},Vt=["id","checked","onClick","disabled","name","readonly"],At=["for"];It.render=function(e,a,n,c,u,d){return t(),i("div",Pt,[(t(!0),i(l,null,o(e.schema.values,(a=>(t(),i("div",{key:a},[s("input",{id:e.getFieldID(a),type:"radio",checked:e.isItemChecked(a),onClick:t=>e.changed(a),disabled:e.schema.disabled,name:e.schema.inputName||e.getFieldName(),readonly:e.schema.readonly,class:r(e.schema.inputClasses)},null,10,Vt),s("label",{for:e.getFieldID(a)},h(e.$filters.capitalize(a)),9,At)])))),128))])},It.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldRadio.vue";var Nt=e.defineComponent({props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const Ot=["for"],Lt={key:0,class:"error clear-background"},Bt={key:1,class:"clear-background active no-border small"},qt=s("span",{class:"fas fa-info-circle"},null,-1),$t=["for"],Ht={key:0,class:"error clear-background"},Ut={key:1,class:"clear-background active no-border small"},jt=s("span",{class:"fas fa-info-circle"},null,-1),Kt=["id","disabled","height","maxlength","minlength","name","placeholder","title","readonly","required","width","rows","data-error-message-value-missing","data-error-message-too-long","data-error-message-too-short"],Gt={key:2,class:"clear-background active right small"},Rt=s("span",{class:"fas fa-info-circle"},null,-1),_t=s("br",{class:"clear"},null,-1);Nt.render=function(e,a,l,o,c,f){return t(),i("div",null,[!e.schema.label&&e.label?(t(),i("label",{key:0,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t(),i("span",Lt,"*")):m("v-if",!0),e.schema.hint?(t(),i("i",Bt,[qt,n(h(e.schema.hint),1)])):m("v-if",!0)],10,Ot)):m("v-if",!0),e.schema.label&&e.label?(t(),i("label",{key:1,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.schema.label)+" ",1),e.schema.required?(t(),i("span",Ht,"*")):m("v-if",!0),e.schema.hint?(t(),i("i",Ut,[jt,n(h(e.schema.hint),1)])):m("v-if",!0)],10,$t)):m("v-if",!0),u(s("textarea",{id:e.getFieldID(),"onUpdate:modelValue":a[0]||(a[0]=t=>e.model=t),onInput:a[1]||(a[1]=t=>e.changed(t.target.value)),disabled:e.schema.disabled,height:e.schema.height,maxlength:e.schema.maxlength,minlength:e.schema.minlength,name:e.schema.inputName||e.getFieldID(),placeholder:e.schema.placeholder,title:e.schema.placeholder,readonly:e.schema.readonly,class:r(e.schema.inputClasses),required:e.schema.required,width:e.schema.width,rows:e.schema.rows||3,"data-error-message-value-missing":e.schema.errorMessageValueMissing,"data-error-message-too-long":e.schema.errorMessageTooLong,"data-error-message-too-short":e.schema.errorMessageTooShort},"\r\n        ",42,Kt),[[d,e.model]]),e.schema.maxlength?(t(),i("div",Gt,[Rt,n(" "+h(e.schema.maxlength-e.model.length)+" characters remaining ("+h(e.schema.maxlength)+" max) ",1)])):m("v-if",!0),_t])},Nt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldTextarea.vue";var zt=e.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{}});const Wt=["innerHTML"];zt.render=function(e,s,a,n,l,o){return t(),i("div",{class:r(e.schema.classes),innerHTML:e.model||e.schema.model},null,10,Wt)},zt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldText.vue";var Yt=e.defineComponent({data:()=>({files:[],ready:!1,filesAdded:0}),props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.filesAdded=t.filesAdded+e.target.files.length,t.ready=!1;for(let i=0;i<e.target.files.length;++i){let r=new FileReader;r.onload=function(e){return function(i){t.files=t.files.concat({filename:e,data:t.base64ArrayBuffer(r.result)}),t.files.length===t.filesAdded&&(t.ready=!0)}}(e.target.files[i].name),r.readAsArrayBuffer(e.target.files[i])}this.check()},base64ArrayBuffer:function(e){let t="",i=new Uint8Array(e),r=i.byteLength;for(let e=0;e<r;++e)t+=String.fromCharCode(i[e]);return window.btoa(t)},check:function(){!0!==this.ready?setTimeout(this.check,100):this.$emit("changed",this.files,this.schema)},removeFile:function(e){let t=this.files.indexOf(e);this.files.splice(t,1),this.filesAdded--},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});const Jt=["for"],Qt={key:0,class:"error clear-background"},Xt={key:1,class:"clear-background active no-border small"},Zt=s("span",{class:"fas fa-info-circle"},null,-1),ei=["for"],ti={key:0,class:"error clear-background"},ii={key:1,class:"clear-background active no-border small"},ri=s("span",{class:"fas fa-info-circle"},null,-1),si=["accept","id","multiple","name","required","data-error-message-value-missing"],ai={class:"flex"},ni=["onClick"],li=n(" "),oi={class:"body"};Yt.render=function(e,a,c,u,d,f){return t(),i("div",null,[e.schema.label?m("v-if",!0):(t(),i("label",{key:0,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t(),i("span",Qt,"*")):m("v-if",!0),e.schema.hint?(t(),i("i",Xt,[Zt,n(h(e.schema.hint),1)])):m("v-if",!0)],10,Jt)),e.schema.label?(t(),i("label",{key:1,for:e.getFieldID(),class:r(e.schema.labelClasses)},[n(h(e.schema.label)+" ",1),e.schema.required?(t(),i("span",ti,"*")):m("v-if",!0),e.schema.hint?(t(),i("i",ii,[ri,n(h(e.schema.hint),1)])):m("v-if",!0)],10,ei)):m("v-if",!0),s("div",{class:r(["file-upload",e.schema.inputClasses])},[n(h(e.schema.placeholder)+" ",1),s("input",{accept:e.schema.accept,id:e.getFieldID(),onChange:a[0]||(a[0]=t=>e.changed(t)),multiple:e.schema.multiple,name:e.schema.inputName||e.getFieldID(),required:e.schema.required,type:"file","data-error-message-value-missing":e.schema.errorMessageValueMissing},null,40,si)],2),s("div",ai,[(t(!0),i(l,null,o(e.files,(a=>(t(),i("div",{class:r(["upload-preview panel",e.schema.previewClasses]),key:e.generateGuid(a)},[s("header",null,[s("div",{class:"header",onClick:t=>e.removeFile(a)},"×",8,ni),li]),s("div",oi,h(a.filename),1)],2)))),128))])])},Yt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldUpload.vue";var ci=e.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{click:function(e,t){return this.$emit("click",e,t),!1},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});const hi={class:"controls"},ui={class:"input-group"},di=["type","value","onClick"];ci.render=function(e,a,n,c,h,u){return t(),i("div",hi,[s("div",ui,[(t(!0),i(l,null,o(e.schema.buttons,(s=>(t(),i("input",{key:e.generateGuid(s),type:s.type,value:s.value,class:r(s.classes),onClick:t=>e.click(t,s)},null,10,di)))),128))])])},ci.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldButtons.vue";var mi=e.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{show:function(e){return"function"==typeof e?e():e},getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});const fi={key:0};mi.render=function(e,r,s,a,n,c){return t(),i("div",null,[e.show(e.model.display||e.schema.display)?(t(),i("div",fi,[(t(!0),i(l,null,o(e.schema.fields,(r=>(t(),i("div",{key:e.generateGuid(r)},[(t(),v(C(e.getFieldType(r)),{schema:e.getSchema(r),model:e.getModelValue(r),"id-suffix":e.getIDSuffix(r),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])):m("v-if",!0)])},mi.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexConditional.vue";var pi=e.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,i){t[e.model]=i,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});const gi={key:0},yi={key:1},vi=["data-tooltip"],Ci=[s("span",{class:"fas fa-info-circle no-border small"},null,-1)],bi=s("th",null,null,-1),ki=["onClick"],Si=["colspan"];pi.render=function(e,a,n,u,d,f){return t(),i("div",null,[s("table",{class:r(["form-table",e.schema.tableClasses])},[s("thead",null,[s("tr",null,[(t(!0),i(l,null,o(e.schema.fields,(r=>(t(),i("th",{key:e.generateGuid(r)},[r.label?(t(),i("span",gi,h(e.$filters.capitalize(r.label)),1)):(t(),i("span",yi,h(e.$filters.capitalize(r.model)),1)),e.getSchema(r).hint?(t(),i("span",{key:2,"data-tooltip":e.getSchema(r).hint,"data-tooltip-size":"extra-large"},Ci,8,vi)):m("v-if",!0)])))),128)),bi])]),s("tbody",null,[(t(!0),i(l,null,o(e.model,((r,a)=>(t(),i("tr",{key:e.generateGuid(r)},[(t(!0),i(l,null,o(e.schema.fields,(s=>(t(),i("td",{key:e.generateGuid(s)},[(t(),v(C(e.getFieldType(s)),{schema:e.getSchema(s),model:e.getModelValue(s,r),label:!1,"id-suffix":e.getIDSuffix(s,a),onChanged:t=>e.setModelValue(s,r,t),onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128)),s("td",null,[s("a",{class:"fas fa-minus-circle",onClick:c((t=>e.removeItem(r)),["stop","prevent"])},null,8,ki)])])))),128))]),s("tfoot",null,[s("tr",null,[s("td",{colspan:e.schema.fields.length+1},[s("a",{class:"fas fa-plus-circle",onClick:a[0]||(a[0]=c(((...t)=>e.addItem&&e.addItem(...t)),["stop","prevent"]))},"Add More")],8,Si)])])],2)])},pi.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexList.vue";var xi=e.defineComponent({data(){return{tabPicked:this.schema.tabs[0]}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},tabChanged:function(e){this.tabPicked=e},getFields:function(){return this.tabPicked.fields},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});xi.render=function(e,s,a,n,c,h){const u=b("clarity-tabs");return t(),i("div",null,[k(u,{sections:e.schema.tabs,onSectionChanged:e.tabChanged,class:r(e.schema.tabClasses)},{default:S((()=>[(t(!0),i(l,null,o(e.getFields(),(r=>(t(),i("div",{key:e.generateGuid(r)},[(t(),v(C(e.getFieldType(r)),{schema:e.getSchema(r),model:e.getModelValue(r),"id-suffix":e.getIDSuffix(r),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])),_:1},8,["sections","onSectionChanged","class"])])},xi.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexTabs.vue";var wi=e.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});wi.render=function(e,r,s,a,n,c){return t(),i("div",null,[(t(!0),i(l,null,o(e.schema.fields,(r=>(t(),i("div",{key:e.generateGuid(r)},[(t(),v(C(e.getFieldType(r)),{schema:e.getSchema(r),model:e.getModelValue(r),"id-suffix":e.getIDSuffix(r),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])},wi.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplex.vue";var Ti=e.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,i){t[e.model]=i,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let i="";for(let e=0;e<32;e++){i+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=i,e.key}}});const Fi=["onClick"];Ti.render=function(e,r,a,n,h,u){return t(),i("div",null,[(t(!0),i(l,null,o(e.model,((r,a)=>(t(),i("div",{key:e.generateGuid(r),class:"border-bottom"},[s("a",{class:"fas fa-minus-circle right",onClick:c((t=>e.removeItem(r)),["stop","prevent"])},null,8,Fi),(t(!0),i(l,null,o(e.schema.fields,(s=>(t(),i("div",{key:e.generateGuid(s)},[(t(),v(C(e.getFieldType(s)),{schema:e.getSchema(s),model:e.getModelValue(s,r),label:!0,"id-suffix":e.getIDSuffix(s,a),onChanged:t=>e.setModelValue(s,r,t),onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])))),128)),s("a",{class:"fas fa-plus-circle",onClick:r[0]||(r[0]=c(((...t)=>e.addItem&&e.addItem(...t)),["stop","prevent"]))},"Add More")])},Ti.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexRepeater.vue";var Mi=e.defineComponent({components:{"clarity-form-field-complex":wi,"clarity-form-field-complex-conditional":mi,"clarity-form-field-complex-list":pi,"clarity-form-field-complex-tabs":xi,"clarity-form-field-input":st,"clarity-form-field-select":yt,"clarity-form-field-checkbox":wt,"clarity-form-field-radio":It,"clarity-form-field-textarea":Nt,"clarity-form-field-text":zt,"clarity-form-field-upload":Yt,"clarity-form-field-buttons":ci,"clarity-form-field-complex-repeater":Ti,"clarity-form-validator":et},data:function(){return{submitting:!1}},props:{schema:Object,model:Object,action:{default:"",type:String},ajaxAction:{default:"",type:String}},methods:{revalidate:function(){return this.$refs.validation.revalidate()},setModelValue:function(e,t){this.model=e,this.revalidate(),this.$emit("changed",this.model)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.revalidate(),this.$emit("click",e,t)},reset:function(){let e=this;setTimeout((function(){e.revalidate()}),100)},submit:function(e){let t=this;return!t.revalidate()||t.submitting?(e.preventDefault(),!1):(t.submitting=!0,!t.ajaxAction||(R.post(t.ajaxAction,t.model).onSuccess((function(e){t.submitting=!1,t.$emit("success",e)})).onError((function(e){t.submitting=!1,t.$emit("error",e)})).send(),e.preventDefault(),!1))},getIDSuffix:function(){return""}},watch:{model:function(e,t){t!==e&&null!==e&&this.$nextTick((()=>{this.revalidate()}))}}});const Ei=["action"],Di=n("The following errors were found");Mi.render=function(e,r,s,n,l,o){const c=b("clarity-form-validator"),h=b("clarity-form-field-complex");return t(),i("form",{action:e.action,class:"stacked clarity-form",onReset:r[0]||(r[0]=(...t)=>e.reset&&e.reset(...t)),onSubmit:r[1]||(r[1]=(...t)=>e.submit&&e.submit(...t)),method:"post"},[k(c,{ref:"validation"},{default:S((()=>[a(e.$slots,"validationHeader",{},(()=>[Di]))])),_:3},512),k(h,{schema:e.schema,model:e.model,idSuffix:e.getIDSuffix(),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","idSuffix","onChanged","onClick","onError","onException"])],40,Ei)},Mi.__file="src/ts/Component/FormGenerator/ClarityFormGenerator.vue";var Ii=e.defineComponent({props:{show:{type:Boolean,default:!1}}});const Pi={class:"clarity-alert alert"};Ii.render=function(e,i,r,n,l,o){return t(),v(x,{name:"fade"},{default:S((()=>[u(s("div",Pi,[a(e.$slots,"default")],512),[[y,e.show]])])),_:3})},Ii.__file="src/ts/Component/Alert/ClarityAlert.vue";var Vi=e.defineComponent({data:function(){return{content:"",loaded:!1}},props:{url:{type:String,default:""}},beforeMount:function(){if(!this.url)return;let e=this,t=this.url,i="",r=t.match(/[\s#]/),s=null!=r?r.index:-1;-1!=s&&(i=t.substring(s+(" "==r[0]?1:0)),t=t.substring(0,s)),t&&R.get(t).type("text/html").setParser((e=>e.text())).setMode(_.StorageAndUpdate).onSuccess((t=>{if(i.length){let r=document.createElement("div");r.innerHTML=t;let s=r.querySelectorAll(i);if(s.length>0)return void(e.content=s[0].outerHTML)}e.content=t,e.loaded=!0})).send()}});const Ai=["innerHTML","data-loaded"];var Ni;Vi.render=function(e,r,s,a,n,l){return t(),i("div",{class:"clarity-content-loader",innerHTML:e.content,"data-loaded":e.loaded},null,8,Ai)},Vi.__file="src/ts/Component/ContentLoader/ClarityContentLoader.vue",function(e){e[e.Image=0]="Image",e[e.File=1]="File"}(Ni||(Ni={}));var Oi=e.defineComponent({components:{"clarity-modal":J},props:{title:{type:String,default:""},content:{type:String,default:""},iframeImageSrc:{type:String,default:""},iframeFileSrc:{type:String,default:""},preview:{type:Boolean,default:!0},mentionsFormat:{type:String,default:""}},data:function(){return{currentTitle:this.title,currentContent:this.content,displayFrame:!1,iframeSrc:"",displayPreview:this.preview,converter:new T.Converter({tables:!0,strikethrough:!0,emoji:!0,underline:!0,ghMentions:!!this.mentionsFormat,ghMentionsLink:this.mentionsFormat}),insertType:Ni.Image,insertLink:""}},mounted:function(){let e=this;window.addEventListener("message",(function(t){if("string"!=typeof t.data)return;let i=JSON.parse(t.data);e.insertLink=i.href,e.insert()}))},computed:{compiledMarkdown:function(){return this.markdown(this.currentContent)},IsImageInsert:function(){return this.insertType==Ni.Image},IsFileInsert:function(){return this.insertType==Ni.File}},methods:{insert:function(){this.displayFrame=!1,this.insertLink&&(this.insertType==Ni.Image?this.imageTag(this.insertLink):this.linkTag(this.insertLink))},showImageFrame:function(){this.showFrame(Ni.Image)},showFileFrame:function(){this.showFrame(Ni.File)},showFrame:function(e){this.displayFrame=!0,this.insertType=e,e===Ni.Image?this.iframeSrc=this.iframeImageSrc:this.iframeSrc=this.iframeFileSrc},markdown:function(e){return e?this.converter.makeHtml(e):e},keyup:function(){this.$emit("keyup",{content:this.currentContent})},cancel:function(){this.$emit("cancel")},tag:function(e){let t=document.getElementById("editorInput");if(!t)return;let i=t.selectionStart,r=t.selectionEnd,s=e+this.currentContent.substring(i,r);this.currentContent=this.currentContent.substring(0,i)+s+this.currentContent.substring(r,this.currentContent.length),t.focus()},symmetricTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let i=t.selectionStart,r=t.selectionEnd,s=e+this.currentContent.substring(i,r)+e;this.currentContent=this.currentContent.substring(0,i)+s+this.currentContent.substring(r,this.currentContent.length),t.focus()},linkTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let i=t.selectionStart,r=t.selectionEnd,s="["+this.currentContent.substring(i,r)+"]("+e+")";this.currentContent=this.currentContent.substring(0,i)+s+this.currentContent.substring(r,this.currentContent.length),t.focus()},imageTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let i=t.selectionStart,r=t.selectionEnd,s="!["+this.currentContent.substring(i,r)+"]("+e+")";this.currentContent=this.currentContent.substring(0,i)+s+this.currentContent.substring(r,this.currentContent.length),t.focus()}}});const Li={class:"flex row clarity-simple-editor"},Bi={class:"flex-item flex justify-space-between column wrap",id:"editorRawInput"},qi={class:"menu pill flex-item"},$i={class:"item has-children"},Hi=s("a",{href:"#!"},"Header",-1),Ui={class:"item has-children"},ji=s("a",{href:"#!"},"Format",-1),Ki={class:"item has-children"},Gi=s("a",{href:"#!"},"List",-1),Ri={class:"item has-children"},_i=s("a",{href:"#!"},"File",-1),zi={key:0,class:"flex-item panel",id:"editorCompiledInput"},Wi={class:"body"},Yi=["innerHTML"],Ji={key:0},Qi={key:1},Xi=["src"],Zi={key:1},er=n(" URL: "),tr=s("br",null,null,-1),ir=s("br",{class:"clear"},null,-1);Oi.render=function(e,r,a,n,l,o){const f=b("clarity-modal");return t(),i("div",Li,[s("div",Bi,[s("nav",qi,[s("ul",null,[s("li",$i,[Hi,s("ul",null,[s("li",null,[s("h1",null,[s("a",{href:"#!",onClick:r[0]||(r[0]=c((t=>e.tag("#")),["stop","prevent"]))},"Header 1")])]),s("li",null,[s("h2",null,[s("a",{href:"#!",onClick:r[1]||(r[1]=c((t=>e.tag("##")),["stop","prevent"]))},"Header 2")])]),s("li",null,[s("h3",null,[s("a",{href:"#!",onClick:r[2]||(r[2]=c((t=>e.tag("###")),["stop","prevent"]))},"Header 3")])]),s("li",null,[s("h4",null,[s("a",{href:"#!",onClick:r[3]||(r[3]=c((t=>e.tag("####")),["stop","prevent"]))},"Header 4")])]),s("li",null,[s("h5",null,[s("a",{href:"#!",onClick:r[4]||(r[4]=c((t=>e.tag("#####")),["stop","prevent"]))},"Header 5")])]),s("li",null,[s("h6",null,[s("a",{href:"#!",onClick:r[5]||(r[5]=c((t=>e.tag("######")),["stop","prevent"]))},"Header 6")])])])]),s("li",Ui,[ji,s("ul",null,[s("li",null,[s("strong",null,[s("a",{href:"#!",onClick:r[6]||(r[6]=c((t=>e.symmetricTag("**")),["stop","prevent"]))},"Bold")])]),s("li",null,[s("em",null,[s("a",{href:"#!",onClick:r[7]||(r[7]=c((t=>e.symmetricTag("*")),["stop","prevent"]))},"Italics")])]),s("li",null,[s("del",null,[s("a",{href:"#!",onClick:r[8]||(r[8]=c((t=>e.symmetricTag("~~")),["stop","prevent"]))},"Strikethrough")])]),s("li",null,[s("u",null,[s("a",{href:"#!",onClick:r[9]||(r[9]=c((t=>e.symmetricTag("__")),["stop","prevent"]))},"Underline")])]),s("li",null,[s("a",{href:"#!",onClick:r[10]||(r[10]=c((t=>e.tag(">")),["stop","prevent"]))},"Quote")])])]),s("li",null,[s("a",{href:"#!",onClick:r[11]||(r[11]=c((t=>e.tag("\n\n-------\n\n")),["stop","prevent"]))},"HR")]),s("li",Ki,[Gi,s("ul",null,[s("li",null,[s("a",{href:"#!",onClick:r[12]||(r[12]=c((t=>e.tag("1. ")),["stop","prevent"])),class:"fas fa-list-ol"},"Ordered")]),s("li",null,[s("a",{href:"#!",onClick:r[13]||(r[13]=c((t=>e.tag("* ")),["stop","prevent"])),class:"fas fa-list-ul"},"Unordered")])])]),s("li",Ri,[_i,s("ul",null,[s("li",null,[s("a",{href:"#!",onClick:r[14]||(r[14]=c((t=>e.showImageFrame()),["stop","prevent"])),class:"fas fa-image"},"Image")]),s("li",null,[s("a",{href:"#!",onClick:r[15]||(r[15]=c((t=>e.showFileFrame()),["stop","prevent"])),class:"fas fa-link"},"File")])])])])]),u(s("textarea",{"onUpdate:modelValue":r[16]||(r[16]=t=>e.currentContent=t),id:"editorInput",name:"editorInput",class:"flex-item",style:{"min-height":"500px"},onKeyup:r[17]||(r[17]=(...t)=>e.keyup&&e.keyup(...t))},null,544),[[d,e.currentContent]])]),e.displayPreview?(t(),i("div",zi,[s("div",Wi,[s("h1",null,h(e.currentTitle),1),s("div",{innerHTML:e.compiledMarkdown},null,8,Yi)])])):m("v-if",!0),k(f,{"show-modal":e.displayFrame,"css-classes":"primary"},{header:S((()=>[e.IsImageInsert?(t(),i("div",Ji,"Image Insert")):m("v-if",!0),e.IsFileInsert?(t(),i("div",Qi,"File Insert")):m("v-if",!0)])),body:S((()=>[e.iframeSrc?(t(),i("iframe",{key:0,src:e.iframeSrc},null,8,Xi)):m("v-if",!0),e.iframeSrc?m("v-if",!0):(t(),i("div",Zi,[s("label",null,[er,u(s("input",{type:"url","onUpdate:modelValue":r[18]||(r[18]=t=>e.insertLink=t)},null,512),[[d,e.insertLink]])]),tr,s("input",{type:"button",value:"Insert",onClick:r[19]||(r[19]=(...t)=>e.insert&&e.insert(...t))})]))])),footer:S((()=>[s("input",{type:"button",class:"close right",value:"Close",onClick:r[20]||(r[20]=t=>e.displayFrame=!1)}),ir])),_:1},8,["show-modal"])])},Oi.__file="src/ts/Component/Editor/SimpleEditor.vue";let rr={bind:function(e){rr.onEventBound=rr.onEvent.bind({el:e}),document.addEventListener("click",rr.onEventBound)},cb:function(e){},onEvent:function(e){(e.target===this.el||this.el.contains(e.target)||rr.cb)&&rr.cb(e)},onEventBound:function(){},unbind:function(){document.removeEventListener("click",rr.onEventBound)},update:function(e,t){if("function"!=typeof t.value)throw new Error("Argument must be a function");rr.cb=t.value}};class sr{constructor(){this.hotkeys=new I,this.router=new L,this.validation=new B,this.validation.initialize(),this.errorLogger=new $,this.history=new H,this.localStorage=new U,this.sessionStorage=new j,this.request=new R("",""),window.addEventListener("keydown",(e=>this.hotkeys.press(e))),window.addEventListener("load",(e=>this.validation.initialize()),!1),window.onerror=(e,t,i,r,s)=>{this.errorLogger.onError(e.toString(),t,i,r,s)},this.errorLogger.setLoggingFunction(((e,t)=>{console.log(e)})),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var i=t>0?0|t:0;return this.substring(i,i+e.length)===e}}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{value:function(e,t){return this.replace(new RegExp(e,"g"),t)}}),Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),i=t.length>>>0,r=arguments[1],s=0;s<i;s++){var a=t[s];if(e.call(r,a,s,t))return a}},String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}SetupComponents(e){return e.component("clarity-modal",J),e.component("clarity-tabs",te),e.component("clarity-grid",me),e.component("clarity-form-validator",et),e.component("clarity-form-generator",Mi),e.component("clarity-form-field-complex",wi),e.component("clarity-form-field-complex-conditional",mi),e.component("clarity-form-field-complex-list",pi),e.component("clarity-form-field-complex-tabs",xi),e.component("clarity-form-field-input",st),e.component("clarity-form-field-select",yt),e.component("clarity-form-field-checkbox",wt),e.component("clarity-form-field-radio",It),e.component("clarity-form-field-textarea",Nt),e.component("clarity-form-field-text",zt),e.component("clarity-form-field-upload",Yt),e.component("clarity-form-field-buttons",ci),e.component("clarity-form-field-complex-repeater",Ti),e.component("clarity-form-validator",et),e.component("clarity-alert",Ii),e.component("clarity-content-loader",Vi),e.component("clarity-simple-editor",Oi),function(e){e.config.globalProperties.$filters={moment:function(e,t){return e?(t=t||"MM/D/YYYY h:mm:ss A",w(e,"YYYY-MM-DDThh:mm:ss").format(t)):"N/A"},capitalize:function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},maxsize:function(e,t){return e?e.substr(0,t)+"...":""},currency:function(e,t,i){return e?(t=t||"en-US",i=i||{style:"currency",currency:"USD"},Intl.NumberFormat(t,i).format(e)):""}}}(e),function(e){return e.directive("click-outside",rr),e}(e)}get instance(){return this}set instance(e){}}function ar(){window.clarity.instance=window.clarity.instance||new sr}export{sr as Clarity,G as DatabaseConnection,Y as Downloader,ae as Grid,I as Hotkeys,R as Request,_ as StorageMode,ar as init};
