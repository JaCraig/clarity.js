/**
 * Bundle of clarity
 * Generated: 2021-11-24
 * Version: 2.0.0
 * License: Apache-2.0
 * Author: James Craig
 */

!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("moment"),require("showdown")):"function"==typeof define&&define.amd?define(["exports","vue","moment","showdown"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).clarity={},e.Vue,e.moment,e.showdown)}(this,(function(e,t,r,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n,l,o=i(t),s=i(r),c=i(a);HTMLElement.prototype.getParentByClass=function(e){let t=this.parentElement;for(;t&&!t.hasClass(e);)t=t.parentElement;return t},HTMLElement.prototype.hasClass=function(e){return(" "+this.className+" ").indexOf(" "+e+" ")>-1},HTMLElement.prototype.replaceClass=function(e,t){let r=" "+this.className+" ";this.className=""===t?r.replace(new RegExp(" "+e+" ","gi")," ").trim():r.replace(new RegExp(" "+e+" ","gi")," "+t+" ").trim()},HTMLElement.prototype.toggleClass=function(e,t){this.hasClass(e)?this.replaceClass(e,t):this.replaceClass(t,e)},HTMLElement.prototype.removeClass=function(e){this.replaceClass(e,"")},HTMLElement.prototype.addClass=function(e){this.hasClass(e)||(this.className+=" "+e)},HTMLElement.prototype.show=function(){this.replaceClass("hidden","show"),this.addClass("show")},HTMLElement.prototype.hide=function(){this.replaceClass("show","hidden"),this.addClass("hidden")},HTMLElement.prototype.attribute=function(e,t=null){return null!=t?(this.setAttribute(e,t),t):this.getAttribute(e)},NodeList.prototype.map=function(e){let t=[];for(let r=0;r<this.length;++r)t=t.concat(e(this[r]));return t},NodeList.prototype.filter=function(e){let t=[];for(let r=0;r<this.length;++r)e(this[r])&&(t=t.concat(this[r]));return t},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");let r=Object(e);for(let e=1;e<arguments.length;e++){let t=arguments[e];if(null!=t)for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},writable:!0,configurable:!0}),String.prototype.slugify=function(){return this.trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")},String.prototype.stripHTML=function(){let e=document.createElement("div");return e.innerHTML=this,(e.textContent||e.innerText||"").replace(/^\s+|\s+$/g,"")},String.prototype.toNumber=function(){return null==this?0:parseFloat(this.stripHTML().replace(/[^0-9.-]/g,""))};class d{}d.keyMappings={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,META:91,"*":106,"+":107,MINUS:109,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLLLOCK:145,";":186,"=":187,"":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};class h{constructor(e){this.keys=this.getKeys(e)}getKeys(e){return e.toUpperCase().split(/-(?!$)/).map((e=>d.keyMappings[e]||e.charCodeAt(0)))}isPressed(e){let t=e;if(t.length!==this.keys.length)return!1;for(let e=0;e<t.length;++e)if(-1===this.keys.indexOf(t[e]))return!1;return!0}}class m{constructor(e,t){this.keyCodeSequence=e.toUpperCase(),this.keyCodes=e.toUpperCase().split(" ").map((e=>new h(e))),this.callback=t,this.length=this.keyCodes.length,this.isDefault="<*>"===e}call(e,t,r){return this.callback(t,{scope:r,keysPressed:e}),!0}press(e,t,r){let a=e;if(a.length!==this.length)return!1;for(let e=0;e<this.keyCodes.length;++e)if(!this.keyCodes[e].isPressed(a[e]))return!1;return this.call(e,t,r)}isPartial(e){let t=e;if(t.length>this.length)return!1;for(let e=0;e<t.length;++e)if(!this.keyCodes[e].isPressed(t[e]))return!1;return!0}}class u{constructor(e){this.name=e,this.sequences=[]}press(e,t){this.sequences=this.sequences.sort(((e,t)=>e.length>t.length?1:-1));for(let r=0;r<this.sequences.length;++r)if(this.sequences[r].press(e,t,this))return!0;return!1}callDefault(e,t){let r=this.sequences.filter((e=>e.isDefault));return 0!==r.length&&r[0].call(e,t,this)}isPartial(e){for(let t=0;t<this.sequences.length;++t)if(this.sequences[t].isPartial(e))return!0;return!1}addSequence(e,t){return this.removeSequence(e),this.sequences.push(new m(e,t)),this}removeSequence(e){return this.sequences=this.sequences.filter((t=>t.keyCodeSequence!==e.toUpperCase())),this}clear(){return this.sequences=[],this}}class p{constructor(){this.scopes={},this.scopes.Default=new u("Default"),this.currentScope=this.scopes.Default,this.filter=e=>{let t=(e.target||e.srcElement).tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},this.latestKeys=[]}setScope(e){let t=this.addScope(e);return this.currentScope=t,t}addScope(e){let t=this.scopes[e];return void 0!==t||(t=new u(e),this.scopes[e]=t),t}removeScope(e){return this.scopes[e]=void 0,"Default"===e&&(this.scopes.Default=new u("Default")),this.currentScope.name===e&&(this.currentScope=this.scopes.Default),this}clear(){return this.scopes={},this.scopes.Default=new u("Default"),this.currentScope=this.scopes.Default,this.latestKeys=[],this}bind(e,t){return this.currentScope.addSequence(e,t),this}unbind(e){return this.currentScope.removeSequence(e),this}press(e){if(!this.filter(e))return;let t=this.getKeys(e);this.latestKeys.push(t);let r=this.latestKeys.slice();if(this.currentScope.press(this.latestKeys,e))this.latestKeys=[];else{for(;this.latestKeys.length>0;){if(this.currentScope.isPartial(this.latestKeys))return;this.latestKeys.shift()}0===this.latestKeys.length&&this.currentScope.callDefault(r,e)}}getKeys(e){let t=[];return e.altKey&&t.push(d.keyMappings.ALT),e.ctrlKey&&t.push(d.keyMappings.CTRL),e.metaKey&&t.push(d.keyMappings.META),e.shiftKey&&t.push(d.keyMappings.SHIFT),-1===t.indexOf(e.keyCode)&&t.push(e.keyCode),t}}class f{}class g{constructor(e,t){this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e,this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){this.getValue(e),t[this.part]=this.getValue(e)}}class y{constructor(e,t){let r=e.split("=",2);this.key=r[0],e=r[1],this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){if(null==e)return!1;let t=e.split("=",2);return 2===t.length&&(this.key.toUpperCase()===t[0].toUpperCase()&&(void 0===(e=t[1])?this.optional:this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase()))}getValue(e){if(null==e)return this.defaultValue;let t=e.split("=",2);return 2!==t.length?this.defaultValue:(e=t[1],this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue)}setValue(e,t){this.getValue(e),t[this.key]=this.getValue(e)}}class k{constructor(e,t){e=e.replace(/[#!]/g,""),this.variable="{"===e.charAt(0)&&"}"===e.charAt(e.length-1),e=e.replace(/[{}]/g,""),this.optional="^"===e.charAt(0),this.part=e.replace(/[\^]/g,""),void 0!==t[this.part]?this.defaultValue=t[this.part]:this.defaultValue=""}isMatch(e){return null==e?this.optional:(e=e.replace(/[#!]/g,""),this.variable?this.optional||""!==e:this.optional||e.toUpperCase()===this.part.toUpperCase())}getValue(e){return this.variable?void 0!==e&&e||this.defaultValue:e||this.defaultValue}setValue(e,t){e=(e=e||"").replace(/[#!]/g,""),t[this.part]=this.getValue(e)}}class v{constructor(e,t,r){void 0===r&&(r=new f),this.url=this.fixUrl(e),this.pathParts=this.getPathParts(this.url).map((e=>new g(e,r))),this.pathParts=this.pathParts?this.pathParts:[],this.queryParts=this.getQueryParts(this.url).map((e=>new y(e,r))),this.queryParts=this.queryParts?this.queryParts:[],this.hashParts=this.getHashParts(this.url).map((e=>new k(e,r))),this.hashParts=this.hashParts?this.hashParts:[],this.callbacks=[t],this.defaultValues=r}isRoute(e){return this.url===this.fixUrl(e)}addCallback(e){this.callbacks.push(e)}removeCallback(e){this.callbacks=this.callbacks.filter((t=>t!==e))}fixUrl(e){return e.length?e.replace(/^\//,"").replace(/\/+/g,"/").replace(/^\/|\/($|\?)/,"").replace(/\/\#/g,"#"):e}getPathParts(e){return e.split("?",2)[0].split("#",2)[0].split("/")}getHashParts(e){let t=e.split("?",2)[0].split("#",2);return t.length<2?[]:[t[1].replace("!","")]}getQueryParts(e){let t=e.split("?",2);return t.length<2?[]:(e=t[1])?e.split("&"):[]}getParametersFromUrl(e,t,r){let a=new f;for(let t=0;t<e.length;++t)this.pathParts[t].setValue(e[t],a);for(let e=0;e<t.length;++e)this.queryParts[e].setValue(t[e],a);for(let e=0;e<r.length;++e)this.hashParts[e].setValue(r[e],a);if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)this.pathParts[t].setValue("",a);if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)this.queryParts[e].setValue("",a);if(this.hashParts.length>r.length)for(let e=r.length;e<this.hashParts.length;++e)this.hashParts[e].setValue("",a);return a}isMatch(e,t,r){if(this.pathParts.length<e.length)return!1;for(let t=0;t<e.length;++t)if(!this.pathParts[t].isMatch(e[t]))return!1;if(this.pathParts.length>e.length)for(let t=e.length;t<this.pathParts.length;++t)if(!this.pathParts[t].isMatch(""))return!1;if(this.queryParts.length<t.length)return!1;for(let e=0;e<t.length;++e)if(!this.queryParts[e].isMatch(t[e]))return!1;if(this.queryParts.length>t.length)for(let e=t.length;e<this.queryParts.length;++e)if(!this.queryParts[e].isMatch(""))return!1;if(this.hashParts.length<r.length)return!1;for(let e=0;e<r.length;++e)if(!this.hashParts[e].isMatch(r[e]))return!1;if(this.hashParts.length>r.length)for(let e=r.length;e<this.hashParts.length;++e)if(!this.hashParts[e].isMatch(""))return!1;return!0}run(e){e=this.fixUrl(e);let t=this.getPathParts(e),r=this.getQueryParts(e),a=this.getHashParts(e);if(!this.isMatch(t,r,a))return!1;let i=this.getParametersFromUrl(t,r,a);return i.url=e,this.callbacks.forEach((e=>e(i))),!0}}class C{constructor(){this.routes=[]}map(e){for(let t=0;t<e.length;++t)this.addRoute(e[t].url,e[t].action,e[t].defaultValues)}addRoute(e,t,r){let a=this.routes.filter((t=>t.isRoute(e)));return 0===a.length?this.routes.push(new v(e,t,r)):a[0].addCallback(t),this}run(e){for(let t=0;t<this.routes.length;++t)if(this.routes[t].run(e))return!0;return!1}}class E{constructor(){this.errors=[],this.messageAttributes={},this.messageAttributes.patternMismatch="data-error-message-pattern-mismatch",this.messageAttributes.rangeOverflow="data-error-message-range-overflow",this.messageAttributes.rangeUnderflow="data-error-message-range-underflow",this.messageAttributes.stepMismatch="data-error-message-step-mismatch",this.messageAttributes.tooLong="data-error-message-too-long",this.messageAttributes.tooShort="data-error-message-too-short",this.messageAttributes.badInput="data-error-message-bad-input",this.messageAttributes.typeMismatch="data-error-message-type-mismatch",this.messageAttributes.valueMissing="data-error-message-value-missing"}initialize(){let e=this.map(document.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let t=0;t<e.length;++t)"RADIO"===e[t].type.toUpperCase()||"CHECKBOX"===e[t].type.toUpperCase()?e[t].addEventListener("change",(e=>this.inputHandler(e.target))):e[t].addEventListener("input",(e=>this.inputHandler(e.target))),e[t].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let t=this.map(document.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)t[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let r=this.map(document.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<r.length;++e)r[e].addEventListener("change",(e=>this.selectHandler(e.target))),r[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}map(e,t){let r=[];for(let a=0;a<e.length;++a)r=r.concat(t(e[a]));return r}filter(e,t){let r=[];for(let a=0;a<e.length;++a)t(e[a])&&(r=r.concat(e[a]));return r}initializeForm(e){if(null==e)return;let t=this.map(e.getElementsByTagName("input"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<t.length;++e)"RADIO"===t[e].type.toUpperCase()||"CHECKBOX"===t[e].type.toUpperCase()?t[e].addEventListener("change",(e=>this.inputHandler(e.target))):t[e].addEventListener("input",(e=>this.inputHandler(e.target))),t[e].addEventListener("invalid",(e=>this.invalidInputHandler(e.target)));let r=this.map(e.getElementsByTagName("textarea"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<r.length;++e)r[e].addEventListener("change",(e=>this.textAreaHandler(e.target))),r[e].addEventListener("invalid",(e=>this.invalidTextAreaHandler(e.target)));let a=this.map(e.getElementsByTagName("select"),(e=>e)).filter((e=>e.willValidate));for(let e=0;e<a.length;++e)a[e].addEventListener("change",(e=>this.selectHandler(e.target))),a[e].addEventListener("invalid",(e=>this.invalidSelectHandler(e.target)))}invalidInputHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidTextAreaHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}invalidSelectHandler(e){if(!e.validity.valid){let t=this.getErrorMessages(e,e.validity);t.length>0&&e.setCustomValidity(t.join("\n"))}}inputHandler(e){if("RADIO"===e.type.toUpperCase()){let t=document.getElementsByName(e.name).map((e=>e));for(let e=0;e<t.length;++e)t[e].setCustomValidity("")}else e.setCustomValidity("");e.checkValidity()}textAreaHandler(e){e.setCustomValidity(""),e.checkValidity()}selectHandler(e){e.setCustomValidity(""),e.checkValidity()}validate(){let e=!0;this.errors=[];let t=this.filter(document.getElementsByTagName("input"),(e=>!this.validateInput(e)));e=e&&0===t.length;let r=this.filter(document.getElementsByTagName("select"),(e=>!this.validateSelect(e)));e=e&&0===r.length;let a=this.filter(document.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e)));return e=e&&0===a.length,e}validateForm(e){if(null==e)return[];let t=[];this.errors=[];let r=this.filter(e.getElementsByTagName("input"),(e=>!this.validateInput(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e]);let a=this.filter(e.getElementsByTagName("select"),(e=>!this.validateSelect(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<a.length;++e)t=t.concat(a[e]);let i=this.filter(e.getElementsByTagName("textarea"),(e=>!this.validateTextArea(e))).map((e=>this.getErrorMessages(e,e.validity))).filter((e=>0!==e.length));for(let e=0;e<i.length;++e)t=t.concat(i[e]);return t}validateElement(e){if(null==e)return[];let t=[];if("INPUT"!==e.tagName||this.validateInput(e))if("SELECT"!==e.tagName||this.validateSelect(e)){if("TEXTAREA"===e.tagName&&!this.validateTextArea(e)){let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}}else{let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}else{let r=this.getErrorMessages(e,e.validity).filter((e=>0!==e.length));for(let e=0;e<r.length;++e)t=t.concat(r[e])}return t}validateSelect(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}validateTextArea(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}getErrorMessages(e,t){let r=[];for(let a in this.messageAttributes)if(t[a]){let t=e.attribute(this.messageAttributes[a]);null!==t&&(r=r.concat(t))}if(0===r.length){let t=e.attribute("data-error-message");r=null!==t?r.concat(t):r.concat(e.validationMessage)}return r}validateInput(e){if(!e.checkValidity()){let t=this.getErrorMessages(e,e.validity);return 0!==t.length&&(this.errors=this.errors.concat(t)),!1}return!0}}class b{constructor(){this.params=[]}toString(){let e=this.params.length>0?"'"+this.params.join("', '")+"'":"";return this.name+"("+e+")"}}Function.prototype.trace=function(){for(var e=[],t=this;t;)e.push(t.signature()),t=t.caller;return e},Function.prototype.signature=function(){var e=new b;if(e.name=this.getName(),this.arguments)for(var t=0;t<this.arguments.length;t++)e.params.push(this.arguments[t]);return e},Function.prototype.getName=function(){if(this.name)return this.name;var e=this.toString().split("\n")[0],t=/^function ([^\s(]+).+/;return t.test(e)&&e.split("\n")[0].replace(t,"$1")||"anonymous"};class V{constructor(){this.logError=(e,t)=>{}}setLoggingFunction(e){this.logError=e}onError(e,t,r,a,i){var n;this.logError(e,null!==(n=null==i?void 0:i.stack)&&void 0!==n?n:"")}}class S{back(e){void 0===e&&(e=1),window.history.go(-1*e)}forward(e){void 0===e&&(e=1),window.history.go(e)}push(e,t,r){window.history.pushState(e,r,t)}replace(e,t,r){window.history.replaceState(e,r,t)}get state(){return window.history.state}get length(){return window.history.length}}class N{set(e,t){localStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return localStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}get length(){return localStorage.length}key(e){return localStorage.key(e)}getObject(e,t=null){let r=this.get(e);return r&&JSON.parse(r)||t}}class B{set(e,t){sessionStorage.setItem(e,t)}setObject(e,t){this.set(e,JSON.stringify(t))}get(e,t=""){return sessionStorage.getItem(e)||t}has(e){return null!==this.get(e,null)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}get length(){return sessionStorage.length}key(e){return sessionStorage.key(e)}getObject(e,t=null){let r=this.get(e);return r&&JSON.parse(r)||t}}
/*! *****************************************************************************
   Copyright (c) Microsoft Corporation.

   Permission to use, copy, modify, and/or distribute this software for any
   purpose with or without fee is hereby granted.

   THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
   REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
   AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
   INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
   LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
   OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
   PERFORMANCE OF THIS SOFTWARE.
   ***************************************************************************** */function x(e,t,r,a){return new(r||(r=Promise))((function(i,n){function l(e){try{s(a.next(e))}catch(e){n(e)}}function o(e){try{s(a.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))}class w{constructor(e,t,r){this.DBName=e,this.Version=r;let a=indexedDB.open(e,r);a.onupgradeneeded=e=>{this.database=e.target.result;for(let e=0;e<t.length;++e){let r=t[e];this.database.objectStoreNames.contains(r)&&this.database.deleteObjectStore(r),this.database.createObjectStore(r)}},a.onsuccess=e=>{this.database=e.target.result}}openDatabase(e){indexedDB.open(this.DBName,this.Version).onsuccess=t=>(this.database=t.target.result,e(this))}add(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).put(t,r)}remove(e,t){this.database.transaction(e,"readwrite").objectStore(e).delete(t)}getByKey(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=r}getKeys(e,t){this.database.transaction(e,"readwrite").objectStore(e).getAllKeys().onsuccess=t}get(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).get(t).onsuccess=r}getAll(e,t,r){this.database.transaction(e,"readwrite").objectStore(e).getAll(r).onsuccess=t}}class T{constructor(t,r,a){this.url=r,this.method=t.toUpperCase(),this.data=a,this.headers=new Headers,"GET"!==this.method&&"HEAD"!==this.method&&"DELETE"!==this.method&&"TRACE"!==this.method&&this.type("application/json"),this.accept("application/json"),this.parser=e=>e.json(),this.serializer=e=>JSON.stringify(e),this.storageMode=e.StorageMode.NetworkOnly,this.databaseName="ClarityStorage",this.cacheKey=this.url+this.serializer(this.data),this.credentials="same-origin"}static get(e,t){return T.makeRequest("GET",e,t)}static makeRequest(e,t,r){return new T(e,t,r)}static post(e,t){return T.makeRequest("POST",e,t)}static put(e,t){return T.makeRequest("PUT",e,t)}static delete(e,t){return T.makeRequest("DELETE",e,t)}onSuccess(e){return this.success=e,this}onError(e){return this.error=e,this}setHeader(e,t){return this.headers.set(e,t),this}setCacheKey(e){return this.cacheKey=e,this}setCredentials(e){return this.credentials=e,this}type(e){return this.setHeader("Content-Type",e)}accept(e){return this.setHeader("Accept",e)}setParser(e){return this.parser=e,this}setMode(e,t="ClarityStorage"){return this.databaseName=t,this.storageMode=e,this}setSerializer(e){return this.serializer=e,this}send(){return x(this,void 0,void 0,(function*(){null==this.error&&(this.error=e=>{}),null==this.success&&(this.success=e=>{});let t=this.serializer(this.data);if(this.storageMode===e.StorageMode.StorageFirst&&(T.returnValueFromDB(this.cacheKey,this.databaseName,this.success),this.queryNetwork(t,this.cacheKey,this.databaseName,(e=>{}),(e=>{T.saveValueToDB(e,this.cacheKey,this.databaseName)})),yield Promise.resolve("A")),this.storageMode===e.StorageMode.StorageAndUpdate)return T.returnValueFromDB(this.cacheKey,this.databaseName,this.success),void this.queryNetwork(t,this.cacheKey,this.databaseName,(e=>{}),(e=>{T.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}));this.storageMode!==e.StorageMode.NetworkFirst?this.queryNetwork(t,this.cacheKey,this.databaseName,(e=>{}),this.success):this.queryNetwork(t,this.cacheKey,this.databaseName,this.success,(e=>{T.saveValueToDB(e,this.cacheKey,this.databaseName),this.success(e)}))}))}static saveValueToDB(e,t,r){new w(r,["cache","cacheExpirations"],1).openDatabase((r=>{void 0!==e&&(r.add("cache",e,t),r.add("cacheExpirations",Date.now(),t))}))}queryNetwork(t,r,a,i,n){navigator.onLine?fetch(this.url,{credentials:this.credentials,method:this.method,body:t,headers:this.headers}).then(this.parser).then(n).catch(this.error):this.storageMode===e.StorageMode.NetworkFirst&&T.returnValueFromDB(r,a,i)}static returnValueFromDB(e,t,r){new w(t,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&r(t)}))}))}}e.StorageMode=void 0,(n=e.StorageMode||(e.StorageMode={}))[n.NetworkFirst=0]="NetworkFirst",n[n.StorageFirst=1]="StorageFirst",n[n.NetworkOnly=2]="NetworkOnly",n[n.StorageAndUpdate=3]="StorageAndUpdate";class D{static get domain(){return window.location.protocol+"//"+window.location.host+"/"}static get isLocal(){return/^https?:\/\/localhost:\d{1,5}\/$/.test(D.domain)}static GetQueryString(e){let t=window.location.href;var r=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return r?r[1]:null}static get HashBang(){return window.location.hash.replace("#!","")}static get Id(){return window.location.pathname.substring(window.location.pathname.lastIndexOf("/")+1)}}class M{static exportData(e,t,r=D.Id,a=l.CSV){if(0==e.length)return;r=r||D.Id;let i="";i=a===l.CSV?this.exportCSV(e,t,r):e.join(","),this.download(i,r)}static capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}static exportCSV(e,t,r){var a,i;let n="",l=Object.keys(e[0]),o="";for(let e=0;e<l.length;++e){let r=l[e],s=t.filter((function(e){return e.property===r}));0===s.length&&(s=[{display:r,property:r}]);let c=(null===(a=s[0])||void 0===a?void 0:a.display)||(null===(i=s[0])||void 0===i?void 0:i.property)||r;n+=o+'"'+this.capitalize(c)+'"',o=","}n+="\n";for(let t=0;t<e.length;++t){let r=e[t],a=Object.keys(r);o="";for(let e=0;e<a.length;++e)n+=o+'"'+r[a[e]].replaceAll('"',"'")+'"',o=",";n+="\n"}return n}static download(e,t){if(null!=e)if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([e]),t);else{var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}!function(e){e[e.CSV=0]="CSV"}(l||(l={}));var F=o.default.defineComponent({data:()=>({}),methods:{closeModal:function(){this.$emit("close")}},props:{cssClasses:String,showModal:{default:!1,type:Boolean}}});const I=t.createTextVNode("Header"),P={class:"body"},L=t.createTextVNode("Body"),A=t.createElementVNode("br",{class:"clear"},null,-1);F.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass({"clarity-modal":!0,show:e.showModal})},[t.createElementVNode("div",{class:t.normalizeClass(["panel",e.cssClasses])},[t.createElementVNode("header",null,[t.renderSlot(e.$slots,"header",{},(()=>[I]))]),t.createElementVNode("div",P,[t.renderSlot(e.$slots,"body",{},(()=>[L]))]),t.createElementVNode("footer",null,[t.renderSlot(e.$slots,"footer",{},(()=>[t.createElementVNode("input",{type:"button",class:"close right",value:"Close",onClick:r[0]||(r[0]=(...t)=>e.closeModal&&e.closeModal(...t))}),A]))])],2)],2)},F.__file="src/ts/Component/Modal/ClarityModal.vue";var O=o.default.defineComponent({methods:{findTab:function(e){return this.sections&&0!==this.sections.length?(e||(e=this.sections[0].name),this.sections.filter((t=>t.name===e))[0]):null},switchSelected:function(e){this.sectionPicked=this.findTab(e),this.switchTabs(),this.$emit("section-changed",this.sectionPicked)},switchTabs:function(){if(this.sections&&0!==this.sections.length&&(this.sections.some((e=>e===this.sectionPicked))||(this.sectionPicked=this.sections[0]),this.sectionPicked)){for(let e=0;e<this.sections.length;++e)this.sections[e].selected=!1;this.sectionPicked.selected=!0}}},props:{initialSectionPicked:{type:Object,default:{}},sections:{type:Array,default:[]}},watch:{sections:function(e){this.switchSelected(this.sectionPicked)},initialSectionPicked:function(e){this.switchSelected(this.initialSectionPicked)}},data(){return{sectionPicked:this.findTab(this.initialSectionPicked)}},beforeMount:function(){this.switchSelected(this.initialSectionPicked)}});const q={class:"clarity-tabs"},G={class:"row flex align-items-stretch"},H=["onClick"];var $,j,U,K;O.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",q,[t.createElementVNode("header",null,[t.createElementVNode("ul",G,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.sections,((r,a)=>(t.openBlock(),t.createElementBlock("li",{key:a},[t.createElementVNode("a",{href:"#!",onClick:t.withModifiers((t=>e.switchSelected(r.name)),["stop","prevent"]),class:t.normalizeClass(["tab",{selected:r.selected}])},[t.createElementVNode("span",{class:t.normalizeClass([r.icon])},null,2),t.createTextVNode(" "+t.toDisplayString(r.name),1)],10,H)])))),128))])]),t.createElementVNode("section",null,[t.renderSlot(e.$slots,"default")])])},O.__file="src/ts/Component/Tabs/ClarityTabs.vue",e.Grid=void 0,$=e.Grid||(e.Grid={}),(j=$.ColumnDataType||($.ColumnDataType={}))[j.String=0]="String",j[j.Image=1]="Image",j[j.Link=2]="Link",j[j.Number=3]="Number",j[j.Date=4]="Date",(U=$.FilterType||($.FilterType={}))[U.Dropdown=0]="Dropdown",U[U.Textbox=1]="Textbox",(K=$.ComparisonType||($.ComparisonType={}))[K.StartsWith=0]="StartsWith",K[K.Contains=1]="Contains",K[K.EndsWith=2]="EndsWith",K[K.Equals=3]="Equals",K[K.After=4]="After",K[K.AfterOrEqual=5]="AfterOrEqual",K[K.Before=6]="Before",K[K.BeforeOrEqual=7]="BeforeOrEqual";class z{constructor(){this.value="",this.comparison=e.Grid.ComparisonType.Contains,this.type=e.Grid.FilterType.Textbox,this.filtered=!1}}class R{constructor(e=!0,t="filteredTable"){this.saveFilters=!0,this.sourceName="filteredTable",this.saveFilters=e,this.sourceName=t}}class _{constructor(t,r,a){if(this.display="",this.dataType=e.Grid.ColumnDataType.String,this.sum=!1,this.locales="en-US",this.url="",this.filter=new z,this.sort=!1,this.sortDirection=1,this.default="",this.show=!0,null==t||null==r)return;if(null==a&&(a=new R),"string"==typeof t){let e=new _;e.property=t.replace(_.MultipleSpacesRegex,"").trim(),e.display=_.fixHeader(t),e.dataType=_.guessDataType(t,r),t=e}"property"in t&&(this.property=t.property.replace(_.MultipleSpacesRegex,"").trim());let i=[{name:"display",default:e=>_.fixHeader(e.property)},{name:"property",default:e=>e.display.replace(_.MultipleSpacesRegex,"").trim()},{name:"dataType",default:e=>_.guessDataType(e.property,r)},{name:"sum",default:e=>!1},{name:"locales",default:e=>"en-US"},{name:"format",default:e=>({})},{name:"url",default:e=>""},{name:"filter",default:e=>new z},{name:"sort",default:e=>!1},{name:"sortDirection",default:e=>1},{name:"default",default:e=>""},{name:"show",default:e=>!1}];for(let e=0;e<i.length;++e){let r=i[e];t.hasOwnProperty(r.name)?this[r.name]=t[r.name]:this[r.name]=r.default(this)}if("filter"in t){let r=[{name:"value",default:e=>""},{name:"comparison",default:t=>e.Grid.ComparisonType.Contains},{name:"type",default:t=>e.Grid.FilterType.Textbox},{name:"filtered",default:e=>!1}];for(let e=0;e<r.length;++e){let a=r[e];t.filter.hasOwnProperty(a.name)?this.filter[a.name]=t.filter[a.name]:this.filter[a.name]=a.default(this.filter)}_.returnValueFromDB(this.property,a,(e=>this.filter.value=e))}}saveFilter(e){_.saveValueToDB(this.filter.value,this.property,e)}formatValue(t){if(null!=t&&""!==t||(t=this.default),""===t)return t;if(this.dataType===e.Grid.ColumnDataType.String)return(null==t?void 0:t.toString().replace(/\n/gi,"<br />"))||"";let r=typeof t;if(this.dataType===e.Grid.ColumnDataType.Number){if("number"===r)return new Intl.NumberFormat(this.locales,this.format).format(t);if("string"===r)return new Intl.NumberFormat(this.locales,this.format).format(_.getNumber(t.stripHTML()))}else if(this.dataType===e.Grid.ColumnDataType.Date){if("number"===r)return new Intl.DateTimeFormat(this.locales,this.format).format(t);if("string"===r)return t=t.stripHTML(),1900===s.default(t).year()?"":new Intl.DateTimeFormat(this.locales,this.format).format(Date.parse(t))}else{if(this.dataType===e.Grid.ColumnDataType.Link)return"<a href='"+(t=t.stripHTML())+"'>"+t+"</a>";if(this.dataType===e.Grid.ColumnDataType.Image)return"<img src='"+(t=t.stripHTML())+"' alt='"+t+"'"+(this.default?" onerror='this.src=\""+this.default+"\"'":"")+" />"}return t}passesFilter(t){var r=(this.filter.value||"").toLowerCase();if(""===r)return!0;if(""===t)return!1;if(t=t.toLowerCase(),this.dataType===e.Grid.ColumnDataType.Date){let a=s.default(t),i=s.default(r);return this.filter.comparison===e.Grid.ComparisonType.After?a.isAfter(i):this.filter.comparison===e.Grid.ComparisonType.AfterOrEqual?a.isSameOrAfter(i):this.filter.comparison===e.Grid.ComparisonType.BeforeOrEqual?a.isSameOrBefore(i):this.filter.comparison===e.Grid.ComparisonType.Before?a.isBefore(i):a.isSame(i)}return this.filter.comparison===e.Grid.ComparisonType.After?t>r:this.filter.comparison===e.Grid.ComparisonType.AfterOrEqual?t>=r:this.filter.comparison===e.Grid.ComparisonType.BeforeOrEqual?t<=r:this.filter.comparison===e.Grid.ComparisonType.Before?t<r:this.filter.comparison===e.Grid.ComparisonType.Contains?t.indexOf(r)>-1:this.filter.comparison===e.Grid.ComparisonType.EndsWith?t.endsWith(r):this.filter.comparison===e.Grid.ComparisonType.StartsWith?t.startsWith(r):this.filter.comparison!==e.Grid.ComparisonType.Equals||t===r}static fixHeader(e){return e.replace("_"," ").replace("-"," ").replace(/([a-z])([A-Z])/g,"$1 $2")}static getNumber(e){return e?parseFloat(e.toString().replace(/[^0-9.-]/g,"")):0}static guessDataType(t,r){let a=document.createElement("div");for(let i=0;i<r.length;++i){if(!(t in r[i]))continue;let n=r[i][t].toString();if(a.innerHTML=n,n=(a.textContent||a.innerText||"").replace(this.isWhiteSpaceRegex,""),""!==n){if(n.match(this.imageRegex))return e.Grid.ColumnDataType.Image;if(n.match(this.urlRegex))return e.Grid.ColumnDataType.Link;if(n.match(this.numberRegex)&&!n.match(this.phoneRegex))return e.Grid.ColumnDataType.Number;if(n.match(this.dateRegex))return e.Grid.ColumnDataType.Date}}return e.Grid.ColumnDataType.String}static returnValueFromDB(e,t,r){t.saveFilters&&new w(t.sourceName,["cache","cacheExpirations"],1).openDatabase((t=>{t.getByKey("cache",e,(e=>{let t=e.target.result;void 0!==t&&r(t)}))}))}static saveValueToDB(e,t,r){r.saveFilters&&new w(r.sourceName,["cache","cacheExpirations"],1).openDatabase((r=>{void 0!==e&&(r.add("cache",e,t),r.add("cacheExpirations",Date.now(),t))}))}}_.dateRegex=/^((\d\d)?\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)(T\d\d:\d\d:\d\dZ?)?$/gi,_.numberRegex=/^-?[£$¤]?[\d,.]+%?$/,_.phoneRegex=/^\d\d\d.\d\d\d.\d\d\d\d$/,_.urlRegex=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,_.imageRegex=/^(http)?s?:?(\/\/[^"']*\.(?:png|jpg|jpeg|gif|png|svg))$/,_.isWhiteSpaceRegex=/^\s+|\s+$/g,_.MultipleSpacesRegex=/\s+/g;class W{constructor(e,t){let r=e[t.property.split(".").pop()];this.value=t.formatValue(this.replaceProperties(r,e)),this.url=this.getUrl(t.url,e)}getUrl(e,t){if(""===e||null==t)return"";let r=this.replaceProperties(e,t);for(;r.indexOf("{")>-1&&r.indexOf("}")>-1;)r=this.replaceProperties(r,t);return r}replaceProperties(e,t){if("string"!=typeof e||-1===e.indexOf("{")||-1===e.indexOf("}"))return e;let r=e.match(/{([^}]*)}/g);for(let a=0;a<r.length;++a){let i=r[a].replace("{","").replace("}",""),n=this.stripHTML(t[i])||"";e=e.replaceAll("{"+i+"}",n)}return e}stripHTML(e){let t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").replace(/^\s+|\s+$/g,"")}}class Y{constructor(e,t){this.column=e,this.data=this.getItems(t,e)}getItems(e,t){let r=this.getParentProperties(e,t.property),a=[];for(let e=0;e<r.length;++e){let i=r[e];a.push(new W(i,t))}return a}getParentProperties(e,t){if(!t)return[];let r=t.split("."),a=e[r[0]];if(1===r.length)return Array.isArray(e)?e:[e];let i=r.slice(1,r.length).join(".");if(Array.isArray(a)){let e=[];for(let t=0;t<a.length;++t)e=e.concat(this.getParentProperties(a[t],i));return e}return this.getParentProperties(a,i)}}class J{constructor(e,t){this.columns=[],this.originalData=[],this.originalData=e;for(let r=0;r<t.length;++r)this.columns.push(new Y(t[r],e))}}class Q{static sortDate(e,t){let r=s.default(e),a=s.default(t);return r.isValid()||(r=s.default(new Date(0))),a.isValid()||(a=s.default(new Date(0))),r.isBefore(a)?-1:r.isAfter(a)?1:0}static sortNumber(e,t){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e-t}static sortString(e,t){return e===t?0:e<t?-1:1}}var X=o.default.defineComponent({watch:{columns:function(e,t){this.internalColumns.length=0,this.internalColumns=this.getColumnInfos(e,this.data,this.databaseSettings),this.internalData=this.getData(this.internalData.map((e=>e.originalData)),this.internalColumns),this.filterChanged()},data:function(e,t){this.internalData.length=0,this.internalData=this.getData(e,this.internalColumns),this.filterChanged()}},computed:{anySum:function(){return this.internalColumns.some((e=>e.sum))},endPage:function(){let e=10*Math.floor((this.page-1)/10)+10;return e>this.finalPage?this.finalPage:e},filteredGroups:function(){var e;if(!this.groupBy)return[""];let t=this.filteredData,r=[];for(let e=0;e<t.length;++e){let a=t[e].originalData[this.groupBy];if(!a)continue;if(Array.isArray(a)){for(let e=0;e<a.length;++e){let t=a[e].toString();-1===r.indexOf(t)&&r.push(t)}continue}let i=a.toString();-1===r.indexOf(i)&&r.push(i)}let a=null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase();return r.filter((e=>-1!==e.toLowerCase().indexOf(a))).sort((function(e,t){return e===t?0:e<t?-1:1}))},filteredData:function(){var e;let t=this.filter(this.internalData,null===(e=this.filterKey)||void 0===e?void 0:e.toLowerCase());return this.sort(t,this.internalColumns,this.sortKey)},finalPage:function(){return-1===this.pageSize?1:Math.ceil(this.total/this.pageSize)},pageable:function(){return this.paged&&this.pageSize>0&&this.filteredData.length>this.pageSize},startPage:function(){return 10*Math.floor((this.page-1)/10)}},data:function(){let t=this,r=new R(this.saveFilters),a=t.getColumnInfos(this.columns,this.data,r),i=[];return i[e.Grid.ColumnDataType.String]=this.sortString,i[e.Grid.ColumnDataType.Number]=this.sortNumber,i[e.Grid.ColumnDataType.Date]=this.sortDate,{sortKey:-1,draggedColumn:null,internalColumns:a,databaseSettings:r,filterKey:t.filterValue,internalData:t.getData(this.data,a),sortMethods:i}},methods:{exportData:function(e){let t=[];if(""===this.groupBy){let e=this.filteredData;for(let r=0;r<e.length;++r){let a=e[r],i={};for(let e=0;e<a.columns.length;++e){i[a.columns[e].column.property]=a.columns[e].data.map((e=>e.value)).join(", ")}t.push(i)}}else{let e=this.filteredGroups;for(let r=0;r<e.length;++r){let a=e[r],i=this.getEntriesInGroup(a),n={};n[i[0].columns[0].column.property]=a;for(let e=1;e<i[0].columns.length;++e){n[i[0].columns[e].column.property]=""}t.push(n);for(let e=0;e<i.length;++e){let r=i[e],a={};for(let e=0;e<r.columns.length;++e){a[r.columns[e].column.property]=r.columns[e].data.map((e=>e.value)).join(", ")}t.push(a)}}}M.exportData(t,this.columns,this.exportInfo.fileName+"."+e,l.CSV)},filter:function(e,t){return t&&""===this.groupBy&&(e=e.filter((e=>e.columns.some((e=>e.data.some((e=>e.value.toLowerCase().indexOf(t)>-1))))))),e.filter((e=>e.columns.every((e=>e.data.map((e=>e.value)).some((t=>e.column.passesFilter(t)))))))},filterChanged:function(){this.$emit("data-updated",{data:this.filteredData})},getColumnInfos:function(e,t,r){return e.map((e=>new _(e,t,r)))},getData:function(e,t){return e.map((e=>new J(e,t)))},getDistinctValues:function(e){var t;let r=[""],a=this.filteredData;for(let i=0;i<a.length;++i){let n=(null===(t=a[i].columns.find((t=>t.column.property===e.property)))||void 0===t?void 0:t.data.map((e=>e.value)))||[];for(let e=0;e<n.length;++e)-1===r.indexOf(n[e])&&r.push(n[e])}return r.sort(Q.sortString)},getEntriesInGroup:function(e){let t=this.filteredData,r=this;return""===r.groupBy?t:t.filter((t=>r.isInGroup(t.originalData[r.groupBy],e)))},isInGroup:function(e,t){let r=this;return Array.isArray(e)?e.some((e=>r.isInGroup(e,t))):(null==e?void 0:e.toString())===t},rowClicked:function(e){for(let e=0;e<this.internalColumns.length;++e){let t=this.internalColumns[e];t.filter&&void 0!==t.filter.value&&t.saveFilter(this.databaseSettings)}this.$emit("row-clicked",{entry:e})},setPage:function(e){e>this.finalPage?e=this.finalPage:e<1&&(e=1);let t=this.internalColumns[this.sortKey],r=(null==t?void 0:t.sortDirection)||0;this.$emit("pagechange",{page:e,filter:this.filterKey,sort:this.sortKey,direction:r})},sort:function(e,t,r){if(!this.sortable)return e;let a=this.sortKey;for(let r=0;r<t.length;++r){let a=t[r];a.sort&&(this.sortKey=r,e=e.sort(this.sortMethods[a.dataType]))}if(this.sortKey=a,-1===r)return e;let i=t[r];return e=e.sort(this.sortMethods[i.dataType]),1===i.sortDirection?e.reverse():e},sortBy:function(e,t){this.sortKey=t,e.sortDirection=-1*e.sortDirection,this.$emit("pagechange",{page:this.page,filter:this.filterKey,sort:this.sortKey,direction:e.sortDirection})},sortDate:function(e,t){var r,a;let i=(null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"",n=(null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"";return Q.sortDate(new Date(i),new Date(n))},sortNumber:function(e,t){var r,a;let i=((null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"").toString().toNumber(),n=((null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"").toString().toNumber();return Q.sortNumber(i,n)},sortString:function(e,t){var r,a;let i=(null===(r=e.columns[this.sortKey].data[0])||void 0===r?void 0:r.value)||"",n=(null===(a=t.columns[this.sortKey].data[0])||void 0===a?void 0:a.value)||"";return Q.sortString(i,n)},sumColumn:function(e,t){if(!t.sum)return"";let r=this.getEntriesInGroup(e);return t.formatValue(r.map((e=>{var r;return null===(r=e.originalData[t.property])||void 0===r?void 0:r.toString().toNumber()})).reduce(((e,t)=>e+t)))}},props:{columns:{default:[],type:Array},data:{default:[],type:Array},groupBy:{default:"",type:String},page:{default:1,type:Number},paged:{default:!1,type:Boolean},pageSize:{default:-1,type:Number},total:{default:0,type:Number},saveFilters:{default:!0,type:Boolean},searchable:{default:!0,type:Boolean},showCount:{default:!0,type:Boolean},sortable:{default:!0,type:Boolean},quickNav:{default:!1,type:Boolean},filterValue:{default:"",type:String},exportInfo:{default:{exportable:!0,fileName:D.Id},type:Object}}});const Z={class:"clarity-grid"},ee={class:"panel"},te={class:"body"},re={key:0,class:"right do-not-print flex column"},ae={class:"no-border"},ie=t.createElementVNode("td",null," Search: ",-1),ne=t.createElementVNode("td",null," Export: ",-1),le={key:1,class:"do-not-print"},oe=t.createTextVNode(" Show "),se=[t.createStaticVNode('<option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="-1">All</option>',6)],ce=t.createTextVNode(" entries "),de={key:2,class:"quick-nav do-not-print"},he={class:"inline"},me=t.createElementVNode("li",null,"Quick nav:",-1),ue=["href"],pe=t.createElementVNode("br",{class:"clear"},null,-1),fe={class:"sortable",id:"filteredTable"},ge=["onClick","columnName"],ye={key:0},ke={key:0,class:"do-not-print"},ve=["type","placeholder","onUpdate:modelValue","list"],Ce=["id"],Ee={key:1,class:"do-not-print"},be=["onUpdate:modelValue"],Ve={key:0,class:"grid-group-header"},Se=["colspan"],Ne=["id"],Be=["onClick"],xe=["innerHTML"],we=["innerHTML","href"],Te={key:1,class:"grid-group-footer"},De=["colspan"],Me={key:2,class:"grid-group-footer"},Fe=["innerHTML"],Ie={key:0,class:"do-not-print"},Pe=["colspan"],Le={class:"right"},Ae={class:"paged"},Oe=["onClick"],qe={key:0,class:"do-not-print"};X.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",Z,[t.createElementVNode("div",ee,[t.createElementVNode("div",te,[e.searchable?(t.openBlock(),t.createElementBlock("div",re,[t.createElementVNode("table",ae,[t.createElementVNode("tbody",null,[t.createElementVNode("tr",null,[ie,t.createElementVNode("td",null,[t.withDirectives(t.createElementVNode("input",{type:"text",placeholder:"Filter Entries","onUpdate:modelValue":r[0]||(r[0]=t=>e.filterKey=t),onKeyup:r[1]||(r[1]=(...t)=>e.filterChanged&&e.filterChanged(...t))},null,544),[[t.vModelText,e.filterKey]])])]),t.createElementVNode("tr",null,[ne,t.createElementVNode("td",null,[e.exportInfo.exportable?(t.openBlock(),t.createElementBlock("a",{key:0,href:"#!",class:"fas fa-file-csv",onClick:r[2]||(r[2]=t=>e.exportData("CSV"))})):t.createCommentVNode("v-if",!0)])])])])])):t.createCommentVNode("v-if",!0),e.paged?(t.openBlock(),t.createElementBlock("span",le,[oe,t.withDirectives(t.createElementVNode("select",{"onUpdate:modelValue":r[3]||(r[3]=t=>e.pageSize=t)},se,512),[[t.vModelSelect,e.pageSize]]),ce])):t.createCommentVNode("v-if",!0),e.quickNav&&e.filteredGroups?(t.openBlock(),t.createElementBlock("div",de,[t.createElementVNode("ul",he,[me,(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.filteredGroups,(e=>(t.openBlock(),t.createElementBlock("li",{key:e},[t.createElementVNode("a",{href:"#"+e},t.toDisplayString(e),9,ue)])))),128))])])):t.createCommentVNode("v-if",!0),pe])]),t.createElementVNode("table",fe,[t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.internalColumns,((a,i)=>(t.openBlock(),t.createElementBlock("th",{key:a,onClick:t=>e.sortBy(a,i),class:t.normalizeClass({active:e.sortKey==i,headerSortUp:e.sortKey==i&&a.sortDirection>0,headerSortDown:e.sortKey==i&&a.sortDirection<0}),columnName:a.property},[t.createTextVNode(t.toDisplayString(e.$filters.capitalize(a.display))+" ",1),a.filter.filtered?(t.openBlock(),t.createElementBlock("div",ye,[1==a.filter.type?(t.openBlock(),t.createElementBlock("div",ke,[t.withDirectives(t.createElementVNode("input",{type:a.filter.type,placeholder:a.filter.placeholder,"onUpdate:modelValue":e=>a.filter.value=e,list:a.property,onClick:r[4]||(r[4]=t.withModifiers((()=>{}),["stop","prevent"])),onKeyup:r[5]||(r[5]=(...t)=>e.filterChanged&&e.filterChanged(...t))},null,40,ve),[[t.vModelDynamic,a.filter.value]]),t.createElementVNode("datalist",{id:a.property},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.getDistinctValues(a),(e=>(t.openBlock(),t.createElementBlock("option",{key:e},t.toDisplayString(e),1)))),128))],8,Ce)])):t.createCommentVNode("v-if",!0),0==a.filter.type?(t.openBlock(),t.createElementBlock("div",Ee,[t.withDirectives(t.createElementVNode("select",{"onUpdate:modelValue":e=>a.filter.value=e,onClick:r[6]||(r[6]=t.withModifiers((()=>{}),["stop","prevent"])),onChange:r[7]||(r[7]=(...t)=>e.filterChanged&&e.filterChanged(...t))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.getDistinctValues(a),(e=>(t.openBlock(),t.createElementBlock("option",{key:e},t.toDisplayString(e),1)))),128))],40,be),[[t.vModelSelect,a.filter.value]])])):t.createCommentVNode("v-if",!0)])):t.createCommentVNode("v-if",!0)],10,ge)))),128))])]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.filteredGroups,(r=>(t.openBlock(),t.createElementBlock("tbody",{key:r},[""!==r?(t.openBlock(),t.createElementBlock("tr",Ve,[t.createElementVNode("td",{colspan:e.internalColumns.length},[t.createElementVNode("a",{id:r},null,8,Ne),t.createTextVNode(t.toDisplayString(r),1)],8,Se)])):t.createCommentVNode("v-if",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.getEntriesInGroup(r),((r,a)=>(t.openBlock(),t.createElementBlock("tr",{key:a,onClick:t=>e.rowClicked(r)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.columns,(e=>(t.openBlock(),t.createElementBlock("td",{key:e,class:t.normalizeClass(r.style)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.data,(e=>(t.openBlock(),t.createElementBlock("div",{key:e},[e.url?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:e.value},null,8,xe)),e.url?(t.openBlock(),t.createElementBlock("a",{key:1,innerHTML:e.value,href:e.url},null,8,we)):t.createCommentVNode("v-if",!0)])))),128))],2)))),128))],8,Be)))),128)),e.anySum?(t.openBlock(),t.createElementBlock("tr",Te,[t.createElementVNode("td",{colspan:e.internalColumns.length},"Totals:",8,De)])):t.createCommentVNode("v-if",!0),e.anySum?(t.openBlock(),t.createElementBlock("tr",Me,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.internalColumns,(a=>(t.openBlock(),t.createElementBlock("td",{innerHTML:e.sumColumn(r,a),key:a},null,8,Fe)))),128))])):t.createCommentVNode("v-if",!0)])))),128)),e.pageable?(t.openBlock(),t.createElementBlock("tfoot",Ie,[t.createElementVNode("tr",null,[t.createElementVNode("td",{colspan:e.internalColumns.length},[t.createElementVNode("div",Le,"Page "+t.toDisplayString(e.page)+" of "+t.toDisplayString(e.finalPage),1),t.createElementVNode("ul",Ae,[t.createElementVNode("li",{class:t.normalizeClass(["cursor-pointer fas fa-fast-backward text-center",{disabled:1==e.page}]),onClick:r[8]||(r[8]=t=>e.setPage(1))},null,2),t.createElementVNode("li",{class:t.normalizeClass(["cursor-pointer fas fa-step-backward text-center",{disabled:1==e.page}]),onClick:r[9]||(r[9]=t=>e.setPage(e.page-1))},null,2),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.endPage-e.startPage,(r=>(t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(["cursor-pointer text-center",{active:e.page==e.startPage+r}]),onClick:t=>e.setPage(e.startPage+r),key:r},t.toDisplayString(e.startPage+r),11,Oe)))),128)),t.createElementVNode("li",{class:t.normalizeClass(["cursor-pointer fas fa-step-forward text-center",{disabled:e.page==e.finalPage}]),onClick:r[10]||(r[10]=t=>e.setPage(e.page+1))},null,2),t.createElementVNode("li",{class:t.normalizeClass(["cursor-pointer fas fa-fast-forward text-center",{disabled:e.page==e.finalPage}]),onClick:r[11]||(r[11]=t=>e.setPage(e.finalPage))},null,2)])],8,Pe)])])):t.createCommentVNode("v-if",!0)]),e.showCount?(t.openBlock(),t.createElementBlock("div",qe," Filtered count: "+t.toDisplayString(e.filteredData.length),1)):t.createCommentVNode("v-if",!0)])},X.__file="src/ts/Component/Grid/ClarityGrid.vue";var Ge=o.default.defineComponent({data:()=>({errorMessages:[],formValidator:new E}),mounted(){this.$nextTick((function(){this.revalidate()}))},methods:{revalidate:function(){if(null==this.$el)return!0;let e=this.getParentForm(this.$el);if(null==e&&!this.formValidator.validate())return this.errorMessages=this.formValidator.errors,!1;let t=this.formValidator.validateForm(e);return t.length>0?(this.errorMessages=t,!1):(this.errorMessages=[],!0)},getParentForm:function(e){let t=e.parentNode;return"FORM"===t.nodeName||null===t?t:this.getParentForm(t)}}});const He={class:"panel error clarity-validator"},$e=t.createElementVNode("a",{name:"errorSection"},null,-1),je=t.createTextVNode("Some Errors Were Discovered");Ge.render=function(e,r,a,i,n,l){return t.withDirectives((t.openBlock(),t.createElementBlock("div",He,[$e,t.createElementVNode("header",null,[t.renderSlot(e.$slots,"default",{},(()=>[je]))]),t.createElementVNode("ul",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.errorMessages,(e=>(t.openBlock(),t.createElementBlock("li",{key:e},t.toDisplayString(e),1)))),128))])],512)),[[t.vShow,e.errorMessages.length>0]])},Ge.__file="src/ts/Component/FormValidation/ClarityFormValidator.vue";var Ue=o.default.defineComponent({data:function(){let e;if("date"===this.schema.inputType||"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType||"month"===this.schema.inputType){let t=s.default(this.model);this.schema.isUTC&&(t=s.default.utc(this.model).local()),"date"===this.schema.inputType?e=t.format("YYYY-MM-DD"):"datetime-local"===this.schema.inputType||"datetime"===this.schema.inputType?e=t.format("YYYY-MM-DDTHH:mm"):"month"===this.schema.inputType&&(e=t.format("YYYY-MM"))}else e=this.model;return{count:0,timer:0,internalmodel:e}},props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.schema.datalistUrl&&(0!==t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){T.post(t.schema.datalistUrl,{value:e,queryCount:++t.count}).onSuccess((function(e){e&&(e.queryCount&&e.queryCount==t.count?t.schema.datalist=e.value:e.queryCount||(t.schema.datalist=e))})).onError((function(e){t.$emit("error",e)})).send()}),100)),this.$emit("changed",e,this.schema)},getList:function(){return void 0!==this.schema.datalist?this.getFieldID()+"-list":null},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Ke=["for"],ze={key:0,class:"error clear-background"},Re={key:1,class:"clear-background active no-border small"},_e=t.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),We=["for"],Ye={key:0,class:"error clear-background"},Je={key:1,class:"clear-background active no-border small"},Qe=t.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Xe=["id","type","disabled","accept","alt","autocomplete","checked","dirname","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","title","readonly","required","size","src","step","width","files","data-error-message-value-missing","data-error-message-pattern-mismatch","data-error-message-range-overflow","data-error-message-range-underflow","data-error-message-step-mismatch","data-error-message-too-long","data-error-message-too-short","data-error-message-bad-input","data-error-message-type-mismatch"],Ze={key:2,class:"text-center"},et=["id"],tt=["value"];Ue.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[!e.schema.label&&e.label?(t.openBlock(),t.createElementBlock("label",{key:0,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",ze,"*")):t.createCommentVNode("v-if",!0),e.schema.hint?(t.openBlock(),t.createElementBlock("i",Re,[_e,t.createTextVNode(t.toDisplayString(e.schema.hint),1)])):t.createCommentVNode("v-if",!0)],10,Ke)):t.createCommentVNode("v-if",!0),e.schema.label&&e.label?(t.openBlock(),t.createElementBlock("label",{key:1,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.schema.label)+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",Ye,"*")):t.createCommentVNode("v-if",!0),e.schema.hint?(t.openBlock(),t.createElementBlock("i",Je,[Qe,t.createTextVNode(t.toDisplayString(e.schema.hint),1)])):t.createCommentVNode("v-if",!0)],10,We)):t.createCommentVNode("v-if",!0),t.withDirectives(t.createElementVNode("input",{id:e.getFieldID(),type:e.schema.inputType,"onUpdate:modelValue":r[0]||(r[0]=t=>e.internalmodel=t),onInput:r[1]||(r[1]=t=>e.changed(t.target.value)),disabled:e.schema.disabled,accept:e.schema.accept,alt:e.schema.alt,autocomplete:e.schema.autocomplete,checked:e.schema.checked,dirname:e.schema.dirname,formaction:e.schema.formaction,formenctype:e.schema.formenctype,formmethod:e.schema.formmethod,formnovalidate:e.schema.formnovalidate,formtarget:e.schema.formtarget,height:e.schema.height,list:e.getList(),max:e.schema.max,maxlength:e.schema.maxlength,min:e.schema.min,minlength:e.schema.minlength,multiple:e.schema.multiple,name:e.schema.inputName||e.getFieldID(),pattern:e.schema.pattern,placeholder:e.schema.placeholder,title:e.schema.placeholder,readonly:e.schema.readonly,required:e.schema.required,size:e.schema.size,src:e.schema.src,step:e.schema.step,width:e.schema.width,files:e.schema.files,class:t.normalizeClass(e.schema.inputClasses),"data-error-message-value-missing":e.schema.errorMessageValueMissing,"data-error-message-pattern-mismatch":e.schema.errorMessagePatternMismatch,"data-error-message-range-overflow":e.schema.errorMessageRangeOverflow,"data-error-message-range-underflow":e.schema.errorMessageRangeUnderflow,"data-error-message-step-mismatch":e.schema.errorMessageStepMismatch,"data-error-message-too-long":e.schema.errorMessageTooLong,"data-error-message-too-short":e.schema.errorMessageTooShort,"data-error-message-bad-input":e.schema.errorMessageBadInput,"data-error-message-type-mismatch":e.schema.errorMessageTypeMismatch},null,42,Xe),[[t.vModelDynamic,e.internalmodel]]),"color"===e.schema.inputType||"range"===e.schema.inputType?(t.openBlock(),t.createElementBlock("div",Ze,t.toDisplayString(e.internalmodel),1)):t.createCommentVNode("v-if",!0),e.schema.datalist?(t.openBlock(),t.createElementBlock("datalist",{key:3,id:e.getList()},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.datalist,(e=>(t.openBlock(),t.createElementBlock("option",{value:e,key:e},null,8,tt)))),128))],8,et)):t.createCommentVNode("v-if",!0)])},Ue.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldInput.vue";var rt=o.default.defineComponent({props:{model:Object,schema:Object,label:{default:!0,type:Boolean},idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)},isSelected:function(e){return this.model===e.key},getValues:function(e){if(!e)return null;let t=e;Array.isArray(e)&&(t=e[0]);let r=Object.getOwnPropertyNames(t);for(let a=0;a<r.length;++a){if("key"===r[a])return e;let i=this.getValues(t[r[a]]);if(i)return i}return null}},beforeMount:function(){if(!this.schema.valuesUrl)return;let e=this;T.post(e.schema.valuesUrl,e.schema.valuesUrlData).onSuccess((function(t){if(!t)return;let r=e.getValues(t);r&&(e.schema.values=r)})).onError((function(t){e.$emit("error",t)})).send()}});const at=["for"],it={key:0,class:"error clear-background"},nt=["for"],lt={key:0,class:"error clear-background"},ot=["disabled","name","height","id","readonly","required","multiple","width","data-error-message-value-missing"],st=["value","selected"];rt.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[!e.schema.label&&e.label?(t.openBlock(),t.createElementBlock("label",{key:0,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",it,"*")):t.createCommentVNode("v-if",!0)],10,at)):t.createCommentVNode("v-if",!0),e.schema.label&&e.label?(t.openBlock(),t.createElementBlock("label",{key:1,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.schema.label)+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",lt,"*")):t.createCommentVNode("v-if",!0)],10,nt)):t.createCommentVNode("v-if",!0),t.withDirectives(t.createElementVNode("select",{"onUpdate:modelValue":r[0]||(r[0]=t=>e.model=t),disabled:e.schema.disabled,name:e.schema.inputName||e.getFieldID(),height:e.schema.height,id:e.getFieldID(),onChange:r[1]||(r[1]=t=>e.changed(e.model)),readonly:e.schema.readonly,required:e.schema.required,multiple:e.schema.multiple,class:t.normalizeClass(e.schema.inputClasses),width:e.schema.width,"data-error-message-value-missing":e.schema.errorMessageValueMissing},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.values,(r=>(t.openBlock(),t.createElementBlock("option",{value:r.key,selected:e.isSelected(r),key:r.key},t.toDisplayString(r.value),9,st)))),128))],42,ot),[[t.vModelSelect,e.model]])])},rt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldSelect.vue";var ct=o.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const dt=["id","checked","disabled","dirname","name","readonly","required","data-error-message-value-missing"],ht=["for"],mt={key:0,class:"error clear-background"},ut=["for"],pt={key:0,class:"error clear-background"};ct.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("input",{id:e.getFieldID(),type:"checkbox",checked:e.model,onClick:r[0]||(r[0]=t=>e.changed(t.target.checked)),disabled:e.schema.disabled,dirname:e.schema.dirname,name:e.schema.inputName||e.getFieldID(),readonly:e.schema.readonly,required:e.schema.required,"data-error-message-value-missing":e.schema.errorMessageValueMissing,class:t.normalizeClass(e.schema.inputClasses)},null,10,dt),e.schema.label?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createElementBlock("label",{key:0,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",mt,"*")):t.createCommentVNode("v-if",!0)],10,ht)),e.schema.label?(t.openBlock(),t.createElementBlock("label",{key:1,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.schema.label)+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",pt,"*")):t.createCommentVNode("v-if",!0)],10,ut)):t.createCommentVNode("v-if",!0)])},ct.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldCheckbox.vue";var ft=o.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(e){let t="";return t=this.schema.id?this.schema.id:this.schema.model.slugify(),t+="-"+e,void 0!==this.idSuffix&&(t+=this.idSuffix),t},getFieldName:function(){return this.schema.id?this.schema.id:this.schema.model.slugify()},changed:function(e){this.model=e,this.$emit("changed",e,this.schema)},isItemChecked:function(e){return this.getItemValue(e)===this.model},getItemValue:function(e){return e},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const gt={class:"flex row text-center"},yt=["id","checked","onClick","disabled","name","readonly"],kt=["for"];ft.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",gt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.values,(r=>(t.openBlock(),t.createElementBlock("div",{key:r},[t.createElementVNode("input",{id:e.getFieldID(r),type:"radio",checked:e.isItemChecked(r),onClick:t=>e.changed(r),disabled:e.schema.disabled,name:e.schema.inputName||e.getFieldName(),readonly:e.schema.readonly,class:t.normalizeClass(e.schema.inputClasses)},null,10,yt),t.createElementVNode("label",{for:e.getFieldID(r)},t.toDisplayString(e.$filters.capitalize(r)),9,kt)])))),128))])},ft.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldRadio.vue";var vt=o.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String,label:{default:!0,type:Boolean}},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){this.$emit("changed",e,this.schema)}}});const Ct=["for"],Et={key:0,class:"error clear-background"},bt={key:1,class:"clear-background active no-border small"},Vt=t.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),St=["for"],Nt={key:0,class:"error clear-background"},Bt={key:1,class:"clear-background active no-border small"},xt=t.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),wt=["id","disabled","height","maxlength","minlength","name","placeholder","title","readonly","required","width","rows","data-error-message-value-missing","data-error-message-too-long","data-error-message-too-short"],Tt={key:2,class:"clear-background active right small"},Dt=t.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Mt=t.createElementVNode("br",{class:"clear"},null,-1);vt.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[!e.schema.label&&e.label?(t.openBlock(),t.createElementBlock("label",{key:0,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",Et,"*")):t.createCommentVNode("v-if",!0),e.schema.hint?(t.openBlock(),t.createElementBlock("i",bt,[Vt,t.createTextVNode(t.toDisplayString(e.schema.hint),1)])):t.createCommentVNode("v-if",!0)],10,Ct)):t.createCommentVNode("v-if",!0),e.schema.label&&e.label?(t.openBlock(),t.createElementBlock("label",{key:1,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.schema.label)+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",Nt,"*")):t.createCommentVNode("v-if",!0),e.schema.hint?(t.openBlock(),t.createElementBlock("i",Bt,[xt,t.createTextVNode(t.toDisplayString(e.schema.hint),1)])):t.createCommentVNode("v-if",!0)],10,St)):t.createCommentVNode("v-if",!0),t.withDirectives(t.createElementVNode("textarea",{id:e.getFieldID(),"onUpdate:modelValue":r[0]||(r[0]=t=>e.model=t),onInput:r[1]||(r[1]=t=>e.changed(t.target.value)),disabled:e.schema.disabled,height:e.schema.height,maxlength:e.schema.maxlength,minlength:e.schema.minlength,name:e.schema.inputName||e.getFieldID(),placeholder:e.schema.placeholder,title:e.schema.placeholder,readonly:e.schema.readonly,class:t.normalizeClass(e.schema.inputClasses),required:e.schema.required,width:e.schema.width,rows:e.schema.rows||3,"data-error-message-value-missing":e.schema.errorMessageValueMissing,"data-error-message-too-long":e.schema.errorMessageTooLong,"data-error-message-too-short":e.schema.errorMessageTooShort},"\r\n        ",42,wt),[[t.vModelText,e.model]]),e.schema.maxlength?(t.openBlock(),t.createElementBlock("div",Tt,[Dt,t.createTextVNode(" "+t.toDisplayString(e.schema.maxlength-e.model.length)+" characters remaining ("+t.toDisplayString(e.schema.maxlength)+" max) ",1)])):t.createCommentVNode("v-if",!0),Mt])},vt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldTextarea.vue";var Ft=o.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{}});const It=["innerHTML"];Ft.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.schema.classes),innerHTML:e.model||e.schema.model},null,10,It)},Ft.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldText.vue";var Pt=o.default.defineComponent({data:()=>({files:[],ready:!1,filesAdded:0}),props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldID:function(){let e="";return e=this.schema.id?this.schema.id:this.schema.model.slugify(),void 0!==this.idSuffix&&(e+=this.idSuffix),e},changed:function(e){let t=this;t.filesAdded=t.filesAdded+e.target.files.length,t.ready=!1;for(let r=0;r<e.target.files.length;++r){let a=new FileReader;a.onload=function(e){return function(r){t.files=t.files.concat({filename:e,data:t.base64ArrayBuffer(a.result)}),t.files.length===t.filesAdded&&(t.ready=!0)}}(e.target.files[r].name),a.readAsArrayBuffer(e.target.files[r])}this.check()},base64ArrayBuffer:function(e){let t="",r=new Uint8Array(e),a=r.byteLength;for(let e=0;e<a;++e)t+=String.fromCharCode(r[e]);return window.btoa(t)},check:function(){!0!==this.ready?setTimeout(this.check,100):this.$emit("changed",this.files,this.schema)},removeFile:function(e){let t=this.files.indexOf(e);this.files.splice(t,1),this.filesAdded--},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Lt=["for"],At={key:0,class:"error clear-background"},Ot={key:1,class:"clear-background active no-border small"},qt=t.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Gt=["for"],Ht={key:0,class:"error clear-background"},$t={key:1,class:"clear-background active no-border small"},jt=t.createElementVNode("span",{class:"fas fa-info-circle"},null,-1),Ut=["accept","id","multiple","name","required","data-error-message-value-missing"],Kt={class:"flex"},zt=["onClick"],Rt=t.createTextVNode(" "),_t={class:"body"};Pt.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[e.schema.label?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createElementBlock("label",{key:0,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.$filters.capitalize(e.schema.model))+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",At,"*")):t.createCommentVNode("v-if",!0),e.schema.hint?(t.openBlock(),t.createElementBlock("i",Ot,[qt,t.createTextVNode(t.toDisplayString(e.schema.hint),1)])):t.createCommentVNode("v-if",!0)],10,Lt)),e.schema.label?(t.openBlock(),t.createElementBlock("label",{key:1,for:e.getFieldID(),class:t.normalizeClass(e.schema.labelClasses)},[t.createTextVNode(t.toDisplayString(e.schema.label)+" ",1),e.schema.required?(t.openBlock(),t.createElementBlock("span",Ht,"*")):t.createCommentVNode("v-if",!0),e.schema.hint?(t.openBlock(),t.createElementBlock("i",$t,[jt,t.createTextVNode(t.toDisplayString(e.schema.hint),1)])):t.createCommentVNode("v-if",!0)],10,Gt)):t.createCommentVNode("v-if",!0),t.createElementVNode("div",{class:t.normalizeClass(["file-upload",e.schema.inputClasses])},[t.createTextVNode(t.toDisplayString(e.schema.placeholder)+" ",1),t.createElementVNode("input",{accept:e.schema.accept,id:e.getFieldID(),onChange:r[0]||(r[0]=t=>e.changed(t)),multiple:e.schema.multiple,name:e.schema.inputName||e.getFieldID(),required:e.schema.required,type:"file","data-error-message-value-missing":e.schema.errorMessageValueMissing},null,40,Ut)],2),t.createElementVNode("div",Kt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.files,(r=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["upload-preview panel",e.schema.previewClasses]),key:e.generateGuid(r)},[t.createElementVNode("header",null,[t.createElementVNode("div",{class:"header",onClick:t=>e.removeFile(r)},"×",8,zt),Rt]),t.createElementVNode("div",_t,t.toDisplayString(r.filename),1)],2)))),128))])])},Pt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldUpload.vue";var Wt=o.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{click:function(e,t){return this.$emit("click",e,t),!1},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Yt={class:"controls"},Jt={class:"input-group"},Qt=["type","value","onClick"];Wt.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",Yt,[t.createElementVNode("div",Jt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.buttons,(r=>(t.openBlock(),t.createElementBlock("input",{key:e.generateGuid(r),type:r.type,value:r.value,class:t.normalizeClass(r.classes),onClick:t=>e.click(t,r)},null,10,Qt)))),128))])])},Wt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldButtons.vue";var Xt=o.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{show:function(e){return"function"==typeof e?e():e},getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const Zt={key:0};Xt.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[e.show(e.model.display||e.schema.display)?(t.openBlock(),t.createElementBlock("div",Zt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.fields,(r=>(t.openBlock(),t.createElementBlock("div",{key:e.generateGuid(r)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.getFieldType(r)),{schema:e.getSchema(r),model:e.getModelValue(r),"id-suffix":e.getIDSuffix(r),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])):t.createCommentVNode("v-if",!0)])},Xt.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexConditional.vue";var er=o.default.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,r){t[e.model]=r,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const tr={key:0},rr={key:1},ar=["data-tooltip"],ir=[t.createElementVNode("span",{class:"fas fa-info-circle no-border small"},null,-1)],nr=t.createElementVNode("th",null,null,-1),lr=["onClick"],or=["colspan"];er.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("table",{class:t.normalizeClass(["form-table",e.schema.tableClasses])},[t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.fields,(r=>(t.openBlock(),t.createElementBlock("th",{key:e.generateGuid(r)},[r.label?(t.openBlock(),t.createElementBlock("span",tr,t.toDisplayString(e.$filters.capitalize(r.label)),1)):(t.openBlock(),t.createElementBlock("span",rr,t.toDisplayString(e.$filters.capitalize(r.model)),1)),e.getSchema(r).hint?(t.openBlock(),t.createElementBlock("span",{key:2,"data-tooltip":e.getSchema(r).hint,"data-tooltip-size":"extra-large"},ir,8,ar)):t.createCommentVNode("v-if",!0)])))),128)),nr])]),t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,((r,a)=>(t.openBlock(),t.createElementBlock("tr",{key:e.generateGuid(r)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.fields,(i=>(t.openBlock(),t.createElementBlock("td",{key:e.generateGuid(i)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.getFieldType(i)),{schema:e.getSchema(i),model:e.getModelValue(i,r),label:!1,"id-suffix":e.getIDSuffix(i,a),onChanged:t=>e.setModelValue(i,r,t),onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128)),t.createElementVNode("td",null,[t.createElementVNode("a",{class:"fas fa-minus-circle",onClick:t.withModifiers((t=>e.removeItem(r)),["stop","prevent"])},null,8,lr)])])))),128))]),t.createElementVNode("tfoot",null,[t.createElementVNode("tr",null,[t.createElementVNode("td",{colspan:e.schema.fields.length+1},[t.createElementVNode("a",{class:"fas fa-plus-circle",onClick:r[0]||(r[0]=t.withModifiers(((...t)=>e.addItem&&e.addItem(...t)),["stop","prevent"]))},"Add More")],8,or)])])],2)])},er.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexList.vue";var sr=o.default.defineComponent({data(){return{tabPicked:this.schema.tabs[0]}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},tabChanged:function(e){this.tabPicked=e},getFields:function(){return this.tabPicked.fields},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});sr.render=function(e,r,a,i,n,l){const o=t.resolveComponent("clarity-tabs");return t.openBlock(),t.createElementBlock("div",null,[t.createVNode(o,{sections:e.schema.tabs,onSectionChanged:e.tabChanged,class:t.normalizeClass(e.schema.tabClasses)},{default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.getFields(),(r=>(t.openBlock(),t.createElementBlock("div",{key:e.generateGuid(r)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.getFieldType(r)),{schema:e.getSchema(r),model:e.getModelValue(r),"id-suffix":e.getIDSuffix(r),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])),_:1},8,["sections","onSectionChanged","class"])])},sr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexTabs.vue";var cr=o.default.defineComponent({props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e){return this.model[e.model]},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},setModelValue:function(e,t){this.model[t.model]=e,this.$emit("changed",this.model,this.schema)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},getIDSuffix:function(e){return void 0===this.idSuffix?"":this.idSuffix},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});cr.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.fields,(r=>(t.openBlock(),t.createElementBlock("div",{key:e.generateGuid(r)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.getFieldType(r)),{schema:e.getSchema(r),model:e.getModelValue(r),"id-suffix":e.getIDSuffix(r),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])},cr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplex.vue";var dr=o.default.defineComponent({data:function(){let e={};for(let t in this.model[0])this.model[0].hasOwnProperty(t)&&(e[t]="");return{defaultItem:e}},props:{model:Object,schema:Object,idSuffix:String},methods:{getFieldType:function(e){return"clarity-form-field-"+e.type},getModelValue:function(e,t){return t[e.model]},setModelValue:function(e,t,r){t[e.model]=r,this.$emit("changed",this.model,this.schema)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.$emit("click",e,t)},getSchema:function(e){return e.type.startsWith("complex")?(void 0===e.schema.model&&(e.schema.model=e.model),e.schema):e},removeItem:function(e){if(this.schema.confirmRemoval&&!confirm("Are you sure you want to remove this item?"))return;this.model||(this.model=[]);let t=this.model.indexOf(e);this.model.splice(t,1),this.$emit("changed",this.model,this.schema)},addItem:function(e){this.model||(this.model=[]),this.model=this.model.concat(Object.assign({},this.defaultItem)),this.$emit("changed",this.model,this.schema)},getIDSuffix:function(e,t){return void 0===this.idSuffix?t:this.idSuffix+t},generateGuid:function(e){let t=e.key;if(t)return t;let r="";for(let e=0;e<32;e++){r+=Math.floor(16*Math.random()).toString(16).toUpperCase()}return e.key=r,e.key}}});const hr=["onClick"];dr.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,((r,a)=>(t.openBlock(),t.createElementBlock("div",{key:e.generateGuid(r),class:"border-bottom"},[t.createElementVNode("a",{class:"fas fa-minus-circle right",onClick:t.withModifiers((t=>e.removeItem(r)),["stop","prevent"])},null,8,hr),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.schema.fields,(i=>(t.openBlock(),t.createElementBlock("div",{key:e.generateGuid(i)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.getFieldType(i)),{schema:e.getSchema(i),model:e.getModelValue(i,r),label:!0,"id-suffix":e.getIDSuffix(i,a),onChanged:t=>e.setModelValue(i,r,t),onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","id-suffix","onChanged","onClick","onError","onException"]))])))),128))])))),128)),t.createElementVNode("a",{class:"fas fa-plus-circle",onClick:r[0]||(r[0]=t.withModifiers(((...t)=>e.addItem&&e.addItem(...t)),["stop","prevent"]))},"Add More")])},dr.__file="src/ts/Component/FormGenerator/Fields/ClarityFormFieldComplexRepeater.vue";var mr=o.default.defineComponent({components:{"clarity-form-field-complex":cr,"clarity-form-field-complex-conditional":Xt,"clarity-form-field-complex-list":er,"clarity-form-field-complex-tabs":sr,"clarity-form-field-input":Ue,"clarity-form-field-select":rt,"clarity-form-field-checkbox":ct,"clarity-form-field-radio":ft,"clarity-form-field-textarea":vt,"clarity-form-field-text":Ft,"clarity-form-field-upload":Pt,"clarity-form-field-buttons":Wt,"clarity-form-field-complex-repeater":dr,"clarity-form-validator":Ge},data:function(){return{submitting:!1}},props:{schema:Object,model:Object,action:{default:"",type:String},ajaxAction:{default:"",type:String}},methods:{revalidate:function(){return this.$refs.validation.revalidate()},setModelValue:function(e,t){this.model=e,this.revalidate(),this.$emit("changed",this.model)},error:function(e){this.$emit("error",e)},exception:function(e){this.$emit("exception",e)},buttonClicked:function(e,t){this.revalidate(),this.$emit("click",e,t)},reset:function(){let e=this;setTimeout((function(){e.revalidate()}),100)},submit:function(e){let t=this;return!t.revalidate()||t.submitting?(e.preventDefault(),!1):(t.submitting=!0,!t.ajaxAction||(T.post(t.ajaxAction,t.model).onSuccess((function(e){t.submitting=!1,t.$emit("success",e)})).onError((function(e){t.submitting=!1,t.$emit("error",e)})).send(),e.preventDefault(),!1))},getIDSuffix:function(){return""}},watch:{model:function(e,t){t!==e&&null!==e&&this.$nextTick((()=>{this.revalidate()}))}}});const ur=["action"],pr=t.createTextVNode("The following errors were found");mr.render=function(e,r,a,i,n,l){const o=t.resolveComponent("clarity-form-validator"),s=t.resolveComponent("clarity-form-field-complex");return t.openBlock(),t.createElementBlock("form",{action:e.action,class:"stacked clarity-form",onReset:r[0]||(r[0]=(...t)=>e.reset&&e.reset(...t)),onSubmit:r[1]||(r[1]=(...t)=>e.submit&&e.submit(...t)),method:"post"},[t.createVNode(o,{ref:"validation"},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"validationHeader",{},(()=>[pr]))])),_:3},512),t.createVNode(s,{schema:e.schema,model:e.model,idSuffix:e.getIDSuffix(),onChanged:e.setModelValue,onClick:e.buttonClicked,onError:e.error,onException:e.exception},null,8,["schema","model","idSuffix","onChanged","onClick","onError","onException"])],40,ur)},mr.__file="src/ts/Component/FormGenerator/ClarityFormGenerator.vue";var fr=o.default.defineComponent({props:{show:{type:Boolean,default:!1}}});const gr={class:"clarity-alert alert"};fr.render=function(e,r,a,i,n,l){return t.openBlock(),t.createBlock(t.Transition,{name:"fade"},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",gr,[t.renderSlot(e.$slots,"default")],512),[[t.vShow,e.show]])])),_:3})},fr.__file="src/ts/Component/Alert/ClarityAlert.vue";var yr=o.default.defineComponent({data:function(){return{content:"",loaded:!1}},props:{url:{type:String,default:""}},beforeMount:function(){if(!this.url)return;let t=this,r=this.url,a="",i=r.match(/[\s#]/),n=null!=i?i.index:-1;-1!=n&&(a=r.substring(n+(" "==i[0]?1:0)),r=r.substring(0,n)),r&&T.get(r).type("text/html").setParser((e=>e.text())).setMode(e.StorageMode.StorageAndUpdate).onSuccess((e=>{if(a.length){let r=document.createElement("div");r.innerHTML=e;let i=r.querySelectorAll(a);if(i.length>0)return void(t.content=i[0].outerHTML)}t.content=e,t.loaded=!0})).send()}});const kr=["innerHTML","data-loaded"];var vr;yr.render=function(e,r,a,i,n,l){return t.openBlock(),t.createElementBlock("div",{class:"clarity-content-loader",innerHTML:e.content,"data-loaded":e.loaded},null,8,kr)},yr.__file="src/ts/Component/ContentLoader/ClarityContentLoader.vue",function(e){e[e.Image=0]="Image",e[e.File=1]="File"}(vr||(vr={}));var Cr=o.default.defineComponent({components:{"clarity-modal":F},props:{title:{type:String,default:""},content:{type:String,default:""},iframeImageSrc:{type:String,default:""},iframeFileSrc:{type:String,default:""},preview:{type:Boolean,default:!0},mentionsFormat:{type:String,default:""}},data:function(){return{currentTitle:this.title,currentContent:this.content,displayFrame:!1,iframeSrc:"",displayPreview:this.preview,converter:new c.default.Converter({tables:!0,strikethrough:!0,emoji:!0,underline:!0,ghMentions:!!this.mentionsFormat,ghMentionsLink:this.mentionsFormat}),insertType:vr.Image,insertLink:""}},mounted:function(){let e=this;window.addEventListener("message",(function(t){if("string"!=typeof t.data)return;let r=JSON.parse(t.data);e.insertLink=r.href,e.insert()}))},computed:{compiledMarkdown:function(){return this.markdown(this.currentContent)},IsImageInsert:function(){return this.insertType==vr.Image},IsFileInsert:function(){return this.insertType==vr.File}},methods:{insert:function(){this.displayFrame=!1,this.insertLink&&(this.insertType==vr.Image?this.imageTag(this.insertLink):this.linkTag(this.insertLink))},showImageFrame:function(){this.showFrame(vr.Image)},showFileFrame:function(){this.showFrame(vr.File)},showFrame:function(e){this.displayFrame=!0,this.insertType=e,e===vr.Image?this.iframeSrc=this.iframeImageSrc:this.iframeSrc=this.iframeFileSrc},markdown:function(e){return e?this.converter.makeHtml(e):e},keyup:function(){this.$emit("keyup",{content:this.currentContent})},cancel:function(){this.$emit("cancel")},tag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i=e+this.currentContent.substring(r,a);this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},symmetricTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i=e+this.currentContent.substring(r,a)+e;this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},linkTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i="["+this.currentContent.substring(r,a)+"]("+e+")";this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()},imageTag:function(e){let t=document.getElementById("editorInput");if(!t)return;let r=t.selectionStart,a=t.selectionEnd,i="!["+this.currentContent.substring(r,a)+"]("+e+")";this.currentContent=this.currentContent.substring(0,r)+i+this.currentContent.substring(a,this.currentContent.length),t.focus()}}});const Er={class:"flex row clarity-simple-editor"},br={class:"flex-item flex justify-space-between column wrap",id:"editorRawInput"},Vr={class:"menu pill flex-item"},Sr={class:"item has-children"},Nr=t.createElementVNode("a",{href:"#!"},"Header",-1),Br={class:"item has-children"},xr=t.createElementVNode("a",{href:"#!"},"Format",-1),wr={class:"item has-children"},Tr=t.createElementVNode("a",{href:"#!"},"List",-1),Dr={class:"item has-children"},Mr=t.createElementVNode("a",{href:"#!"},"File",-1),Fr={key:0,class:"flex-item panel",id:"editorCompiledInput"},Ir={class:"body"},Pr=["innerHTML"],Lr={key:0},Ar={key:1},Or=["src"],qr={key:1},Gr=t.createTextVNode(" URL: "),Hr=t.createElementVNode("br",null,null,-1),$r=t.createElementVNode("br",{class:"clear"},null,-1);Cr.render=function(e,r,a,i,n,l){const o=t.resolveComponent("clarity-modal");return t.openBlock(),t.createElementBlock("div",Er,[t.createElementVNode("div",br,[t.createElementVNode("nav",Vr,[t.createElementVNode("ul",null,[t.createElementVNode("li",Sr,[Nr,t.createElementVNode("ul",null,[t.createElementVNode("li",null,[t.createElementVNode("h1",null,[t.createElementVNode("a",{href:"#!",onClick:r[0]||(r[0]=t.withModifiers((t=>e.tag("#")),["stop","prevent"]))},"Header 1")])]),t.createElementVNode("li",null,[t.createElementVNode("h2",null,[t.createElementVNode("a",{href:"#!",onClick:r[1]||(r[1]=t.withModifiers((t=>e.tag("##")),["stop","prevent"]))},"Header 2")])]),t.createElementVNode("li",null,[t.createElementVNode("h3",null,[t.createElementVNode("a",{href:"#!",onClick:r[2]||(r[2]=t.withModifiers((t=>e.tag("###")),["stop","prevent"]))},"Header 3")])]),t.createElementVNode("li",null,[t.createElementVNode("h4",null,[t.createElementVNode("a",{href:"#!",onClick:r[3]||(r[3]=t.withModifiers((t=>e.tag("####")),["stop","prevent"]))},"Header 4")])]),t.createElementVNode("li",null,[t.createElementVNode("h5",null,[t.createElementVNode("a",{href:"#!",onClick:r[4]||(r[4]=t.withModifiers((t=>e.tag("#####")),["stop","prevent"]))},"Header 5")])]),t.createElementVNode("li",null,[t.createElementVNode("h6",null,[t.createElementVNode("a",{href:"#!",onClick:r[5]||(r[5]=t.withModifiers((t=>e.tag("######")),["stop","prevent"]))},"Header 6")])])])]),t.createElementVNode("li",Br,[xr,t.createElementVNode("ul",null,[t.createElementVNode("li",null,[t.createElementVNode("strong",null,[t.createElementVNode("a",{href:"#!",onClick:r[6]||(r[6]=t.withModifiers((t=>e.symmetricTag("**")),["stop","prevent"]))},"Bold")])]),t.createElementVNode("li",null,[t.createElementVNode("em",null,[t.createElementVNode("a",{href:"#!",onClick:r[7]||(r[7]=t.withModifiers((t=>e.symmetricTag("*")),["stop","prevent"]))},"Italics")])]),t.createElementVNode("li",null,[t.createElementVNode("del",null,[t.createElementVNode("a",{href:"#!",onClick:r[8]||(r[8]=t.withModifiers((t=>e.symmetricTag("~~")),["stop","prevent"]))},"Strikethrough")])]),t.createElementVNode("li",null,[t.createElementVNode("u",null,[t.createElementVNode("a",{href:"#!",onClick:r[9]||(r[9]=t.withModifiers((t=>e.symmetricTag("__")),["stop","prevent"]))},"Underline")])]),t.createElementVNode("li",null,[t.createElementVNode("a",{href:"#!",onClick:r[10]||(r[10]=t.withModifiers((t=>e.tag(">")),["stop","prevent"]))},"Quote")])])]),t.createElementVNode("li",null,[t.createElementVNode("a",{href:"#!",onClick:r[11]||(r[11]=t.withModifiers((t=>e.tag("\n\n-------\n\n")),["stop","prevent"]))},"HR")]),t.createElementVNode("li",wr,[Tr,t.createElementVNode("ul",null,[t.createElementVNode("li",null,[t.createElementVNode("a",{href:"#!",onClick:r[12]||(r[12]=t.withModifiers((t=>e.tag("1. ")),["stop","prevent"])),class:"fas fa-list-ol"},"Ordered")]),t.createElementVNode("li",null,[t.createElementVNode("a",{href:"#!",onClick:r[13]||(r[13]=t.withModifiers((t=>e.tag("* ")),["stop","prevent"])),class:"fas fa-list-ul"},"Unordered")])])]),t.createElementVNode("li",Dr,[Mr,t.createElementVNode("ul",null,[t.createElementVNode("li",null,[t.createElementVNode("a",{href:"#!",onClick:r[14]||(r[14]=t.withModifiers((t=>e.showImageFrame()),["stop","prevent"])),class:"fas fa-image"},"Image")]),t.createElementVNode("li",null,[t.createElementVNode("a",{href:"#!",onClick:r[15]||(r[15]=t.withModifiers((t=>e.showFileFrame()),["stop","prevent"])),class:"fas fa-link"},"File")])])])])]),t.withDirectives(t.createElementVNode("textarea",{"onUpdate:modelValue":r[16]||(r[16]=t=>e.currentContent=t),id:"editorInput",name:"editorInput",class:"flex-item",style:{"min-height":"500px"},onKeyup:r[17]||(r[17]=(...t)=>e.keyup&&e.keyup(...t))},null,544),[[t.vModelText,e.currentContent]])]),e.displayPreview?(t.openBlock(),t.createElementBlock("div",Fr,[t.createElementVNode("div",Ir,[t.createElementVNode("h1",null,t.toDisplayString(e.currentTitle),1),t.createElementVNode("div",{innerHTML:e.compiledMarkdown},null,8,Pr)])])):t.createCommentVNode("v-if",!0),t.createVNode(o,{"show-modal":e.displayFrame,"css-classes":"primary"},{header:t.withCtx((()=>[e.IsImageInsert?(t.openBlock(),t.createElementBlock("div",Lr,"Image Insert")):t.createCommentVNode("v-if",!0),e.IsFileInsert?(t.openBlock(),t.createElementBlock("div",Ar,"File Insert")):t.createCommentVNode("v-if",!0)])),body:t.withCtx((()=>[e.iframeSrc?(t.openBlock(),t.createElementBlock("iframe",{key:0,src:e.iframeSrc},null,8,Or)):t.createCommentVNode("v-if",!0),e.iframeSrc?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createElementBlock("div",qr,[t.createElementVNode("label",null,[Gr,t.withDirectives(t.createElementVNode("input",{type:"url","onUpdate:modelValue":r[18]||(r[18]=t=>e.insertLink=t)},null,512),[[t.vModelText,e.insertLink]])]),Hr,t.createElementVNode("input",{type:"button",value:"Insert",onClick:r[19]||(r[19]=(...t)=>e.insert&&e.insert(...t))})]))])),footer:t.withCtx((()=>[t.createElementVNode("input",{type:"button",class:"close right",value:"Close",onClick:r[20]||(r[20]=t=>e.displayFrame=!1)}),$r])),_:1},8,["show-modal"])])},Cr.__file="src/ts/Component/Editor/SimpleEditor.vue";let jr={bind:function(e){jr.onEventBound=jr.onEvent.bind({el:e}),document.addEventListener("click",jr.onEventBound)},cb:function(e){},onEvent:function(e){(e.target===this.el||this.el.contains(e.target)||jr.cb)&&jr.cb(e)},onEventBound:function(){},unbind:function(){document.removeEventListener("click",jr.onEventBound)},update:function(e,t){if("function"!=typeof t.value)throw new Error("Argument must be a function");jr.cb=t.value}};class Ur{constructor(){this.hotkeys=new p,this.router=new C,this.validation=new E,this.validation.initialize(),this.errorLogger=new V,this.history=new S,this.localStorage=new N,this.sessionStorage=new B,this.request=new T("",""),window.addEventListener("keydown",(e=>this.hotkeys.press(e))),window.addEventListener("load",(e=>this.validation.initialize()),!1),window.onerror=(e,t,r,a,i)=>{this.errorLogger.onError(e.toString(),t,r,a,i)},this.errorLogger.setLoggingFunction(((e,t)=>{console.log(e)})),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var r=t>0?0|t:0;return this.substring(r,r+e.length)===e}}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{value:function(e,t){return this.replace(new RegExp(e,"g"),t)}}),Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),r=t.length>>>0,a=arguments[1],i=0;i<r;i++){var n=t[i];if(e.call(a,n,i,t))return n}},String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}SetupComponents(e){return e.component("clarity-modal",F),e.component("clarity-tabs",O),e.component("clarity-grid",X),e.component("clarity-form-validator",Ge),e.component("clarity-form-generator",mr),e.component("clarity-form-field-complex",cr),e.component("clarity-form-field-complex-conditional",Xt),e.component("clarity-form-field-complex-list",er),e.component("clarity-form-field-complex-tabs",sr),e.component("clarity-form-field-input",Ue),e.component("clarity-form-field-select",rt),e.component("clarity-form-field-checkbox",ct),e.component("clarity-form-field-radio",ft),e.component("clarity-form-field-textarea",vt),e.component("clarity-form-field-text",Ft),e.component("clarity-form-field-upload",Pt),e.component("clarity-form-field-buttons",Wt),e.component("clarity-form-field-complex-repeater",dr),e.component("clarity-form-validator",Ge),e.component("clarity-alert",fr),e.component("clarity-content-loader",yr),e.component("clarity-simple-editor",Cr),function(e){e.config.globalProperties.$filters={moment:function(e,t){return e?(t=t||"MM/D/YYYY h:mm:ss A",s.default(e,"YYYY-MM-DDThh:mm:ss").format(t)):"N/A"},capitalize:function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},maxsize:function(e,t){return e?e.substr(0,t)+"...":""},currency:function(e,t,r){return e?(t=t||"en-US",r=r||{style:"currency",currency:"USD"},Intl.NumberFormat(t,r).format(e)):""}}}(e),function(e){return e.directive("click-outside",jr),e}(e)}get instance(){return this}set instance(e){}}e.Clarity=Ur,e.DatabaseConnection=w,e.Downloader=M,e.Hotkeys=p,e.Request=T,e.init=function(){window.clarity.instance=window.clarity.instance||new Ur},Object.defineProperty(e,"__esModule",{value:!0})}));
